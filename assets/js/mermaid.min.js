(function(wA,d0){typeof exports=="object"&&typeof module<"u"?module.exports=d0():typeof define=="function"&&define.amd?define(d0):(wA=typeof globalThis<"u"?globalThis:wA||self,wA.mermaid=d0())})(this,function(){"use strict";function wA(i){for(var a=[],f=1;f<arguments.length;f++)a[f-1]=arguments[f];var p=Array.from(typeof i=="string"?[i]:i);p[p.length-1]=p[p.length-1].replace(/\r?\n([\t ]*)$/,"");var v=p.reduce(function(E,_){var L=_.match(/\n([\t ]+|(?!\s).)/g);return L?E.concat(L.map(function(N){var B,j;return(j=(B=N.match(/[\t ]/g))===null||B===void 0?void 0:B.length)!==null&&j!==void 0?j:0})):E},[]);if(v.length){var m=new RegExp(`
[	 ]{`+Math.min.apply(Math,v)+"}","g");p=p.map(function(E){return E.replace(m,`
`)})}p[0]=p[0].replace(/^\r?\n/,"");var b=p[0];return a.forEach(function(E,_){var L=b.match(/(?:^|\n)( *)$/),N=L?L[1]:"",B=E;typeof E=="string"&&E.includes(`
`)&&(B=String(E).split(`
`).map(function(j,R){return R===0?j:""+N+j}).join(`
`)),b+=B+p[_+1]}),b}var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B7(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ILt={exports:{}};(function(i,a){(function(f,p){i.exports=p()})(d0,function(){var f=1e3,p=6e4,v=36e5,m="millisecond",b="second",E="minute",_="hour",L="day",N="week",B="month",j="quarter",R="year",z="date",K="Invalid Date",it=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,st=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ut={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(nt){var Ot=["th","st","nd","rd"],Nt=nt%100;return"["+nt+(Ot[(Nt-20)%10]||Ot[Nt]||Ot[0])+"]"}},bt=function(nt,Ot,Nt){var qt=String(nt);return!qt||qt.length>=Ot?nt:""+Array(Ot+1-qt.length).join(Nt)+nt},mt={s:bt,z:function(nt){var Ot=-nt.utcOffset(),Nt=Math.abs(Ot),qt=Math.floor(Nt/60),Ct=Nt%60;return(Ot<=0?"+":"-")+bt(qt,2,"0")+":"+bt(Ct,2,"0")},m:function nt(Ot,Nt){if(Ot.date()<Nt.date())return-nt(Nt,Ot);var qt=12*(Nt.year()-Ot.year())+(Nt.month()-Ot.month()),Ct=Ot.clone().add(qt,B),Z=Nt-Ct<0,Tt=Ot.clone().add(qt+(Z?-1:1),B);return+(-(qt+(Nt-Ct)/(Z?Ct-Tt:Tt-Ct))||0)},a:function(nt){return nt<0?Math.ceil(nt)||0:Math.floor(nt)},p:function(nt){return{M:B,y:R,w:N,d:L,D:z,h:_,m:E,s:b,ms:m,Q:j}[nt]||String(nt||"").toLowerCase().replace(/s$/,"")},u:function(nt){return nt===void 0}},yt="en",dt={};dt[yt]=ut;var ht=function(nt){return nt instanceof U},wt=function nt(Ot,Nt,qt){var Ct;if(!Ot)return yt;if(typeof Ot=="string"){var Z=Ot.toLowerCase();dt[Z]&&(Ct=Z),Nt&&(dt[Z]=Nt,Ct=Z);var Tt=Ot.split("-");if(!Ct&&Tt.length>1)return nt(Tt[0])}else{var Ht=Ot.name;dt[Ht]=Ot,Ct=Ht}return!qt&&Ct&&(yt=Ct),Ct||!qt&&yt},X=function(nt,Ot){if(ht(nt))return nt.clone();var Nt=typeof Ot=="object"?Ot:{};return Nt.date=nt,Nt.args=arguments,new U(Nt)},pt=mt;pt.l=wt,pt.i=ht,pt.w=function(nt,Ot){return X(nt,{locale:Ot.$L,utc:Ot.$u,x:Ot.$x,$offset:Ot.$offset})};var U=function(){function nt(Nt){this.$L=wt(Nt.locale,null,!0),this.parse(Nt)}var Ot=nt.prototype;return Ot.parse=function(Nt){this.$d=function(qt){var Ct=qt.date,Z=qt.utc;if(Ct===null)return new Date(NaN);if(pt.u(Ct))return new Date;if(Ct instanceof Date)return new Date(Ct);if(typeof Ct=="string"&&!/Z$/i.test(Ct)){var Tt=Ct.match(it);if(Tt){var Ht=Tt[2]-1||0,It=(Tt[7]||"0").substring(0,3);return Z?new Date(Date.UTC(Tt[1],Ht,Tt[3]||1,Tt[4]||0,Tt[5]||0,Tt[6]||0,It)):new Date(Tt[1],Ht,Tt[3]||1,Tt[4]||0,Tt[5]||0,Tt[6]||0,It)}}return new Date(Ct)}(Nt),this.$x=Nt.x||{},this.init()},Ot.init=function(){var Nt=this.$d;this.$y=Nt.getFullYear(),this.$M=Nt.getMonth(),this.$D=Nt.getDate(),this.$W=Nt.getDay(),this.$H=Nt.getHours(),this.$m=Nt.getMinutes(),this.$s=Nt.getSeconds(),this.$ms=Nt.getMilliseconds()},Ot.$utils=function(){return pt},Ot.isValid=function(){return this.$d.toString()!==K},Ot.isSame=function(Nt,qt){var Ct=X(Nt);return this.startOf(qt)<=Ct&&Ct<=this.endOf(qt)},Ot.isAfter=function(Nt,qt){return X(Nt)<this.startOf(qt)},Ot.isBefore=function(Nt,qt){return this.endOf(qt)<X(Nt)},Ot.$g=function(Nt,qt,Ct){return pt.u(Nt)?this[qt]:this.set(Ct,Nt)},Ot.unix=function(){return Math.floor(this.valueOf()/1e3)},Ot.valueOf=function(){return this.$d.getTime()},Ot.startOf=function(Nt,qt){var Ct=this,Z=!!pt.u(qt)||qt,Tt=pt.p(Nt),Ht=function(Ke,we){var _e=pt.w(Ct.$u?Date.UTC(Ct.$y,we,Ke):new Date(Ct.$y,we,Ke),Ct);return Z?_e:_e.endOf(L)},It=function(Ke,we){return pt.w(Ct.toDate()[Ke].apply(Ct.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(we)),Ct)},Ft=this.$W,ke=this.$M,pn=this.$D,Me="set"+(this.$u?"UTC":"");switch(Tt){case R:return Z?Ht(1,0):Ht(31,11);case B:return Z?Ht(1,ke):Ht(0,ke+1);case N:var ve=this.$locale().weekStart||0,Ge=(Ft<ve?Ft+7:Ft)-ve;return Ht(Z?pn-Ge:pn+(6-Ge),ke);case L:case z:return It(Me+"Hours",0);case _:return It(Me+"Minutes",1);case E:return It(Me+"Seconds",2);case b:return It(Me+"Milliseconds",3);default:return this.clone()}},Ot.endOf=function(Nt){return this.startOf(Nt,!1)},Ot.$set=function(Nt,qt){var Ct,Z=pt.p(Nt),Tt="set"+(this.$u?"UTC":""),Ht=(Ct={},Ct[L]=Tt+"Date",Ct[z]=Tt+"Date",Ct[B]=Tt+"Month",Ct[R]=Tt+"FullYear",Ct[_]=Tt+"Hours",Ct[E]=Tt+"Minutes",Ct[b]=Tt+"Seconds",Ct[m]=Tt+"Milliseconds",Ct)[Z],It=Z===L?this.$D+(qt-this.$W):qt;if(Z===B||Z===R){var Ft=this.clone().set(z,1);Ft.$d[Ht](It),Ft.init(),this.$d=Ft.set(z,Math.min(this.$D,Ft.daysInMonth())).$d}else Ht&&this.$d[Ht](It);return this.init(),this},Ot.set=function(Nt,qt){return this.clone().$set(Nt,qt)},Ot.get=function(Nt){return this[pt.p(Nt)]()},Ot.add=function(Nt,qt){var Ct,Z=this;Nt=Number(Nt);var Tt=pt.p(qt),Ht=function(ke){var pn=X(Z);return pt.w(pn.date(pn.date()+Math.round(ke*Nt)),Z)};if(Tt===B)return this.set(B,this.$M+Nt);if(Tt===R)return this.set(R,this.$y+Nt);if(Tt===L)return Ht(1);if(Tt===N)return Ht(7);var It=(Ct={},Ct[E]=p,Ct[_]=v,Ct[b]=f,Ct)[Tt]||1,Ft=this.$d.getTime()+Nt*It;return pt.w(Ft,this)},Ot.subtract=function(Nt,qt){return this.add(-1*Nt,qt)},Ot.format=function(Nt){var qt=this,Ct=this.$locale();if(!this.isValid())return Ct.invalidDate||K;var Z=Nt||"YYYY-MM-DDTHH:mm:ssZ",Tt=pt.z(this),Ht=this.$H,It=this.$m,Ft=this.$M,ke=Ct.weekdays,pn=Ct.months,Me=function(we,_e,$t,re){return we&&(we[_e]||we(qt,Z))||$t[_e].slice(0,re)},ve=function(we){return pt.s(Ht%12||12,we,"0")},Ge=Ct.meridiem||function(we,_e,$t){var re=we<12?"AM":"PM";return $t?re.toLowerCase():re},Ke={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Ft+1,MM:pt.s(Ft+1,2,"0"),MMM:Me(Ct.monthsShort,Ft,pn,3),MMMM:Me(pn,Ft),D:this.$D,DD:pt.s(this.$D,2,"0"),d:String(this.$W),dd:Me(Ct.weekdaysMin,this.$W,ke,2),ddd:Me(Ct.weekdaysShort,this.$W,ke,3),dddd:ke[this.$W],H:String(Ht),HH:pt.s(Ht,2,"0"),h:ve(1),hh:ve(2),a:Ge(Ht,It,!0),A:Ge(Ht,It,!1),m:String(It),mm:pt.s(It,2,"0"),s:String(this.$s),ss:pt.s(this.$s,2,"0"),SSS:pt.s(this.$ms,3,"0"),Z:Tt};return Z.replace(st,function(we,_e){return _e||Ke[we]||Tt.replace(":","")})},Ot.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ot.diff=function(Nt,qt,Ct){var Z,Tt=pt.p(qt),Ht=X(Nt),It=(Ht.utcOffset()-this.utcOffset())*p,Ft=this-Ht,ke=pt.m(this,Ht);return ke=(Z={},Z[R]=ke/12,Z[B]=ke,Z[j]=ke/3,Z[N]=(Ft-It)/6048e5,Z[L]=(Ft-It)/864e5,Z[_]=Ft/v,Z[E]=Ft/p,Z[b]=Ft/f,Z)[Tt]||Ft,Ct?ke:pt.a(ke)},Ot.daysInMonth=function(){return this.endOf(B).$D},Ot.$locale=function(){return dt[this.$L]},Ot.locale=function(Nt,qt){if(!Nt)return this.$L;var Ct=this.clone(),Z=wt(Nt,qt,!0);return Z&&(Ct.$L=Z),Ct},Ot.clone=function(){return pt.w(this.$d,this)},Ot.toDate=function(){return new Date(this.valueOf())},Ot.toJSON=function(){return this.isValid()?this.toISOString():null},Ot.toISOString=function(){return this.$d.toISOString()},Ot.toString=function(){return this.$d.toUTCString()},nt}(),xt=U.prototype;return X.prototype=xt,[["$ms",m],["$s",b],["$m",E],["$H",_],["$W",L],["$M",B],["$y",R],["$D",z]].forEach(function(nt){xt[nt[1]]=function(Ot){return this.$g(Ot,nt[0],nt[1])}}),X.extend=function(nt,Ot){return nt.$i||(nt(Ot,U,X),nt.$i=!0),X},X.locale=wt,X.isDayjs=ht,X.unix=function(nt){return X(1e3*nt)},X.en=dt[yt],X.Ls=dt,X.p={},X})})(ILt);var G5e=ILt.exports;const g0=B7(G5e),d5={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Ut={trace:(...i)=>{},debug:(...i)=>{},info:(...i)=>{},warn:(...i)=>{},error:(...i)=>{},fatal:(...i)=>{}},jft=function(i="fatal"){let a=d5.fatal;typeof i=="string"?(i=i.toLowerCase(),i in d5&&(a=d5[i])):typeof i=="number"&&(a=i),Ut.trace=()=>{},Ut.debug=()=>{},Ut.info=()=>{},Ut.warn=()=>{},Ut.error=()=>{},Ut.fatal=()=>{},a<=d5.fatal&&(Ut.fatal=console.error?console.error.bind(console,W2("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",W2("FATAL"))),a<=d5.error&&(Ut.error=console.error?console.error.bind(console,W2("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",W2("ERROR"))),a<=d5.warn&&(Ut.warn=console.warn?console.warn.bind(console,W2("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",W2("WARN"))),a<=d5.info&&(Ut.info=console.info?console.info.bind(console,W2("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",W2("INFO"))),a<=d5.debug&&(Ut.debug=console.debug?console.debug.bind(console,W2("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",W2("DEBUG"))),a<=d5.trace&&(Ut.trace=console.debug?console.debug.bind(console,W2("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",W2("TRACE")))},W2=i=>`%c${g0().format("ss.SSS")} : ${i} : `;var $ft={};Object.defineProperty($ft,"__esModule",{value:!0});var Q6=$ft.sanitizeUrl=void 0,V5e=/^([^\w]*)(javascript|data|vbscript)/im,U5e=/&#(\w+)(^\w|;)?/g,W5e=/&(newline|tab);/gi,K5e=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Y5e=/^.+(:|&colon;)/gim,X5e=[".","/"];function Q5e(i){return X5e.indexOf(i[0])>-1}function Z5e(i){return i.replace(U5e,function(a,f){return String.fromCharCode(f)})}function J5e(i){var a=Z5e(i||"").replace(W5e,"").replace(K5e,"").trim();if(!a)return"about:blank";if(Q5e(a))return a;var f=a.match(Y5e);if(!f)return a;var p=f[0];return V5e.test(p)?"about:blank":a}Q6=$ft.sanitizeUrl=J5e;function fU(i,a){return i==null||a==null?NaN:i<a?-1:i>a?1:i>=a?0:NaN}function txe(i,a){return i==null||a==null?NaN:a<i?-1:a>i?1:a>=i?0:NaN}function zft(i){let a,f,p;i.length!==2?(a=fU,f=(E,_)=>fU(i(E),_),p=(E,_)=>i(E)-_):(a=i===fU||i===txe?i:exe,f=i,p=i);function v(E,_,L=0,N=E.length){if(L<N){if(a(_,_)!==0)return N;do{const B=L+N>>>1;f(E[B],_)<0?L=B+1:N=B}while(L<N)}return L}function m(E,_,L=0,N=E.length){if(L<N){if(a(_,_)!==0)return N;do{const B=L+N>>>1;f(E[B],_)<=0?L=B+1:N=B}while(L<N)}return L}function b(E,_,L=0,N=E.length){const B=v(E,_,L,N-1);return B>L&&p(E[B-1],_)>-p(E[B],_)?B-1:B}return{left:v,center:b,right:m}}function exe(){return 0}function nxe(i){return i===null?NaN:+i}const rxe=zft(fU).right;zft(nxe).center;const ixe=rxe;class DLt extends Map{constructor(a,f=oxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:f}}),a!=null)for(const[p,v]of a)this.set(p,v)}get(a){return super.get(OLt(this,a))}has(a){return super.has(OLt(this,a))}set(a,f){return super.set(sxe(this,a),f)}delete(a){return super.delete(axe(this,a))}}function OLt({_intern:i,_key:a},f){const p=a(f);return i.has(p)?i.get(p):f}function sxe({_intern:i,_key:a},f){const p=a(f);return i.has(p)?i.get(p):(i.set(p,f),f)}function axe({_intern:i,_key:a},f){const p=a(f);return i.has(p)&&(f=i.get(p),i.delete(p)),f}function oxe(i){return i!==null&&typeof i=="object"?i.valueOf():i}var qft=Math.sqrt(50),Hft=Math.sqrt(10),Gft=Math.sqrt(2);function cxe(i,a,f){var p,v=-1,m,b,E;if(a=+a,i=+i,f=+f,i===a&&f>0)return[i];if((p=a<i)&&(m=i,i=a,a=m),(E=NLt(i,a,f))===0||!isFinite(E))return[];if(E>0){let _=Math.round(i/E),L=Math.round(a/E);for(_*E<i&&++_,L*E>a&&--L,b=new Array(m=L-_+1);++v<m;)b[v]=(_+v)*E}else{E=-E;let _=Math.round(i*E),L=Math.round(a*E);for(_/E<i&&++_,L/E>a&&--L,b=new Array(m=L-_+1);++v<m;)b[v]=(_+v)/E}return p&&b.reverse(),b}function NLt(i,a,f){var p=(a-i)/Math.max(0,f),v=Math.floor(Math.log(p)/Math.LN10),m=p/Math.pow(10,v);return v>=0?(m>=qft?10:m>=Hft?5:m>=Gft?2:1)*Math.pow(10,v):-Math.pow(10,-v)/(m>=qft?10:m>=Hft?5:m>=Gft?2:1)}function Vft(i,a,f){var p=Math.abs(a-i)/Math.max(0,f),v=Math.pow(10,Math.floor(Math.log(p)/Math.LN10)),m=p/v;return m>=qft?v*=10:m>=Hft?v*=5:m>=Gft&&(v*=2),a<i?-v:v}function uxe(i,a){let f;if(a===void 0)for(const p of i)p!=null&&(f<p||f===void 0&&p>=p)&&(f=p);else{let p=-1;for(let v of i)(v=a(v,++p,i))!=null&&(f<v||f===void 0&&v>=v)&&(f=v)}return f}function lxe(i,a){let f;if(a===void 0)for(const p of i)p!=null&&(f>p||f===void 0&&p>=p)&&(f=p);else{let p=-1;for(let v of i)(v=a(v,++p,i))!=null&&(f>v||f===void 0&&v>=v)&&(f=v)}return f}function hxe(i){return i}var dU=1,Uft=2,Wft=3,gU=4,PLt=1e-6;function fxe(i){return"translate("+i+",0)"}function dxe(i){return"translate(0,"+i+")"}function gxe(i){return a=>+i(a)}function pxe(i,a){return a=Math.max(0,i.bandwidth()-a*2)/2,i.round()&&(a=Math.round(a)),f=>+i(f)+a}function bxe(){return!this.__axis}function FLt(i,a){var f=[],p=null,v=null,m=6,b=6,E=3,_=typeof window<"u"&&window.devicePixelRatio>1?0:.5,L=i===dU||i===gU?-1:1,N=i===gU||i===Uft?"x":"y",B=i===dU||i===Wft?fxe:dxe;function j(R){var z=p??(a.ticks?a.ticks.apply(a,f):a.domain()),K=v??(a.tickFormat?a.tickFormat.apply(a,f):hxe),it=Math.max(m,0)+E,st=a.range(),ut=+st[0]+_,bt=+st[st.length-1]+_,mt=(a.bandwidth?pxe:gxe)(a.copy(),_),yt=R.selection?R.selection():R,dt=yt.selectAll(".domain").data([null]),ht=yt.selectAll(".tick").data(z,a).order(),wt=ht.exit(),X=ht.enter().append("g").attr("class","tick"),pt=ht.select("line"),U=ht.select("text");dt=dt.merge(dt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ht=ht.merge(X),pt=pt.merge(X.append("line").attr("stroke","currentColor").attr(N+"2",L*m)),U=U.merge(X.append("text").attr("fill","currentColor").attr(N,L*it).attr("dy",i===dU?"0em":i===Wft?"0.71em":"0.32em")),R!==yt&&(dt=dt.transition(R),ht=ht.transition(R),pt=pt.transition(R),U=U.transition(R),wt=wt.transition(R).attr("opacity",PLt).attr("transform",function(xt){return isFinite(xt=mt(xt))?B(xt+_):this.getAttribute("transform")}),X.attr("opacity",PLt).attr("transform",function(xt){var nt=this.parentNode.__axis;return B((nt&&isFinite(nt=nt(xt))?nt:mt(xt))+_)})),wt.remove(),dt.attr("d",i===gU||i===Uft?b?"M"+L*b+","+ut+"H"+_+"V"+bt+"H"+L*b:"M"+_+","+ut+"V"+bt:b?"M"+ut+","+L*b+"V"+_+"H"+bt+"V"+L*b:"M"+ut+","+_+"H"+bt),ht.attr("opacity",1).attr("transform",function(xt){return B(mt(xt)+_)}),pt.attr(N+"2",L*m),U.attr(N,L*it).text(K),yt.filter(bxe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",i===Uft?"start":i===gU?"end":"middle"),yt.each(function(){this.__axis=mt})}return j.scale=function(R){return arguments.length?(a=R,j):a},j.ticks=function(){return f=Array.from(arguments),j},j.tickArguments=function(R){return arguments.length?(f=R==null?[]:Array.from(R),j):f.slice()},j.tickValues=function(R){return arguments.length?(p=R==null?null:Array.from(R),j):p&&p.slice()},j.tickFormat=function(R){return arguments.length?(v=R,j):v},j.tickSize=function(R){return arguments.length?(m=b=+R,j):m},j.tickSizeInner=function(R){return arguments.length?(m=+R,j):m},j.tickSizeOuter=function(R){return arguments.length?(b=+R,j):b},j.tickPadding=function(R){return arguments.length?(E=+R,j):E},j.offset=function(R){return arguments.length?(_=+R,j):_},j}function vxe(i){return FLt(dU,i)}function wxe(i){return FLt(Wft,i)}var mxe={value:()=>{}};function BLt(){for(var i=0,a=arguments.length,f={},p;i<a;++i){if(!(p=arguments[i]+"")||p in f||/[\s.]/.test(p))throw new Error("illegal type: "+p);f[p]=[]}return new pU(f)}function pU(i){this._=i}function yxe(i,a){return i.trim().split(/^|\s+/).map(function(f){var p="",v=f.indexOf(".");if(v>=0&&(p=f.slice(v+1),f=f.slice(0,v)),f&&!a.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:p}})}pU.prototype=BLt.prototype={constructor:pU,on:function(i,a){var f=this._,p=yxe(i+"",f),v,m=-1,b=p.length;if(arguments.length<2){for(;++m<b;)if((v=(i=p[m]).type)&&(v=xxe(f[v],i.name)))return v;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++m<b;)if(v=(i=p[m]).type)f[v]=RLt(f[v],i.name,a);else if(a==null)for(v in f)f[v]=RLt(f[v],i.name,null);return this},copy:function(){var i={},a=this._;for(var f in a)i[f]=a[f].slice();return new pU(i)},call:function(i,a){if((v=arguments.length-2)>0)for(var f=new Array(v),p=0,v,m;p<v;++p)f[p]=arguments[p+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(m=this._[i],p=0,v=m.length;p<v;++p)m[p].value.apply(a,f)},apply:function(i,a,f){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var p=this._[i],v=0,m=p.length;v<m;++v)p[v].value.apply(a,f)}};function xxe(i,a){for(var f=0,p=i.length,v;f<p;++f)if((v=i[f]).name===a)return v.value}function RLt(i,a,f){for(var p=0,v=i.length;p<v;++p)if(i[p].name===a){i[p]=mxe,i=i.slice(0,p).concat(i.slice(p+1));break}return f!=null&&i.push({name:a,value:f}),i}var Kft="http://www.w3.org/1999/xhtml";const jLt={svg:"http://www.w3.org/2000/svg",xhtml:Kft,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bU(i){var a=i+="",f=a.indexOf(":");return f>=0&&(a=i.slice(0,f))!=="xmlns"&&(i=i.slice(f+1)),jLt.hasOwnProperty(a)?{space:jLt[a],local:i}:i}function kxe(i){return function(){var a=this.ownerDocument,f=this.namespaceURI;return f===Kft&&a.documentElement.namespaceURI===Kft?a.createElement(i):a.createElementNS(f,i)}}function Exe(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function $Lt(i){var a=bU(i);return(a.local?Exe:kxe)(a)}function Txe(){}function Yft(i){return i==null?Txe:function(){return this.querySelector(i)}}function Cxe(i){typeof i!="function"&&(i=Yft(i));for(var a=this._groups,f=a.length,p=new Array(f),v=0;v<f;++v)for(var m=a[v],b=m.length,E=p[v]=new Array(b),_,L,N=0;N<b;++N)(_=m[N])&&(L=i.call(_,_.__data__,N,m))&&("__data__"in _&&(L.__data__=_.__data__),E[N]=L);return new ng(p,this._parents)}function zLt(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function _xe(){return[]}function qLt(i){return i==null?_xe:function(){return this.querySelectorAll(i)}}function Sxe(i){return function(){return zLt(i.apply(this,arguments))}}function Axe(i){typeof i=="function"?i=Sxe(i):i=qLt(i);for(var a=this._groups,f=a.length,p=[],v=[],m=0;m<f;++m)for(var b=a[m],E=b.length,_,L=0;L<E;++L)(_=b[L])&&(p.push(i.call(_,_.__data__,L,b)),v.push(_));return new ng(p,v)}function HLt(i){return function(){return this.matches(i)}}function GLt(i){return function(a){return a.matches(i)}}var Lxe=Array.prototype.find;function Mxe(i){return function(){return Lxe.call(this.children,i)}}function Ixe(){return this.firstElementChild}function Dxe(i){return this.select(i==null?Ixe:Mxe(typeof i=="function"?i:GLt(i)))}var Oxe=Array.prototype.filter;function Nxe(){return Array.from(this.children)}function Pxe(i){return function(){return Oxe.call(this.children,i)}}function Fxe(i){return this.selectAll(i==null?Nxe:Pxe(typeof i=="function"?i:GLt(i)))}function Bxe(i){typeof i!="function"&&(i=HLt(i));for(var a=this._groups,f=a.length,p=new Array(f),v=0;v<f;++v)for(var m=a[v],b=m.length,E=p[v]=[],_,L=0;L<b;++L)(_=m[L])&&i.call(_,_.__data__,L,m)&&E.push(_);return new ng(p,this._parents)}function VLt(i){return new Array(i.length)}function Rxe(){return new ng(this._enter||this._groups.map(VLt),this._parents)}function vU(i,a){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=a}vU.prototype={constructor:vU,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,a){return this._parent.insertBefore(i,a)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function jxe(i){return function(){return i}}function $xe(i,a,f,p,v,m){for(var b=0,E,_=a.length,L=m.length;b<L;++b)(E=a[b])?(E.__data__=m[b],p[b]=E):f[b]=new vU(i,m[b]);for(;b<_;++b)(E=a[b])&&(v[b]=E)}function zxe(i,a,f,p,v,m,b){var E,_,L=new Map,N=a.length,B=m.length,j=new Array(N),R;for(E=0;E<N;++E)(_=a[E])&&(j[E]=R=b.call(_,_.__data__,E,a)+"",L.has(R)?v[E]=_:L.set(R,_));for(E=0;E<B;++E)R=b.call(i,m[E],E,m)+"",(_=L.get(R))?(p[E]=_,_.__data__=m[E],L.delete(R)):f[E]=new vU(i,m[E]);for(E=0;E<N;++E)(_=a[E])&&L.get(j[E])===_&&(v[E]=_)}function qxe(i){return i.__data__}function Hxe(i,a){if(!arguments.length)return Array.from(this,qxe);var f=a?zxe:$xe,p=this._parents,v=this._groups;typeof i!="function"&&(i=jxe(i));for(var m=v.length,b=new Array(m),E=new Array(m),_=new Array(m),L=0;L<m;++L){var N=p[L],B=v[L],j=B.length,R=Gxe(i.call(N,N&&N.__data__,L,p)),z=R.length,K=E[L]=new Array(z),it=b[L]=new Array(z),st=_[L]=new Array(j);f(N,B,K,it,st,R,a);for(var ut=0,bt=0,mt,yt;ut<z;++ut)if(mt=K[ut]){for(ut>=bt&&(bt=ut+1);!(yt=it[bt])&&++bt<z;);mt._next=yt||null}}return b=new ng(b,p),b._enter=E,b._exit=_,b}function Gxe(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Vxe(){return new ng(this._exit||this._groups.map(VLt),this._parents)}function Uxe(i,a,f){var p=this.enter(),v=this,m=this.exit();return typeof i=="function"?(p=i(p),p&&(p=p.selection())):p=p.append(i+""),a!=null&&(v=a(v),v&&(v=v.selection())),f==null?m.remove():f(m),p&&v?p.merge(v).order():v}function Wxe(i){for(var a=i.selection?i.selection():i,f=this._groups,p=a._groups,v=f.length,m=p.length,b=Math.min(v,m),E=new Array(v),_=0;_<b;++_)for(var L=f[_],N=p[_],B=L.length,j=E[_]=new Array(B),R,z=0;z<B;++z)(R=L[z]||N[z])&&(j[z]=R);for(;_<v;++_)E[_]=f[_];return new ng(E,this._parents)}function Kxe(){for(var i=this._groups,a=-1,f=i.length;++a<f;)for(var p=i[a],v=p.length-1,m=p[v],b;--v>=0;)(b=p[v])&&(m&&b.compareDocumentPosition(m)^4&&m.parentNode.insertBefore(b,m),m=b);return this}function Yxe(i){i||(i=Xxe);function a(B,j){return B&&j?i(B.__data__,j.__data__):!B-!j}for(var f=this._groups,p=f.length,v=new Array(p),m=0;m<p;++m){for(var b=f[m],E=b.length,_=v[m]=new Array(E),L,N=0;N<E;++N)(L=b[N])&&(_[N]=L);_.sort(a)}return new ng(v,this._parents).order()}function Xxe(i,a){return i<a?-1:i>a?1:i>=a?0:NaN}function Qxe(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function Zxe(){return Array.from(this)}function Jxe(){for(var i=this._groups,a=0,f=i.length;a<f;++a)for(var p=i[a],v=0,m=p.length;v<m;++v){var b=p[v];if(b)return b}return null}function t6e(){let i=0;for(const a of this)++i;return i}function e6e(){return!this.node()}function n6e(i){for(var a=this._groups,f=0,p=a.length;f<p;++f)for(var v=a[f],m=0,b=v.length,E;m<b;++m)(E=v[m])&&i.call(E,E.__data__,m,v);return this}function r6e(i){return function(){this.removeAttribute(i)}}function i6e(i){return function(){this.removeAttributeNS(i.space,i.local)}}function s6e(i,a){return function(){this.setAttribute(i,a)}}function a6e(i,a){return function(){this.setAttributeNS(i.space,i.local,a)}}function o6e(i,a){return function(){var f=a.apply(this,arguments);f==null?this.removeAttribute(i):this.setAttribute(i,f)}}function c6e(i,a){return function(){var f=a.apply(this,arguments);f==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,f)}}function u6e(i,a){var f=bU(i);if(arguments.length<2){var p=this.node();return f.local?p.getAttributeNS(f.space,f.local):p.getAttribute(f)}return this.each((a==null?f.local?i6e:r6e:typeof a=="function"?f.local?c6e:o6e:f.local?a6e:s6e)(f,a))}function ULt(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function l6e(i){return function(){this.style.removeProperty(i)}}function h6e(i,a,f){return function(){this.style.setProperty(i,a,f)}}function f6e(i,a,f){return function(){var p=a.apply(this,arguments);p==null?this.style.removeProperty(i):this.style.setProperty(i,p,f)}}function d6e(i,a,f){return arguments.length>1?this.each((a==null?l6e:typeof a=="function"?f6e:h6e)(i,a,f??"")):mA(this.node(),i)}function mA(i,a){return i.style.getPropertyValue(a)||ULt(i).getComputedStyle(i,null).getPropertyValue(a)}function g6e(i){return function(){delete this[i]}}function p6e(i,a){return function(){this[i]=a}}function b6e(i,a){return function(){var f=a.apply(this,arguments);f==null?delete this[i]:this[i]=f}}function v6e(i,a){return arguments.length>1?this.each((a==null?g6e:typeof a=="function"?b6e:p6e)(i,a)):this.node()[i]}function WLt(i){return i.trim().split(/^|\s+/)}function Xft(i){return i.classList||new KLt(i)}function KLt(i){this._node=i,this._names=WLt(i.getAttribute("class")||"")}KLt.prototype={add:function(i){var a=this._names.indexOf(i);a<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var a=this._names.indexOf(i);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function YLt(i,a){for(var f=Xft(i),p=-1,v=a.length;++p<v;)f.add(a[p])}function XLt(i,a){for(var f=Xft(i),p=-1,v=a.length;++p<v;)f.remove(a[p])}function w6e(i){return function(){YLt(this,i)}}function m6e(i){return function(){XLt(this,i)}}function y6e(i,a){return function(){(a.apply(this,arguments)?YLt:XLt)(this,i)}}function x6e(i,a){var f=WLt(i+"");if(arguments.length<2){for(var p=Xft(this.node()),v=-1,m=f.length;++v<m;)if(!p.contains(f[v]))return!1;return!0}return this.each((typeof a=="function"?y6e:a?w6e:m6e)(f,a))}function k6e(){this.textContent=""}function E6e(i){return function(){this.textContent=i}}function T6e(i){return function(){var a=i.apply(this,arguments);this.textContent=a??""}}function C6e(i){return arguments.length?this.each(i==null?k6e:(typeof i=="function"?T6e:E6e)(i)):this.node().textContent}function _6e(){this.innerHTML=""}function S6e(i){return function(){this.innerHTML=i}}function A6e(i){return function(){var a=i.apply(this,arguments);this.innerHTML=a??""}}function L6e(i){return arguments.length?this.each(i==null?_6e:(typeof i=="function"?A6e:S6e)(i)):this.node().innerHTML}function M6e(){this.nextSibling&&this.parentNode.appendChild(this)}function I6e(){return this.each(M6e)}function D6e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function O6e(){return this.each(D6e)}function N6e(i){var a=typeof i=="function"?i:$Lt(i);return this.select(function(){return this.appendChild(a.apply(this,arguments))})}function P6e(){return null}function F6e(i,a){var f=typeof i=="function"?i:$Lt(i),p=a==null?P6e:typeof a=="function"?a:Yft(a);return this.select(function(){return this.insertBefore(f.apply(this,arguments),p.apply(this,arguments)||null)})}function B6e(){var i=this.parentNode;i&&i.removeChild(this)}function R6e(){return this.each(B6e)}function j6e(){var i=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(i,this.nextSibling):i}function $6e(){var i=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(i,this.nextSibling):i}function z6e(i){return this.select(i?$6e:j6e)}function q6e(i){return arguments.length?this.property("__data__",i):this.node().__data__}function H6e(i){return function(a){i.call(this,a,this.__data__)}}function G6e(i){return i.trim().split(/^|\s+/).map(function(a){var f="",p=a.indexOf(".");return p>=0&&(f=a.slice(p+1),a=a.slice(0,p)),{type:a,name:f}})}function V6e(i){return function(){var a=this.__on;if(a){for(var f=0,p=-1,v=a.length,m;f<v;++f)m=a[f],(!i.type||m.type===i.type)&&m.name===i.name?this.removeEventListener(m.type,m.listener,m.options):a[++p]=m;++p?a.length=p:delete this.__on}}}function U6e(i,a,f){return function(){var p=this.__on,v,m=H6e(a);if(p){for(var b=0,E=p.length;b<E;++b)if((v=p[b]).type===i.type&&v.name===i.name){this.removeEventListener(v.type,v.listener,v.options),this.addEventListener(v.type,v.listener=m,v.options=f),v.value=a;return}}this.addEventListener(i.type,m,f),v={type:i.type,name:i.name,value:a,listener:m,options:f},p?p.push(v):this.__on=[v]}}function W6e(i,a,f){var p=G6e(i+""),v,m=p.length,b;if(arguments.length<2){var E=this.node().__on;if(E){for(var _=0,L=E.length,N;_<L;++_)for(v=0,N=E[_];v<m;++v)if((b=p[v]).type===N.type&&b.name===N.name)return N.value}return}for(E=a?U6e:V6e,v=0;v<m;++v)this.each(E(p[v],a,f));return this}function QLt(i,a,f){var p=ULt(i),v=p.CustomEvent;typeof v=="function"?v=new v(a,f):(v=p.document.createEvent("Event"),f?(v.initEvent(a,f.bubbles,f.cancelable),v.detail=f.detail):v.initEvent(a,!1,!1)),i.dispatchEvent(v)}function K6e(i,a){return function(){return QLt(this,i,a)}}function Y6e(i,a){return function(){return QLt(this,i,a.apply(this,arguments))}}function X6e(i,a){return this.each((typeof a=="function"?Y6e:K6e)(i,a))}function*Q6e(){for(var i=this._groups,a=0,f=i.length;a<f;++a)for(var p=i[a],v=0,m=p.length,b;v<m;++v)(b=p[v])&&(yield b)}var Qft=[null];function ng(i,a){this._groups=i,this._parents=a}function yN(){return new ng([[document.documentElement]],Qft)}function Z6e(){return this}ng.prototype=yN.prototype={constructor:ng,select:Cxe,selectAll:Axe,selectChild:Dxe,selectChildren:Fxe,filter:Bxe,data:Hxe,enter:Rxe,exit:Vxe,join:Uxe,merge:Wxe,selection:Z6e,order:Kxe,sort:Yxe,call:Qxe,nodes:Zxe,node:Jxe,size:t6e,empty:e6e,each:n6e,attr:u6e,style:d6e,property:v6e,classed:x6e,text:C6e,html:L6e,raise:I6e,lower:O6e,append:N6e,insert:F6e,remove:R6e,clone:z6e,datum:q6e,on:W6e,dispatch:X6e,[Symbol.iterator]:Q6e};function yr(i){return typeof i=="string"?new ng([[document.querySelector(i)]],[document.documentElement]):new ng([[i]],Qft)}function ZLt(i){return typeof i=="string"?new ng([document.querySelectorAll(i)],[document.documentElement]):new ng([zLt(i)],Qft)}function xN(i,a,f){i.prototype=a.prototype=f,f.constructor=i}function wU(i,a){var f=Object.create(i.prototype);for(var p in a)f[p]=a[p];return f}function R7(){}var kN=.7,mU=1/kN,yA="\\s*([+-]?\\d+)\\s*",EN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",s3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J6e=/^#([0-9a-f]{3,8})$/,tke=new RegExp(`^rgb\\(${yA},${yA},${yA}\\)$`),eke=new RegExp(`^rgb\\(${s3},${s3},${s3}\\)$`),nke=new RegExp(`^rgba\\(${yA},${yA},${yA},${EN}\\)$`),rke=new RegExp(`^rgba\\(${s3},${s3},${s3},${EN}\\)$`),ike=new RegExp(`^hsl\\(${EN},${s3},${s3}\\)$`),ske=new RegExp(`^hsla\\(${EN},${s3},${s3},${EN}\\)$`),JLt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xN(R7,j7,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:tMt,formatHex:tMt,formatHex8:ake,formatHsl:oke,formatRgb:eMt,toString:eMt});function tMt(){return this.rgb().formatHex()}function ake(){return this.rgb().formatHex8()}function oke(){return oMt(this).formatHsl()}function eMt(){return this.rgb().formatRgb()}function j7(i){var a,f;return i=(i+"").trim().toLowerCase(),(a=J6e.exec(i))?(f=a[1].length,a=parseInt(a[1],16),f===6?nMt(a):f===3?new p0(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):f===8?yU(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):f===4?yU(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=tke.exec(i))?new p0(a[1],a[2],a[3],1):(a=eke.exec(i))?new p0(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=nke.exec(i))?yU(a[1],a[2],a[3],a[4]):(a=rke.exec(i))?yU(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=ike.exec(i))?aMt(a[1],a[2]/100,a[3]/100,1):(a=ske.exec(i))?aMt(a[1],a[2]/100,a[3]/100,a[4]):JLt.hasOwnProperty(i)?nMt(JLt[i]):i==="transparent"?new p0(NaN,NaN,NaN,0):null}function nMt(i){return new p0(i>>16&255,i>>8&255,i&255,1)}function yU(i,a,f,p){return p<=0&&(i=a=f=NaN),new p0(i,a,f,p)}function rMt(i){return i instanceof R7||(i=j7(i)),i?(i=i.rgb(),new p0(i.r,i.g,i.b,i.opacity)):new p0}function Zft(i,a,f,p){return arguments.length===1?rMt(i):new p0(i,a,f,p??1)}function p0(i,a,f,p){this.r=+i,this.g=+a,this.b=+f,this.opacity=+p}xN(p0,Zft,wU(R7,{brighter(i){return i=i==null?mU:Math.pow(mU,i),new p0(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?kN:Math.pow(kN,i),new p0(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new p0($7(this.r),$7(this.g),$7(this.b),xU(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iMt,formatHex:iMt,formatHex8:cke,formatRgb:sMt,toString:sMt}));function iMt(){return`#${z7(this.r)}${z7(this.g)}${z7(this.b)}`}function cke(){return`#${z7(this.r)}${z7(this.g)}${z7(this.b)}${z7((isNaN(this.opacity)?1:this.opacity)*255)}`}function sMt(){const i=xU(this.opacity);return`${i===1?"rgb(":"rgba("}${$7(this.r)}, ${$7(this.g)}, ${$7(this.b)}${i===1?")":`, ${i})`}`}function xU(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function $7(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function z7(i){return i=$7(i),(i<16?"0":"")+i.toString(16)}function aMt(i,a,f,p){return p<=0?i=a=f=NaN:f<=0||f>=1?i=a=NaN:a<=0&&(i=NaN),new Ww(i,a,f,p)}function oMt(i){if(i instanceof Ww)return new Ww(i.h,i.s,i.l,i.opacity);if(i instanceof R7||(i=j7(i)),!i)return new Ww;if(i instanceof Ww)return i;i=i.rgb();var a=i.r/255,f=i.g/255,p=i.b/255,v=Math.min(a,f,p),m=Math.max(a,f,p),b=NaN,E=m-v,_=(m+v)/2;return E?(a===m?b=(f-p)/E+(f<p)*6:f===m?b=(p-a)/E+2:b=(a-f)/E+4,E/=_<.5?m+v:2-m-v,b*=60):E=_>0&&_<1?0:b,new Ww(b,E,_,i.opacity)}function uke(i,a,f,p){return arguments.length===1?oMt(i):new Ww(i,a,f,p??1)}function Ww(i,a,f,p){this.h=+i,this.s=+a,this.l=+f,this.opacity=+p}xN(Ww,uke,wU(R7,{brighter(i){return i=i==null?mU:Math.pow(mU,i),new Ww(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?kN:Math.pow(kN,i),new Ww(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,a=isNaN(i)||isNaN(this.s)?0:this.s,f=this.l,p=f+(f<.5?f:1-f)*a,v=2*f-p;return new p0(Jft(i>=240?i-240:i+120,v,p),Jft(i,v,p),Jft(i<120?i+240:i-120,v,p),this.opacity)},clamp(){return new Ww(cMt(this.h),kU(this.s),kU(this.l),xU(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=xU(this.opacity);return`${i===1?"hsl(":"hsla("}${cMt(this.h)}, ${kU(this.s)*100}%, ${kU(this.l)*100}%${i===1?")":`, ${i})`}`}}));function cMt(i){return i=(i||0)%360,i<0?i+360:i}function kU(i){return Math.max(0,Math.min(1,i||0))}function Jft(i,a,f){return(i<60?a+(f-a)*i/60:i<180?f:i<240?a+(f-a)*(240-i)/60:a)*255}const lke=Math.PI/180,hke=180/Math.PI,EU=18,uMt=.96422,lMt=1,hMt=.82521,fMt=4/29,xA=6/29,dMt=3*xA*xA,fke=xA*xA*xA;function gMt(i){if(i instanceof a3)return new a3(i.l,i.a,i.b,i.opacity);if(i instanceof g5)return pMt(i);i instanceof p0||(i=rMt(i));var a=r1t(i.r),f=r1t(i.g),p=r1t(i.b),v=t1t((.2225045*a+.7168786*f+.0606169*p)/lMt),m,b;return a===f&&f===p?m=b=v:(m=t1t((.4360747*a+.3850649*f+.1430804*p)/uMt),b=t1t((.0139322*a+.0971045*f+.7141733*p)/hMt)),new a3(116*v-16,500*(m-v),200*(v-b),i.opacity)}function dke(i,a,f,p){return arguments.length===1?gMt(i):new a3(i,a,f,p??1)}function a3(i,a,f,p){this.l=+i,this.a=+a,this.b=+f,this.opacity=+p}xN(a3,dke,wU(R7,{brighter(i){return new a3(this.l+EU*(i??1),this.a,this.b,this.opacity)},darker(i){return new a3(this.l-EU*(i??1),this.a,this.b,this.opacity)},rgb(){var i=(this.l+16)/116,a=isNaN(this.a)?i:i+this.a/500,f=isNaN(this.b)?i:i-this.b/200;return a=uMt*e1t(a),i=lMt*e1t(i),f=hMt*e1t(f),new p0(n1t(3.1338561*a-1.6168667*i-.4906146*f),n1t(-.9787684*a+1.9161415*i+.033454*f),n1t(.0719453*a-.2289914*i+1.4052427*f),this.opacity)}}));function t1t(i){return i>fke?Math.pow(i,1/3):i/dMt+fMt}function e1t(i){return i>xA?i*i*i:dMt*(i-fMt)}function n1t(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function r1t(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function gke(i){if(i instanceof g5)return new g5(i.h,i.c,i.l,i.opacity);if(i instanceof a3||(i=gMt(i)),i.a===0&&i.b===0)return new g5(NaN,0<i.l&&i.l<100?0:NaN,i.l,i.opacity);var a=Math.atan2(i.b,i.a)*hke;return new g5(a<0?a+360:a,Math.sqrt(i.a*i.a+i.b*i.b),i.l,i.opacity)}function i1t(i,a,f,p){return arguments.length===1?gke(i):new g5(i,a,f,p??1)}function g5(i,a,f,p){this.h=+i,this.c=+a,this.l=+f,this.opacity=+p}function pMt(i){if(isNaN(i.h))return new a3(i.l,0,0,i.opacity);var a=i.h*lke;return new a3(i.l,Math.cos(a)*i.c,Math.sin(a)*i.c,i.opacity)}xN(g5,i1t,wU(R7,{brighter(i){return new g5(this.h,this.c,this.l+EU*(i??1),this.opacity)},darker(i){return new g5(this.h,this.c,this.l-EU*(i??1),this.opacity)},rgb(){return pMt(this).rgb()}}));const TU=i=>()=>i;function bMt(i,a){return function(f){return i+f*a}}function pke(i,a,f){return i=Math.pow(i,f),a=Math.pow(a,f)-i,f=1/f,function(p){return Math.pow(i+p*a,f)}}function bke(i,a){var f=a-i;return f?bMt(i,f>180||f<-180?f-360*Math.round(f/360):f):TU(isNaN(i)?a:i)}function vke(i){return(i=+i)==1?TN:function(a,f){return f-a?pke(a,f,i):TU(isNaN(a)?f:a)}}function TN(i,a){var f=a-i;return f?bMt(i,f):TU(isNaN(i)?a:i)}const CU=function i(a){var f=vke(a);function p(v,m){var b=f((v=Zft(v)).r,(m=Zft(m)).r),E=f(v.g,m.g),_=f(v.b,m.b),L=TN(v.opacity,m.opacity);return function(N){return v.r=b(N),v.g=E(N),v.b=_(N),v.opacity=L(N),v+""}}return p.gamma=i,p}(1);function wke(i,a){a||(a=[]);var f=i?Math.min(a.length,i.length):0,p=a.slice(),v;return function(m){for(v=0;v<f;++v)p[v]=i[v]*(1-m)+a[v]*m;return p}}function mke(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function yke(i,a){var f=a?a.length:0,p=i?Math.min(f,i.length):0,v=new Array(p),m=new Array(f),b;for(b=0;b<p;++b)v[b]=o1t(i[b],a[b]);for(;b<f;++b)m[b]=a[b];return function(E){for(b=0;b<p;++b)m[b]=v[b](E);return m}}function xke(i,a){var f=new Date;return i=+i,a=+a,function(p){return f.setTime(i*(1-p)+a*p),f}}function Kw(i,a){return i=+i,a=+a,function(f){return i*(1-f)+a*f}}function kke(i,a){var f={},p={},v;(i===null||typeof i!="object")&&(i={}),(a===null||typeof a!="object")&&(a={});for(v in a)v in i?f[v]=o1t(i[v],a[v]):p[v]=a[v];return function(m){for(v in f)p[v]=f[v](m);return p}}var s1t=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a1t=new RegExp(s1t.source,"g");function Eke(i){return function(){return i}}function Tke(i){return function(a){return i(a)+""}}function vMt(i,a){var f=s1t.lastIndex=a1t.lastIndex=0,p,v,m,b=-1,E=[],_=[];for(i=i+"",a=a+"";(p=s1t.exec(i))&&(v=a1t.exec(a));)(m=v.index)>f&&(m=a.slice(f,m),E[b]?E[b]+=m:E[++b]=m),(p=p[0])===(v=v[0])?E[b]?E[b]+=v:E[++b]=v:(E[++b]=null,_.push({i:b,x:Kw(p,v)})),f=a1t.lastIndex;return f<a.length&&(m=a.slice(f),E[b]?E[b]+=m:E[++b]=m),E.length<2?_[0]?Tke(_[0].x):Eke(a):(a=_.length,function(L){for(var N=0,B;N<a;++N)E[(B=_[N]).i]=B.x(L);return E.join("")})}function o1t(i,a){var f=typeof a,p;return a==null||f==="boolean"?TU(a):(f==="number"?Kw:f==="string"?(p=j7(a))?(a=p,CU):vMt:a instanceof j7?CU:a instanceof Date?xke:mke(a)?wke:Array.isArray(a)?yke:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?kke:Kw)(i,a)}function Cke(i,a){return i=+i,a=+a,function(f){return Math.round(i*(1-f)+a*f)}}var wMt=180/Math.PI,c1t={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mMt(i,a,f,p,v,m){var b,E,_;return(b=Math.sqrt(i*i+a*a))&&(i/=b,a/=b),(_=i*f+a*p)&&(f-=i*_,p-=a*_),(E=Math.sqrt(f*f+p*p))&&(f/=E,p/=E,_/=E),i*p<a*f&&(i=-i,a=-a,_=-_,b=-b),{translateX:v,translateY:m,rotate:Math.atan2(a,i)*wMt,skewX:Math.atan(_)*wMt,scaleX:b,scaleY:E}}var _U;function _ke(i){const a=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return a.isIdentity?c1t:mMt(a.a,a.b,a.c,a.d,a.e,a.f)}function Ske(i){return i==null||(_U||(_U=document.createElementNS("http://www.w3.org/2000/svg","g")),_U.setAttribute("transform",i),!(i=_U.transform.baseVal.consolidate()))?c1t:(i=i.matrix,mMt(i.a,i.b,i.c,i.d,i.e,i.f))}function yMt(i,a,f,p){function v(L){return L.length?L.pop()+" ":""}function m(L,N,B,j,R,z){if(L!==B||N!==j){var K=R.push("translate(",null,a,null,f);z.push({i:K-4,x:Kw(L,B)},{i:K-2,x:Kw(N,j)})}else(B||j)&&R.push("translate("+B+a+j+f)}function b(L,N,B,j){L!==N?(L-N>180?N+=360:N-L>180&&(L+=360),j.push({i:B.push(v(B)+"rotate(",null,p)-2,x:Kw(L,N)})):N&&B.push(v(B)+"rotate("+N+p)}function E(L,N,B,j){L!==N?j.push({i:B.push(v(B)+"skewX(",null,p)-2,x:Kw(L,N)}):N&&B.push(v(B)+"skewX("+N+p)}function _(L,N,B,j,R,z){if(L!==B||N!==j){var K=R.push(v(R)+"scale(",null,",",null,")");z.push({i:K-4,x:Kw(L,B)},{i:K-2,x:Kw(N,j)})}else(B!==1||j!==1)&&R.push(v(R)+"scale("+B+","+j+")")}return function(L,N){var B=[],j=[];return L=i(L),N=i(N),m(L.translateX,L.translateY,N.translateX,N.translateY,B,j),b(L.rotate,N.rotate,B,j),E(L.skewX,N.skewX,B,j),_(L.scaleX,L.scaleY,N.scaleX,N.scaleY,B,j),L=N=null,function(R){for(var z=-1,K=j.length,it;++z<K;)B[(it=j[z]).i]=it.x(R);return B.join("")}}}var Ake=yMt(_ke,"px, ","px)","deg)"),Lke=yMt(Ske,", ",")",")");function Mke(i){return function(a,f){var p=i((a=i1t(a)).h,(f=i1t(f)).h),v=TN(a.c,f.c),m=TN(a.l,f.l),b=TN(a.opacity,f.opacity);return function(E){return a.h=p(E),a.c=v(E),a.l=m(E),a.opacity=b(E),a+""}}}const Ike=Mke(bke);var kA=0,CN=0,_N=0,xMt=1e3,SU,SN,AU=0,q7=0,LU=0,AN=typeof performance=="object"&&performance.now?performance:Date,kMt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function u1t(){return q7||(kMt(Dke),q7=AN.now()+LU)}function Dke(){q7=0}function MU(){this._call=this._time=this._next=null}MU.prototype=EMt.prototype={constructor:MU,restart:function(i,a,f){if(typeof i!="function")throw new TypeError("callback is not a function");f=(f==null?u1t():+f)+(a==null?0:+a),!this._next&&SN!==this&&(SN?SN._next=this:SU=this,SN=this),this._call=i,this._time=f,l1t()},stop:function(){this._call&&(this._call=null,this._time=1/0,l1t())}};function EMt(i,a,f){var p=new MU;return p.restart(i,a,f),p}function Oke(){u1t(),++kA;for(var i=SU,a;i;)(a=q7-i._time)>=0&&i._call.call(void 0,a),i=i._next;--kA}function TMt(){q7=(AU=AN.now())+LU,kA=CN=0;try{Oke()}finally{kA=0,Pke(),q7=0}}function Nke(){var i=AN.now(),a=i-AU;a>xMt&&(LU-=a,AU=i)}function Pke(){for(var i,a=SU,f,p=1/0;a;)a._call?(p>a._time&&(p=a._time),i=a,a=a._next):(f=a._next,a._next=null,a=i?i._next=f:SU=f);SN=i,l1t(p)}function l1t(i){if(!kA){CN&&(CN=clearTimeout(CN));var a=i-q7;a>24?(i<1/0&&(CN=setTimeout(TMt,i-AN.now()-LU)),_N&&(_N=clearInterval(_N))):(_N||(AU=AN.now(),_N=setInterval(Nke,xMt)),kA=1,kMt(TMt))}}function CMt(i,a,f){var p=new MU;return a=a==null?0:+a,p.restart(v=>{p.stop(),i(v+a)},a,f),p}var Fke=BLt("start","end","cancel","interrupt"),Bke=[],_Mt=0,SMt=1,h1t=2,IU=3,AMt=4,f1t=5,DU=6;function OU(i,a,f,p,v,m){var b=i.__transition;if(!b)i.__transition={};else if(f in b)return;Rke(i,f,{name:a,index:p,group:v,on:Fke,tween:Bke,time:m.time,delay:m.delay,duration:m.duration,ease:m.ease,timer:null,state:_Mt})}function d1t(i,a){var f=Yw(i,a);if(f.state>_Mt)throw new Error("too late; already scheduled");return f}function o3(i,a){var f=Yw(i,a);if(f.state>IU)throw new Error("too late; already running");return f}function Yw(i,a){var f=i.__transition;if(!f||!(f=f[a]))throw new Error("transition not found");return f}function Rke(i,a,f){var p=i.__transition,v;p[a]=f,f.timer=EMt(m,0,f.time);function m(L){f.state=SMt,f.timer.restart(b,f.delay,f.time),f.delay<=L&&b(L-f.delay)}function b(L){var N,B,j,R;if(f.state!==SMt)return _();for(N in p)if(R=p[N],R.name===f.name){if(R.state===IU)return CMt(b);R.state===AMt?(R.state=DU,R.timer.stop(),R.on.call("interrupt",i,i.__data__,R.index,R.group),delete p[N]):+N<a&&(R.state=DU,R.timer.stop(),R.on.call("cancel",i,i.__data__,R.index,R.group),delete p[N])}if(CMt(function(){f.state===IU&&(f.state=AMt,f.timer.restart(E,f.delay,f.time),E(L))}),f.state=h1t,f.on.call("start",i,i.__data__,f.index,f.group),f.state===h1t){for(f.state=IU,v=new Array(j=f.tween.length),N=0,B=-1;N<j;++N)(R=f.tween[N].value.call(i,i.__data__,f.index,f.group))&&(v[++B]=R);v.length=B+1}}function E(L){for(var N=L<f.duration?f.ease.call(null,L/f.duration):(f.timer.restart(_),f.state=f1t,1),B=-1,j=v.length;++B<j;)v[B].call(i,N);f.state===f1t&&(f.on.call("end",i,i.__data__,f.index,f.group),_())}function _(){f.state=DU,f.timer.stop(),delete p[a];for(var L in p)return;delete i.__transition}}function jke(i,a){var f=i.__transition,p,v,m=!0,b;if(f){a=a==null?null:a+"";for(b in f){if((p=f[b]).name!==a){m=!1;continue}v=p.state>h1t&&p.state<f1t,p.state=DU,p.timer.stop(),p.on.call(v?"interrupt":"cancel",i,i.__data__,p.index,p.group),delete f[b]}m&&delete i.__transition}}function $ke(i){return this.each(function(){jke(this,i)})}function zke(i,a){var f,p;return function(){var v=o3(this,i),m=v.tween;if(m!==f){p=f=m;for(var b=0,E=p.length;b<E;++b)if(p[b].name===a){p=p.slice(),p.splice(b,1);break}}v.tween=p}}function qke(i,a,f){var p,v;if(typeof f!="function")throw new Error;return function(){var m=o3(this,i),b=m.tween;if(b!==p){v=(p=b).slice();for(var E={name:a,value:f},_=0,L=v.length;_<L;++_)if(v[_].name===a){v[_]=E;break}_===L&&v.push(E)}m.tween=v}}function Hke(i,a){var f=this._id;if(i+="",arguments.length<2){for(var p=Yw(this.node(),f).tween,v=0,m=p.length,b;v<m;++v)if((b=p[v]).name===i)return b.value;return null}return this.each((a==null?zke:qke)(f,i,a))}function g1t(i,a,f){var p=i._id;return i.each(function(){var v=o3(this,p);(v.value||(v.value={}))[a]=f.apply(this,arguments)}),function(v){return Yw(v,p).value[a]}}function LMt(i,a){var f;return(typeof a=="number"?Kw:a instanceof j7?CU:(f=j7(a))?(a=f,CU):vMt)(i,a)}function Gke(i){return function(){this.removeAttribute(i)}}function Vke(i){return function(){this.removeAttributeNS(i.space,i.local)}}function Uke(i,a,f){var p,v=f+"",m;return function(){var b=this.getAttribute(i);return b===v?null:b===p?m:m=a(p=b,f)}}function Wke(i,a,f){var p,v=f+"",m;return function(){var b=this.getAttributeNS(i.space,i.local);return b===v?null:b===p?m:m=a(p=b,f)}}function Kke(i,a,f){var p,v,m;return function(){var b,E=f(this),_;return E==null?void this.removeAttribute(i):(b=this.getAttribute(i),_=E+"",b===_?null:b===p&&_===v?m:(v=_,m=a(p=b,E)))}}function Yke(i,a,f){var p,v,m;return function(){var b,E=f(this),_;return E==null?void this.removeAttributeNS(i.space,i.local):(b=this.getAttributeNS(i.space,i.local),_=E+"",b===_?null:b===p&&_===v?m:(v=_,m=a(p=b,E)))}}function Xke(i,a){var f=bU(i),p=f==="transform"?Lke:LMt;return this.attrTween(i,typeof a=="function"?(f.local?Yke:Kke)(f,p,g1t(this,"attr."+i,a)):a==null?(f.local?Vke:Gke)(f):(f.local?Wke:Uke)(f,p,a))}function Qke(i,a){return function(f){this.setAttribute(i,a.call(this,f))}}function Zke(i,a){return function(f){this.setAttributeNS(i.space,i.local,a.call(this,f))}}function Jke(i,a){var f,p;function v(){var m=a.apply(this,arguments);return m!==p&&(f=(p=m)&&Zke(i,m)),f}return v._value=a,v}function t8e(i,a){var f,p;function v(){var m=a.apply(this,arguments);return m!==p&&(f=(p=m)&&Qke(i,m)),f}return v._value=a,v}function e8e(i,a){var f="attr."+i;if(arguments.length<2)return(f=this.tween(f))&&f._value;if(a==null)return this.tween(f,null);if(typeof a!="function")throw new Error;var p=bU(i);return this.tween(f,(p.local?Jke:t8e)(p,a))}function n8e(i,a){return function(){d1t(this,i).delay=+a.apply(this,arguments)}}function r8e(i,a){return a=+a,function(){d1t(this,i).delay=a}}function i8e(i){var a=this._id;return arguments.length?this.each((typeof i=="function"?n8e:r8e)(a,i)):Yw(this.node(),a).delay}function s8e(i,a){return function(){o3(this,i).duration=+a.apply(this,arguments)}}function a8e(i,a){return a=+a,function(){o3(this,i).duration=a}}function o8e(i){var a=this._id;return arguments.length?this.each((typeof i=="function"?s8e:a8e)(a,i)):Yw(this.node(),a).duration}function c8e(i,a){if(typeof a!="function")throw new Error;return function(){o3(this,i).ease=a}}function u8e(i){var a=this._id;return arguments.length?this.each(c8e(a,i)):Yw(this.node(),a).ease}function l8e(i,a){return function(){var f=a.apply(this,arguments);if(typeof f!="function")throw new Error;o3(this,i).ease=f}}function h8e(i){if(typeof i!="function")throw new Error;return this.each(l8e(this._id,i))}function f8e(i){typeof i!="function"&&(i=HLt(i));for(var a=this._groups,f=a.length,p=new Array(f),v=0;v<f;++v)for(var m=a[v],b=m.length,E=p[v]=[],_,L=0;L<b;++L)(_=m[L])&&i.call(_,_.__data__,L,m)&&E.push(_);return new p5(p,this._parents,this._name,this._id)}function d8e(i){if(i._id!==this._id)throw new Error;for(var a=this._groups,f=i._groups,p=a.length,v=f.length,m=Math.min(p,v),b=new Array(p),E=0;E<m;++E)for(var _=a[E],L=f[E],N=_.length,B=b[E]=new Array(N),j,R=0;R<N;++R)(j=_[R]||L[R])&&(B[R]=j);for(;E<p;++E)b[E]=a[E];return new p5(b,this._parents,this._name,this._id)}function g8e(i){return(i+"").trim().split(/^|\s+/).every(function(a){var f=a.indexOf(".");return f>=0&&(a=a.slice(0,f)),!a||a==="start"})}function p8e(i,a,f){var p,v,m=g8e(a)?d1t:o3;return function(){var b=m(this,i),E=b.on;E!==p&&(v=(p=E).copy()).on(a,f),b.on=v}}function b8e(i,a){var f=this._id;return arguments.length<2?Yw(this.node(),f).on.on(i):this.each(p8e(f,i,a))}function v8e(i){return function(){var a=this.parentNode;for(var f in this.__transition)if(+f!==i)return;a&&a.removeChild(this)}}function w8e(){return this.on("end.remove",v8e(this._id))}function m8e(i){var a=this._name,f=this._id;typeof i!="function"&&(i=Yft(i));for(var p=this._groups,v=p.length,m=new Array(v),b=0;b<v;++b)for(var E=p[b],_=E.length,L=m[b]=new Array(_),N,B,j=0;j<_;++j)(N=E[j])&&(B=i.call(N,N.__data__,j,E))&&("__data__"in N&&(B.__data__=N.__data__),L[j]=B,OU(L[j],a,f,j,L,Yw(N,f)));return new p5(m,this._parents,a,f)}function y8e(i){var a=this._name,f=this._id;typeof i!="function"&&(i=qLt(i));for(var p=this._groups,v=p.length,m=[],b=[],E=0;E<v;++E)for(var _=p[E],L=_.length,N,B=0;B<L;++B)if(N=_[B]){for(var j=i.call(N,N.__data__,B,_),R,z=Yw(N,f),K=0,it=j.length;K<it;++K)(R=j[K])&&OU(R,a,f,K,j,z);m.push(j),b.push(N)}return new p5(m,b,a,f)}var x8e=yN.prototype.constructor;function k8e(){return new x8e(this._groups,this._parents)}function E8e(i,a){var f,p,v;return function(){var m=mA(this,i),b=(this.style.removeProperty(i),mA(this,i));return m===b?null:m===f&&b===p?v:v=a(f=m,p=b)}}function MMt(i){return function(){this.style.removeProperty(i)}}function T8e(i,a,f){var p,v=f+"",m;return function(){var b=mA(this,i);return b===v?null:b===p?m:m=a(p=b,f)}}function C8e(i,a,f){var p,v,m;return function(){var b=mA(this,i),E=f(this),_=E+"";return E==null&&(_=E=(this.style.removeProperty(i),mA(this,i))),b===_?null:b===p&&_===v?m:(v=_,m=a(p=b,E))}}function _8e(i,a){var f,p,v,m="style."+a,b="end."+m,E;return function(){var _=o3(this,i),L=_.on,N=_.value[m]==null?E||(E=MMt(a)):void 0;(L!==f||v!==N)&&(p=(f=L).copy()).on(b,v=N),_.on=p}}function S8e(i,a,f){var p=(i+="")=="transform"?Ake:LMt;return a==null?this.styleTween(i,E8e(i,p)).on("end.style."+i,MMt(i)):typeof a=="function"?this.styleTween(i,C8e(i,p,g1t(this,"style."+i,a))).each(_8e(this._id,i)):this.styleTween(i,T8e(i,p,a),f).on("end.style."+i,null)}function A8e(i,a,f){return function(p){this.style.setProperty(i,a.call(this,p),f)}}function L8e(i,a,f){var p,v;function m(){var b=a.apply(this,arguments);return b!==v&&(p=(v=b)&&A8e(i,b,f)),p}return m._value=a,m}function M8e(i,a,f){var p="style."+(i+="");if(arguments.length<2)return(p=this.tween(p))&&p._value;if(a==null)return this.tween(p,null);if(typeof a!="function")throw new Error;return this.tween(p,L8e(i,a,f??""))}function I8e(i){return function(){this.textContent=i}}function D8e(i){return function(){var a=i(this);this.textContent=a??""}}function O8e(i){return this.tween("text",typeof i=="function"?D8e(g1t(this,"text",i)):I8e(i==null?"":i+""))}function N8e(i){return function(a){this.textContent=i.call(this,a)}}function P8e(i){var a,f;function p(){var v=i.apply(this,arguments);return v!==f&&(a=(f=v)&&N8e(v)),a}return p._value=i,p}function F8e(i){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(i==null)return this.tween(a,null);if(typeof i!="function")throw new Error;return this.tween(a,P8e(i))}function B8e(){for(var i=this._name,a=this._id,f=IMt(),p=this._groups,v=p.length,m=0;m<v;++m)for(var b=p[m],E=b.length,_,L=0;L<E;++L)if(_=b[L]){var N=Yw(_,a);OU(_,i,f,L,b,{time:N.time+N.delay+N.duration,delay:0,duration:N.duration,ease:N.ease})}return new p5(p,this._parents,i,f)}function R8e(){var i,a,f=this,p=f._id,v=f.size();return new Promise(function(m,b){var E={value:b},_={value:function(){--v===0&&m()}};f.each(function(){var L=o3(this,p),N=L.on;N!==i&&(a=(i=N).copy(),a._.cancel.push(E),a._.interrupt.push(E),a._.end.push(_)),L.on=a}),v===0&&m()})}var j8e=0;function p5(i,a,f,p){this._groups=i,this._parents=a,this._name=f,this._id=p}function IMt(){return++j8e}var b5=yN.prototype;p5.prototype={constructor:p5,select:m8e,selectAll:y8e,selectChild:b5.selectChild,selectChildren:b5.selectChildren,filter:f8e,merge:d8e,selection:k8e,transition:B8e,call:b5.call,nodes:b5.nodes,node:b5.node,size:b5.size,empty:b5.empty,each:b5.each,on:b8e,attr:Xke,attrTween:e8e,style:S8e,styleTween:M8e,text:O8e,textTween:F8e,remove:w8e,tween:Hke,delay:i8e,duration:o8e,ease:u8e,easeVarying:h8e,end:R8e,[Symbol.iterator]:b5[Symbol.iterator]};function $8e(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var z8e={time:null,delay:0,duration:250,ease:$8e};function q8e(i,a){for(var f;!(f=i.__transition)||!(f=f[a]);)if(!(i=i.parentNode))throw new Error(`transition ${a} not found`);return f}function H8e(i){var a,f;i instanceof p5?(a=i._id,i=i._name):(a=IMt(),(f=z8e).time=u1t(),i=i==null?null:i+"");for(var p=this._groups,v=p.length,m=0;m<v;++m)for(var b=p[m],E=b.length,_,L=0;L<E;++L)(_=b[L])&&OU(_,i,a,L,b,f||q8e(_,a));return new p5(p,this._parents,i,a)}yN.prototype.interrupt=$ke,yN.prototype.transition=H8e;const p1t=Math.PI,b1t=2*p1t,H7=1e-6,G8e=b1t-H7;function v1t(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function w1t(){return new v1t}v1t.prototype=w1t.prototype={constructor:v1t,moveTo:function(i,a){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+a)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(i,a){this._+="L"+(this._x1=+i)+","+(this._y1=+a)},quadraticCurveTo:function(i,a,f,p){this._+="Q"+ +i+","+ +a+","+(this._x1=+f)+","+(this._y1=+p)},bezierCurveTo:function(i,a,f,p,v,m){this._+="C"+ +i+","+ +a+","+ +f+","+ +p+","+(this._x1=+v)+","+(this._y1=+m)},arcTo:function(i,a,f,p,v){i=+i,a=+a,f=+f,p=+p,v=+v;var m=this._x1,b=this._y1,E=f-i,_=p-a,L=m-i,N=b-a,B=L*L+N*N;if(v<0)throw new Error("negative radius: "+v);if(this._x1===null)this._+="M"+(this._x1=i)+","+(this._y1=a);else if(B>H7)if(!(Math.abs(N*E-_*L)>H7)||!v)this._+="L"+(this._x1=i)+","+(this._y1=a);else{var j=f-m,R=p-b,z=E*E+_*_,K=j*j+R*R,it=Math.sqrt(z),st=Math.sqrt(B),ut=v*Math.tan((p1t-Math.acos((z+B-K)/(2*it*st)))/2),bt=ut/st,mt=ut/it;Math.abs(bt-1)>H7&&(this._+="L"+(i+bt*L)+","+(a+bt*N)),this._+="A"+v+","+v+",0,0,"+ +(N*j>L*R)+","+(this._x1=i+mt*E)+","+(this._y1=a+mt*_)}},arc:function(i,a,f,p,v,m){i=+i,a=+a,f=+f,m=!!m;var b=f*Math.cos(p),E=f*Math.sin(p),_=i+b,L=a+E,N=1^m,B=m?p-v:v-p;if(f<0)throw new Error("negative radius: "+f);this._x1===null?this._+="M"+_+","+L:(Math.abs(this._x1-_)>H7||Math.abs(this._y1-L)>H7)&&(this._+="L"+_+","+L),f&&(B<0&&(B=B%b1t+b1t),B>G8e?this._+="A"+f+","+f+",0,1,"+N+","+(i-b)+","+(a-E)+"A"+f+","+f+",0,1,"+N+","+(this._x1=_)+","+(this._y1=L):B>H7&&(this._+="A"+f+","+f+",0,"+ +(B>=p1t)+","+N+","+(this._x1=i+f*Math.cos(v))+","+(this._y1=a+f*Math.sin(v))))},rect:function(i,a,f,p){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+a)+"h"+ +f+"v"+ +p+"h"+-f+"Z"},toString:function(){return this._}};function V8e(i){if(!i.ok)throw new Error(i.status+" "+i.statusText);return i.text()}function U8e(i,a){return fetch(i,a).then(V8e)}function W8e(i){return(a,f)=>U8e(a,f).then(p=>new DOMParser().parseFromString(p,i))}var K8e=W8e("image/svg+xml");function Y8e(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function NU(i,a){if((f=(i=a?i.toExponential(a-1):i.toExponential()).indexOf("e"))<0)return null;var f,p=i.slice(0,f);return[p.length>1?p[0]+p.slice(2):p,+i.slice(f+1)]}function EA(i){return i=NU(Math.abs(i)),i?i[1]:NaN}function X8e(i,a){return function(f,p){for(var v=f.length,m=[],b=0,E=i[0],_=0;v>0&&E>0&&(_+E+1>p&&(E=Math.max(1,p-_)),m.push(f.substring(v-=E,v+E)),!((_+=E+1)>p));)E=i[b=(b+1)%i.length];return m.reverse().join(a)}}function Q8e(i){return function(a){return a.replace(/[0-9]/g,function(f){return i[+f]})}}var Z8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function PU(i){if(!(a=Z8e.exec(i)))throw new Error("invalid format: "+i);var a;return new m1t({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}PU.prototype=m1t.prototype;function m1t(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}m1t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J8e(i){t:for(var a=i.length,f=1,p=-1,v;f<a;++f)switch(i[f]){case".":p=v=f;break;case"0":p===0&&(p=f),v=f;break;default:if(!+i[f])break t;p>0&&(p=0);break}return p>0?i.slice(0,p)+i.slice(v+1):i}var DMt;function tEe(i,a){var f=NU(i,a);if(!f)return i+"";var p=f[0],v=f[1],m=v-(DMt=Math.max(-8,Math.min(8,Math.floor(v/3)))*3)+1,b=p.length;return m===b?p:m>b?p+new Array(m-b+1).join("0"):m>0?p.slice(0,m)+"."+p.slice(m):"0."+new Array(1-m).join("0")+NU(i,Math.max(0,a+m-1))[0]}function OMt(i,a){var f=NU(i,a);if(!f)return i+"";var p=f[0],v=f[1];return v<0?"0."+new Array(-v).join("0")+p:p.length>v+1?p.slice(0,v+1)+"."+p.slice(v+1):p+new Array(v-p.length+2).join("0")}const NMt={"%":(i,a)=>(i*100).toFixed(a),b:i=>Math.round(i).toString(2),c:i=>i+"",d:Y8e,e:(i,a)=>i.toExponential(a),f:(i,a)=>i.toFixed(a),g:(i,a)=>i.toPrecision(a),o:i=>Math.round(i).toString(8),p:(i,a)=>OMt(i*100,a),r:OMt,s:tEe,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function PMt(i){return i}var FMt=Array.prototype.map,BMt=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eEe(i){var a=i.grouping===void 0||i.thousands===void 0?PMt:X8e(FMt.call(i.grouping,Number),i.thousands+""),f=i.currency===void 0?"":i.currency[0]+"",p=i.currency===void 0?"":i.currency[1]+"",v=i.decimal===void 0?".":i.decimal+"",m=i.numerals===void 0?PMt:Q8e(FMt.call(i.numerals,String)),b=i.percent===void 0?"%":i.percent+"",E=i.minus===void 0?"":i.minus+"",_=i.nan===void 0?"NaN":i.nan+"";function L(B){B=PU(B);var j=B.fill,R=B.align,z=B.sign,K=B.symbol,it=B.zero,st=B.width,ut=B.comma,bt=B.precision,mt=B.trim,yt=B.type;yt==="n"?(ut=!0,yt="g"):NMt[yt]||(bt===void 0&&(bt=12),mt=!0,yt="g"),(it||j==="0"&&R==="=")&&(it=!0,j="0",R="=");var dt=K==="$"?f:K==="#"&&/[boxX]/.test(yt)?"0"+yt.toLowerCase():"",ht=K==="$"?p:/[%p]/.test(yt)?b:"",wt=NMt[yt],X=/[defgprs%]/.test(yt);bt=bt===void 0?6:/[gprs]/.test(yt)?Math.max(1,Math.min(21,bt)):Math.max(0,Math.min(20,bt));function pt(U){var xt=dt,nt=ht,Ot,Nt,qt;if(yt==="c")nt=wt(U)+nt,U="";else{U=+U;var Ct=U<0||1/U<0;if(U=isNaN(U)?_:wt(Math.abs(U),bt),mt&&(U=J8e(U)),Ct&&+U==0&&z!=="+"&&(Ct=!1),xt=(Ct?z==="("?z:E:z==="-"||z==="("?"":z)+xt,nt=(yt==="s"?BMt[8+DMt/3]:"")+nt+(Ct&&z==="("?")":""),X){for(Ot=-1,Nt=U.length;++Ot<Nt;)if(qt=U.charCodeAt(Ot),48>qt||qt>57){nt=(qt===46?v+U.slice(Ot+1):U.slice(Ot))+nt,U=U.slice(0,Ot);break}}}ut&&!it&&(U=a(U,1/0));var Z=xt.length+U.length+nt.length,Tt=Z<st?new Array(st-Z+1).join(j):"";switch(ut&&it&&(U=a(Tt+U,Tt.length?st-nt.length:1/0),Tt=""),R){case"<":U=xt+U+nt+Tt;break;case"=":U=xt+Tt+U+nt;break;case"^":U=Tt.slice(0,Z=Tt.length>>1)+xt+U+nt+Tt.slice(Z);break;default:U=Tt+xt+U+nt;break}return m(U)}return pt.toString=function(){return B+""},pt}function N(B,j){var R=L((B=PU(B),B.type="f",B)),z=Math.max(-8,Math.min(8,Math.floor(EA(j)/3)))*3,K=Math.pow(10,-z),it=BMt[8+z/3];return function(st){return R(K*st)+it}}return{format:L,formatPrefix:N}}var FU,RMt,jMt;nEe({thousands:",",grouping:[3],currency:["$",""]});function nEe(i){return FU=eEe(i),RMt=FU.format,jMt=FU.formatPrefix,FU}function rEe(i){return Math.max(0,-EA(Math.abs(i)))}function iEe(i,a){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(EA(a)/3)))*3-EA(Math.abs(i)))}function sEe(i,a){return i=Math.abs(i),a=Math.abs(a)-i,Math.max(0,EA(a)-EA(i))+1}function y1t(i,a){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(a).domain(i);break}return this}const $Mt=Symbol("implicit");function x1t(){var i=new DLt,a=[],f=[],p=$Mt;function v(m){let b=i.get(m);if(b===void 0){if(p!==$Mt)return p;i.set(m,b=a.push(m)-1)}return f[b%f.length]}return v.domain=function(m){if(!arguments.length)return a.slice();a=[],i=new DLt;for(const b of m)i.has(b)||i.set(b,a.push(b)-1);return v},v.range=function(m){return arguments.length?(f=Array.from(m),v):f.slice()},v.unknown=function(m){return arguments.length?(p=m,v):p},v.copy=function(){return x1t(a,f).unknown(p)},y1t.apply(v,arguments),v}function aEe(i){return function(){return i}}function oEe(i){return+i}var zMt=[0,1];function TA(i){return i}function k1t(i,a){return(a-=i=+i)?function(f){return(f-i)/a}:aEe(isNaN(a)?NaN:.5)}function cEe(i,a){var f;return i>a&&(f=i,i=a,a=f),function(p){return Math.max(i,Math.min(a,p))}}function uEe(i,a,f){var p=i[0],v=i[1],m=a[0],b=a[1];return v<p?(p=k1t(v,p),m=f(b,m)):(p=k1t(p,v),m=f(m,b)),function(E){return m(p(E))}}function lEe(i,a,f){var p=Math.min(i.length,a.length)-1,v=new Array(p),m=new Array(p),b=-1;for(i[p]<i[0]&&(i=i.slice().reverse(),a=a.slice().reverse());++b<p;)v[b]=k1t(i[b],i[b+1]),m[b]=f(a[b],a[b+1]);return function(E){var _=ixe(i,E,1,p)-1;return m[_](v[_](E))}}function qMt(i,a){return a.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function hEe(){var i=zMt,a=zMt,f=o1t,p,v,m,b=TA,E,_,L;function N(){var j=Math.min(i.length,a.length);return b!==TA&&(b=cEe(i[0],i[j-1])),E=j>2?lEe:uEe,_=L=null,B}function B(j){return j==null||isNaN(j=+j)?m:(_||(_=E(i.map(p),a,f)))(p(b(j)))}return B.invert=function(j){return b(v((L||(L=E(a,i.map(p),Kw)))(j)))},B.domain=function(j){return arguments.length?(i=Array.from(j,oEe),N()):i.slice()},B.range=function(j){return arguments.length?(a=Array.from(j),N()):a.slice()},B.rangeRound=function(j){return a=Array.from(j),f=Cke,N()},B.clamp=function(j){return arguments.length?(b=j?!0:TA,N()):b!==TA},B.interpolate=function(j){return arguments.length?(f=j,N()):f},B.unknown=function(j){return arguments.length?(m=j,B):m},function(j,R){return p=j,v=R,N()}}function HMt(){return hEe()(TA,TA)}function fEe(i,a,f,p){var v=Vft(i,a,f),m;switch(p=PU(p??",f"),p.type){case"s":{var b=Math.max(Math.abs(i),Math.abs(a));return p.precision==null&&!isNaN(m=iEe(v,b))&&(p.precision=m),jMt(p,b)}case"":case"e":case"g":case"p":case"r":{p.precision==null&&!isNaN(m=sEe(v,Math.max(Math.abs(i),Math.abs(a))))&&(p.precision=m-(p.type==="e"));break}case"f":case"%":{p.precision==null&&!isNaN(m=rEe(v))&&(p.precision=m-(p.type==="%")*2);break}}return RMt(p)}function dEe(i){var a=i.domain;return i.ticks=function(f){var p=a();return cxe(p[0],p[p.length-1],f??10)},i.tickFormat=function(f,p){var v=a();return fEe(v[0],v[v.length-1],f??10,p)},i.nice=function(f){f==null&&(f=10);var p=a(),v=0,m=p.length-1,b=p[v],E=p[m],_,L,N=10;for(E<b&&(L=b,b=E,E=L,L=v,v=m,m=L);N-- >0;){if(L=NLt(b,E,f),L===_)return p[v]=b,p[m]=E,a(p);if(L>0)b=Math.floor(b/L)*L,E=Math.ceil(E/L)*L;else if(L<0)b=Math.ceil(b*L)/L,E=Math.floor(E*L)/L;else break;_=L}return i},i}function BU(){var i=HMt();return i.copy=function(){return qMt(i,BU())},y1t.apply(i,arguments),dEe(i)}function gEe(i,a){i=i.slice();var f=0,p=i.length-1,v=i[f],m=i[p],b;return m<v&&(b=f,f=p,p=b,b=v,v=m,m=b),i[f]=a.floor(v),i[p]=a.ceil(m),i}var E1t=new Date,T1t=new Date;function rg(i,a,f,p){function v(m){return i(m=arguments.length===0?new Date:new Date(+m)),m}return v.floor=function(m){return i(m=new Date(+m)),m},v.ceil=function(m){return i(m=new Date(m-1)),a(m,1),i(m),m},v.round=function(m){var b=v(m),E=v.ceil(m);return m-b<E-m?b:E},v.offset=function(m,b){return a(m=new Date(+m),b==null?1:Math.floor(b)),m},v.range=function(m,b,E){var _=[],L;if(m=v.ceil(m),E=E==null?1:Math.floor(E),!(m<b)||!(E>0))return _;do _.push(L=new Date(+m)),a(m,E),i(m);while(L<m&&m<b);return _},v.filter=function(m){return rg(function(b){if(b>=b)for(;i(b),!m(b);)b.setTime(b-1)},function(b,E){if(b>=b)if(E<0)for(;++E<=0;)for(;a(b,-1),!m(b););else for(;--E>=0;)for(;a(b,1),!m(b););})},f&&(v.count=function(m,b){return E1t.setTime(+m),T1t.setTime(+b),i(E1t),i(T1t),Math.floor(f(E1t,T1t))},v.every=function(m){return m=Math.floor(m),!isFinite(m)||!(m>0)?null:m>1?v.filter(p?function(b){return p(b)%m===0}:function(b){return v.count(0,b)%m===0}):v}),v}var RU=rg(function(){},function(i,a){i.setTime(+i+a)},function(i,a){return a-i});RU.every=function(i){return i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?rg(function(a){a.setTime(Math.floor(a/i)*i)},function(a,f){a.setTime(+a+f*i)},function(a,f){return(f-a)/i}):RU};const C1t=RU;RU.range;const v5=1e3,c3=v5*60,G7=c3*60,V7=G7*24,_1t=V7*7,GMt=V7*30,S1t=V7*365;var VMt=rg(function(i){i.setTime(i-i.getMilliseconds())},function(i,a){i.setTime(+i+a*v5)},function(i,a){return(a-i)/v5},function(i){return i.getUTCSeconds()});const U7=VMt;VMt.range;var UMt=rg(function(i){i.setTime(i-i.getMilliseconds()-i.getSeconds()*v5)},function(i,a){i.setTime(+i+a*c3)},function(i,a){return(a-i)/c3},function(i){return i.getMinutes()});const jU=UMt;UMt.range;var WMt=rg(function(i){i.setTime(i-i.getMilliseconds()-i.getSeconds()*v5-i.getMinutes()*c3)},function(i,a){i.setTime(+i+a*G7)},function(i,a){return(a-i)/G7},function(i){return i.getHours()});const $U=WMt;WMt.range;var KMt=rg(i=>i.setHours(0,0,0,0),(i,a)=>i.setDate(i.getDate()+a),(i,a)=>(a-i-(a.getTimezoneOffset()-i.getTimezoneOffset())*c3)/V7,i=>i.getDate()-1);const CA=KMt;KMt.range;function W7(i){return rg(function(a){a.setDate(a.getDate()-(a.getDay()+7-i)%7),a.setHours(0,0,0,0)},function(a,f){a.setDate(a.getDate()+f*7)},function(a,f){return(f-a-(f.getTimezoneOffset()-a.getTimezoneOffset())*c3)/_1t})}var LN=W7(0),MN=W7(1),YMt=W7(2),XMt=W7(3),K7=W7(4),QMt=W7(5),ZMt=W7(6);LN.range,MN.range,YMt.range,XMt.range,K7.range,QMt.range,ZMt.range;var JMt=rg(function(i){i.setDate(1),i.setHours(0,0,0,0)},function(i,a){i.setMonth(i.getMonth()+a)},function(i,a){return a.getMonth()-i.getMonth()+(a.getFullYear()-i.getFullYear())*12},function(i){return i.getMonth()});const zU=JMt;JMt.range;var A1t=rg(function(i){i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,a){i.setFullYear(i.getFullYear()+a)},function(i,a){return a.getFullYear()-i.getFullYear()},function(i){return i.getFullYear()});A1t.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:rg(function(a){a.setFullYear(Math.floor(a.getFullYear()/i)*i),a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,f){a.setFullYear(a.getFullYear()+f*i)})};const Y7=A1t;A1t.range;var tIt=rg(function(i){i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCDate(i.getUTCDate()+a)},function(i,a){return(a-i)/V7},function(i){return i.getUTCDate()-1});const eIt=tIt;tIt.range;function X7(i){return rg(function(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-i)%7),a.setUTCHours(0,0,0,0)},function(a,f){a.setUTCDate(a.getUTCDate()+f*7)},function(a,f){return(f-a)/_1t})}var nIt=X7(0),qU=X7(1),pEe=X7(2),bEe=X7(3),_A=X7(4),vEe=X7(5),wEe=X7(6);nIt.range,qU.range,pEe.range,bEe.range,_A.range,vEe.range,wEe.range;var L1t=rg(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,a){i.setUTCFullYear(i.getUTCFullYear()+a)},function(i,a){return a.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});L1t.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:rg(function(a){a.setUTCFullYear(Math.floor(a.getUTCFullYear()/i)*i),a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,f){a.setUTCFullYear(a.getUTCFullYear()+f*i)})};const IN=L1t;L1t.range;function mEe(i,a,f,p,v,m){const b=[[U7,1,v5],[U7,5,5*v5],[U7,15,15*v5],[U7,30,30*v5],[m,1,c3],[m,5,5*c3],[m,15,15*c3],[m,30,30*c3],[v,1,G7],[v,3,3*G7],[v,6,6*G7],[v,12,12*G7],[p,1,V7],[p,2,2*V7],[f,1,_1t],[a,1,GMt],[a,3,3*GMt],[i,1,S1t]];function E(L,N,B){const j=N<L;j&&([L,N]=[N,L]);const R=B&&typeof B.range=="function"?B:_(L,N,B),z=R?R.range(L,+N+1):[];return j?z.reverse():z}function _(L,N,B){const j=Math.abs(N-L)/B,R=zft(([,,it])=>it).right(b,j);if(R===b.length)return i.every(Vft(L/S1t,N/S1t,B));if(R===0)return C1t.every(Math.max(Vft(L,N,B),1));const[z,K]=b[j/b[R-1][2]<b[R][2]/j?R-1:R];return z.every(K)}return[E,_]}const[yEe,xEe]=mEe(Y7,zU,LN,CA,$U,jU);function M1t(i){if(0<=i.y&&i.y<100){var a=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return a.setFullYear(i.y),a}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function I1t(i){if(0<=i.y&&i.y<100){var a=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return a.setUTCFullYear(i.y),a}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function DN(i,a,f){return{y:i,m:a,d:f,H:0,M:0,S:0,L:0}}function kEe(i){var a=i.dateTime,f=i.date,p=i.time,v=i.periods,m=i.days,b=i.shortDays,E=i.months,_=i.shortMonths,L=ON(v),N=NN(v),B=ON(m),j=NN(m),R=ON(b),z=NN(b),K=ON(E),it=NN(E),st=ON(_),ut=NN(_),bt={a:Ct,A:Z,b:Tt,B:Ht,c:null,d:cIt,e:cIt,f:VEe,g:e7e,G:r7e,H:qEe,I:HEe,j:GEe,L:uIt,m:UEe,M:WEe,p:It,q:Ft,Q:pIt,s:bIt,S:KEe,u:YEe,U:XEe,V:QEe,w:ZEe,W:JEe,x:null,X:null,y:t7e,Y:n7e,Z:i7e,"%":gIt},mt={a:ke,A:pn,b:Me,B:ve,c:null,d:hIt,e:hIt,f:c7e,g:w7e,G:y7e,H:s7e,I:a7e,j:o7e,L:fIt,m:u7e,M:l7e,p:Ge,q:Ke,Q:pIt,s:bIt,S:h7e,u:f7e,U:d7e,V:g7e,w:p7e,W:b7e,x:null,X:null,y:v7e,Y:m7e,Z:x7e,"%":gIt},yt={a:pt,A:U,b:xt,B:nt,c:Ot,d:aIt,e:aIt,f:REe,g:sIt,G:iIt,H:oIt,I:oIt,j:NEe,L:BEe,m:OEe,M:PEe,p:X,q:DEe,Q:$Ee,s:zEe,S:FEe,u:SEe,U:AEe,V:LEe,w:_Ee,W:MEe,x:Nt,X:qt,y:sIt,Y:iIt,Z:IEe,"%":jEe};bt.x=dt(f,bt),bt.X=dt(p,bt),bt.c=dt(a,bt),mt.x=dt(f,mt),mt.X=dt(p,mt),mt.c=dt(a,mt);function dt(we,_e){return function($t){var re=[],ie=-1,Oe=0,oe=we.length,Ne,me,cn;for($t instanceof Date||($t=new Date(+$t));++ie<oe;)we.charCodeAt(ie)===37&&(re.push(we.slice(Oe,ie)),(me=rIt[Ne=we.charAt(++ie)])!=null?Ne=we.charAt(++ie):me=Ne==="e"?" ":"0",(cn=_e[Ne])&&(Ne=cn($t,me)),re.push(Ne),Oe=ie+1);return re.push(we.slice(Oe,ie)),re.join("")}}function ht(we,_e){return function($t){var re=DN(1900,void 0,1),ie=wt(re,we,$t+="",0),Oe,oe;if(ie!=$t.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(_e&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Oe=I1t(DN(re.y,0,1)),oe=Oe.getUTCDay(),Oe=oe>4||oe===0?qU.ceil(Oe):qU(Oe),Oe=eIt.offset(Oe,(re.V-1)*7),re.y=Oe.getUTCFullYear(),re.m=Oe.getUTCMonth(),re.d=Oe.getUTCDate()+(re.w+6)%7):(Oe=M1t(DN(re.y,0,1)),oe=Oe.getDay(),Oe=oe>4||oe===0?MN.ceil(Oe):MN(Oe),Oe=CA.offset(Oe,(re.V-1)*7),re.y=Oe.getFullYear(),re.m=Oe.getMonth(),re.d=Oe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),oe="Z"in re?I1t(DN(re.y,0,1)).getUTCDay():M1t(DN(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(oe+5)%7:re.w+re.U*7-(oe+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,I1t(re)):M1t(re)}}function wt(we,_e,$t,re){for(var ie=0,Oe=_e.length,oe=$t.length,Ne,me;ie<Oe;){if(re>=oe)return-1;if(Ne=_e.charCodeAt(ie++),Ne===37){if(Ne=_e.charAt(ie++),me=yt[Ne in rIt?_e.charAt(ie++):Ne],!me||(re=me(we,$t,re))<0)return-1}else if(Ne!=$t.charCodeAt(re++))return-1}return re}function X(we,_e,$t){var re=L.exec(_e.slice($t));return re?(we.p=N.get(re[0].toLowerCase()),$t+re[0].length):-1}function pt(we,_e,$t){var re=R.exec(_e.slice($t));return re?(we.w=z.get(re[0].toLowerCase()),$t+re[0].length):-1}function U(we,_e,$t){var re=B.exec(_e.slice($t));return re?(we.w=j.get(re[0].toLowerCase()),$t+re[0].length):-1}function xt(we,_e,$t){var re=st.exec(_e.slice($t));return re?(we.m=ut.get(re[0].toLowerCase()),$t+re[0].length):-1}function nt(we,_e,$t){var re=K.exec(_e.slice($t));return re?(we.m=it.get(re[0].toLowerCase()),$t+re[0].length):-1}function Ot(we,_e,$t){return wt(we,a,_e,$t)}function Nt(we,_e,$t){return wt(we,f,_e,$t)}function qt(we,_e,$t){return wt(we,p,_e,$t)}function Ct(we){return b[we.getDay()]}function Z(we){return m[we.getDay()]}function Tt(we){return _[we.getMonth()]}function Ht(we){return E[we.getMonth()]}function It(we){return v[+(we.getHours()>=12)]}function Ft(we){return 1+~~(we.getMonth()/3)}function ke(we){return b[we.getUTCDay()]}function pn(we){return m[we.getUTCDay()]}function Me(we){return _[we.getUTCMonth()]}function ve(we){return E[we.getUTCMonth()]}function Ge(we){return v[+(we.getUTCHours()>=12)]}function Ke(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var _e=dt(we+="",bt);return _e.toString=function(){return we},_e},parse:function(we){var _e=ht(we+="",!1);return _e.toString=function(){return we},_e},utcFormat:function(we){var _e=dt(we+="",mt);return _e.toString=function(){return we},_e},utcParse:function(we){var _e=ht(we+="",!0);return _e.toString=function(){return we},_e}}}var rIt={"-":"",_:" ",0:"0"},K1=/^\s*\d+/,EEe=/^%/,TEe=/[\\^$*+?|[\]().{}]/g;function Dc(i,a,f){var p=i<0?"-":"",v=(p?-i:i)+"",m=v.length;return p+(m<f?new Array(f-m+1).join(a)+v:v)}function CEe(i){return i.replace(TEe,"\\$&")}function ON(i){return new RegExp("^(?:"+i.map(CEe).join("|")+")","i")}function NN(i){return new Map(i.map((a,f)=>[a.toLowerCase(),f]))}function _Ee(i,a,f){var p=K1.exec(a.slice(f,f+1));return p?(i.w=+p[0],f+p[0].length):-1}function SEe(i,a,f){var p=K1.exec(a.slice(f,f+1));return p?(i.u=+p[0],f+p[0].length):-1}function AEe(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.U=+p[0],f+p[0].length):-1}function LEe(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.V=+p[0],f+p[0].length):-1}function MEe(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.W=+p[0],f+p[0].length):-1}function iIt(i,a,f){var p=K1.exec(a.slice(f,f+4));return p?(i.y=+p[0],f+p[0].length):-1}function sIt(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.y=+p[0]+(+p[0]>68?1900:2e3),f+p[0].length):-1}function IEe(i,a,f){var p=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(a.slice(f,f+6));return p?(i.Z=p[1]?0:-(p[2]+(p[3]||"00")),f+p[0].length):-1}function DEe(i,a,f){var p=K1.exec(a.slice(f,f+1));return p?(i.q=p[0]*3-3,f+p[0].length):-1}function OEe(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.m=p[0]-1,f+p[0].length):-1}function aIt(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.d=+p[0],f+p[0].length):-1}function NEe(i,a,f){var p=K1.exec(a.slice(f,f+3));return p?(i.m=0,i.d=+p[0],f+p[0].length):-1}function oIt(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.H=+p[0],f+p[0].length):-1}function PEe(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.M=+p[0],f+p[0].length):-1}function FEe(i,a,f){var p=K1.exec(a.slice(f,f+2));return p?(i.S=+p[0],f+p[0].length):-1}function BEe(i,a,f){var p=K1.exec(a.slice(f,f+3));return p?(i.L=+p[0],f+p[0].length):-1}function REe(i,a,f){var p=K1.exec(a.slice(f,f+6));return p?(i.L=Math.floor(p[0]/1e3),f+p[0].length):-1}function jEe(i,a,f){var p=EEe.exec(a.slice(f,f+1));return p?f+p[0].length:-1}function $Ee(i,a,f){var p=K1.exec(a.slice(f));return p?(i.Q=+p[0],f+p[0].length):-1}function zEe(i,a,f){var p=K1.exec(a.slice(f));return p?(i.s=+p[0],f+p[0].length):-1}function cIt(i,a){return Dc(i.getDate(),a,2)}function qEe(i,a){return Dc(i.getHours(),a,2)}function HEe(i,a){return Dc(i.getHours()%12||12,a,2)}function GEe(i,a){return Dc(1+CA.count(Y7(i),i),a,3)}function uIt(i,a){return Dc(i.getMilliseconds(),a,3)}function VEe(i,a){return uIt(i,a)+"000"}function UEe(i,a){return Dc(i.getMonth()+1,a,2)}function WEe(i,a){return Dc(i.getMinutes(),a,2)}function KEe(i,a){return Dc(i.getSeconds(),a,2)}function YEe(i){var a=i.getDay();return a===0?7:a}function XEe(i,a){return Dc(LN.count(Y7(i)-1,i),a,2)}function lIt(i){var a=i.getDay();return a>=4||a===0?K7(i):K7.ceil(i)}function QEe(i,a){return i=lIt(i),Dc(K7.count(Y7(i),i)+(Y7(i).getDay()===4),a,2)}function ZEe(i){return i.getDay()}function JEe(i,a){return Dc(MN.count(Y7(i)-1,i),a,2)}function t7e(i,a){return Dc(i.getFullYear()%100,a,2)}function e7e(i,a){return i=lIt(i),Dc(i.getFullYear()%100,a,2)}function n7e(i,a){return Dc(i.getFullYear()%1e4,a,4)}function r7e(i,a){var f=i.getDay();return i=f>=4||f===0?K7(i):K7.ceil(i),Dc(i.getFullYear()%1e4,a,4)}function i7e(i){var a=i.getTimezoneOffset();return(a>0?"-":(a*=-1,"+"))+Dc(a/60|0,"0",2)+Dc(a%60,"0",2)}function hIt(i,a){return Dc(i.getUTCDate(),a,2)}function s7e(i,a){return Dc(i.getUTCHours(),a,2)}function a7e(i,a){return Dc(i.getUTCHours()%12||12,a,2)}function o7e(i,a){return Dc(1+eIt.count(IN(i),i),a,3)}function fIt(i,a){return Dc(i.getUTCMilliseconds(),a,3)}function c7e(i,a){return fIt(i,a)+"000"}function u7e(i,a){return Dc(i.getUTCMonth()+1,a,2)}function l7e(i,a){return Dc(i.getUTCMinutes(),a,2)}function h7e(i,a){return Dc(i.getUTCSeconds(),a,2)}function f7e(i){var a=i.getUTCDay();return a===0?7:a}function d7e(i,a){return Dc(nIt.count(IN(i)-1,i),a,2)}function dIt(i){var a=i.getUTCDay();return a>=4||a===0?_A(i):_A.ceil(i)}function g7e(i,a){return i=dIt(i),Dc(_A.count(IN(i),i)+(IN(i).getUTCDay()===4),a,2)}function p7e(i){return i.getUTCDay()}function b7e(i,a){return Dc(qU.count(IN(i)-1,i),a,2)}function v7e(i,a){return Dc(i.getUTCFullYear()%100,a,2)}function w7e(i,a){return i=dIt(i),Dc(i.getUTCFullYear()%100,a,2)}function m7e(i,a){return Dc(i.getUTCFullYear()%1e4,a,4)}function y7e(i,a){var f=i.getUTCDay();return i=f>=4||f===0?_A(i):_A.ceil(i),Dc(i.getUTCFullYear()%1e4,a,4)}function x7e(){return"+0000"}function gIt(){return"%"}function pIt(i){return+i}function bIt(i){return Math.floor(+i/1e3)}var SA,HU;k7e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function k7e(i){return SA=kEe(i),HU=SA.format,SA.parse,SA.utcFormat,SA.utcParse,SA}function E7e(i){return new Date(i)}function T7e(i){return i instanceof Date?+i:+new Date(+i)}function vIt(i,a,f,p,v,m,b,E,_,L){var N=HMt(),B=N.invert,j=N.domain,R=L(".%L"),z=L(":%S"),K=L("%I:%M"),it=L("%I %p"),st=L("%a %d"),ut=L("%b %d"),bt=L("%B"),mt=L("%Y");function yt(dt){return(_(dt)<dt?R:E(dt)<dt?z:b(dt)<dt?K:m(dt)<dt?it:p(dt)<dt?v(dt)<dt?st:ut:f(dt)<dt?bt:mt)(dt)}return N.invert=function(dt){return new Date(B(dt))},N.domain=function(dt){return arguments.length?j(Array.from(dt,T7e)):j().map(E7e)},N.ticks=function(dt){var ht=j();return i(ht[0],ht[ht.length-1],dt??10)},N.tickFormat=function(dt,ht){return ht==null?yt:L(ht)},N.nice=function(dt){var ht=j();return(!dt||typeof dt.range!="function")&&(dt=a(ht[0],ht[ht.length-1],dt??10)),dt?j(gEe(ht,dt)):N},N.copy=function(){return qMt(N,vIt(i,a,f,p,v,m,b,E,_,L))},N}function C7e(){return y1t.apply(vIt(yEe,xEe,Y7,zU,LN,CA,$U,jU,U7,HU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _7e(i){for(var a=i.length/6|0,f=new Array(a),p=0;p<a;)f[p]="#"+i.slice(p*6,++p*6);return f}const S7e=_7e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Yh(i){return function(){return i}}const wIt=Math.abs,b0=Math.atan2,Q7=Math.cos,A7e=Math.max,D1t=Math.min,u3=Math.sin,AA=Math.sqrt,v0=1e-12,PN=Math.PI,GU=PN/2,VU=2*PN;function L7e(i){return i>1?0:i<-1?PN:Math.acos(i)}function mIt(i){return i>=1?GU:i<=-1?-GU:Math.asin(i)}function M7e(i){return i.innerRadius}function I7e(i){return i.outerRadius}function D7e(i){return i.startAngle}function O7e(i){return i.endAngle}function N7e(i){return i&&i.padAngle}function P7e(i,a,f,p,v,m,b,E){var _=f-i,L=p-a,N=b-v,B=E-m,j=B*_-N*L;if(!(j*j<v0))return j=(N*(a-m)-B*(i-v))/j,[i+j*_,a+j*L]}function UU(i,a,f,p,v,m,b){var E=i-f,_=a-p,L=(b?m:-m)/AA(E*E+_*_),N=L*_,B=-L*E,j=i+N,R=a+B,z=f+N,K=p+B,it=(j+z)/2,st=(R+K)/2,ut=z-j,bt=K-R,mt=ut*ut+bt*bt,yt=v-m,dt=j*K-z*R,ht=(bt<0?-1:1)*AA(A7e(0,yt*yt*mt-dt*dt)),wt=(dt*bt-ut*ht)/mt,X=(-dt*ut-bt*ht)/mt,pt=(dt*bt+ut*ht)/mt,U=(-dt*ut+bt*ht)/mt,xt=wt-it,nt=X-st,Ot=pt-it,Nt=U-st;return xt*xt+nt*nt>Ot*Ot+Nt*Nt&&(wt=pt,X=U),{cx:wt,cy:X,x01:-N,y01:-B,x11:wt*(v/yt-1),y11:X*(v/yt-1)}}function LA(){var i=M7e,a=I7e,f=Yh(0),p=null,v=D7e,m=O7e,b=N7e,E=null;function _(){var L,N,B=+i.apply(this,arguments),j=+a.apply(this,arguments),R=v.apply(this,arguments)-GU,z=m.apply(this,arguments)-GU,K=wIt(z-R),it=z>R;if(E||(E=L=w1t()),j<B&&(N=j,j=B,B=N),!(j>v0))E.moveTo(0,0);else if(K>VU-v0)E.moveTo(j*Q7(R),j*u3(R)),E.arc(0,0,j,R,z,!it),B>v0&&(E.moveTo(B*Q7(z),B*u3(z)),E.arc(0,0,B,z,R,it));else{var st=R,ut=z,bt=R,mt=z,yt=K,dt=K,ht=b.apply(this,arguments)/2,wt=ht>v0&&(p?+p.apply(this,arguments):AA(B*B+j*j)),X=D1t(wIt(j-B)/2,+f.apply(this,arguments)),pt=X,U=X,xt,nt;if(wt>v0){var Ot=mIt(wt/B*u3(ht)),Nt=mIt(wt/j*u3(ht));(yt-=Ot*2)>v0?(Ot*=it?1:-1,bt+=Ot,mt-=Ot):(yt=0,bt=mt=(R+z)/2),(dt-=Nt*2)>v0?(Nt*=it?1:-1,st+=Nt,ut-=Nt):(dt=0,st=ut=(R+z)/2)}var qt=j*Q7(st),Ct=j*u3(st),Z=B*Q7(mt),Tt=B*u3(mt);if(X>v0){var Ht=j*Q7(ut),It=j*u3(ut),Ft=B*Q7(bt),ke=B*u3(bt),pn;if(K<PN&&(pn=P7e(qt,Ct,Ft,ke,Ht,It,Z,Tt))){var Me=qt-pn[0],ve=Ct-pn[1],Ge=Ht-pn[0],Ke=It-pn[1],we=1/u3(L7e((Me*Ge+ve*Ke)/(AA(Me*Me+ve*ve)*AA(Ge*Ge+Ke*Ke)))/2),_e=AA(pn[0]*pn[0]+pn[1]*pn[1]);pt=D1t(X,(B-_e)/(we-1)),U=D1t(X,(j-_e)/(we+1))}}dt>v0?U>v0?(xt=UU(Ft,ke,qt,Ct,j,U,it),nt=UU(Ht,It,Z,Tt,j,U,it),E.moveTo(xt.cx+xt.x01,xt.cy+xt.y01),U<X?E.arc(xt.cx,xt.cy,U,b0(xt.y01,xt.x01),b0(nt.y01,nt.x01),!it):(E.arc(xt.cx,xt.cy,U,b0(xt.y01,xt.x01),b0(xt.y11,xt.x11),!it),E.arc(0,0,j,b0(xt.cy+xt.y11,xt.cx+xt.x11),b0(nt.cy+nt.y11,nt.cx+nt.x11),!it),E.arc(nt.cx,nt.cy,U,b0(nt.y11,nt.x11),b0(nt.y01,nt.x01),!it))):(E.moveTo(qt,Ct),E.arc(0,0,j,st,ut,!it)):E.moveTo(qt,Ct),!(B>v0)||!(yt>v0)?E.lineTo(Z,Tt):pt>v0?(xt=UU(Z,Tt,Ht,It,B,-pt,it),nt=UU(qt,Ct,Ft,ke,B,-pt,it),E.lineTo(xt.cx+xt.x01,xt.cy+xt.y01),pt<X?E.arc(xt.cx,xt.cy,pt,b0(xt.y01,xt.x01),b0(nt.y01,nt.x01),!it):(E.arc(xt.cx,xt.cy,pt,b0(xt.y01,xt.x01),b0(xt.y11,xt.x11),!it),E.arc(0,0,B,b0(xt.cy+xt.y11,xt.cx+xt.x11),b0(nt.cy+nt.y11,nt.cx+nt.x11),it),E.arc(nt.cx,nt.cy,pt,b0(nt.y11,nt.x11),b0(nt.y01,nt.x01),!it))):E.arc(0,0,B,mt,bt,it)}if(E.closePath(),L)return E=null,L+""||null}return _.centroid=function(){var L=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2,N=(+v.apply(this,arguments)+ +m.apply(this,arguments))/2-PN/2;return[Q7(N)*L,u3(N)*L]},_.innerRadius=function(L){return arguments.length?(i=typeof L=="function"?L:Yh(+L),_):i},_.outerRadius=function(L){return arguments.length?(a=typeof L=="function"?L:Yh(+L),_):a},_.cornerRadius=function(L){return arguments.length?(f=typeof L=="function"?L:Yh(+L),_):f},_.padRadius=function(L){return arguments.length?(p=L==null?null:typeof L=="function"?L:Yh(+L),_):p},_.startAngle=function(L){return arguments.length?(v=typeof L=="function"?L:Yh(+L),_):v},_.endAngle=function(L){return arguments.length?(m=typeof L=="function"?L:Yh(+L),_):m},_.padAngle=function(L){return arguments.length?(b=typeof L=="function"?L:Yh(+L),_):b},_.context=function(L){return arguments.length?(E=L??null,_):E},_}function yIt(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function xIt(i){this._context=i}xIt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 1:this._point=2;default:this._context.lineTo(i,a);break}}};function ig(i){return new xIt(i)}function F7e(i){return i[0]}function B7e(i){return i[1]}function Z7(i,a){var f=Yh(!0),p=null,v=ig,m=null;i=typeof i=="function"?i:i===void 0?F7e:Yh(i),a=typeof a=="function"?a:a===void 0?B7e:Yh(a);function b(E){var _,L=(E=yIt(E)).length,N,B=!1,j;for(p==null&&(m=v(j=w1t())),_=0;_<=L;++_)!(_<L&&f(N=E[_],_,E))===B&&((B=!B)?m.lineStart():m.lineEnd()),B&&m.point(+i(N,_,E),+a(N,_,E));if(j)return m=null,j+""||null}return b.x=function(E){return arguments.length?(i=typeof E=="function"?E:Yh(+E),b):i},b.y=function(E){return arguments.length?(a=typeof E=="function"?E:Yh(+E),b):a},b.defined=function(E){return arguments.length?(f=typeof E=="function"?E:Yh(!!E),b):f},b.curve=function(E){return arguments.length?(v=E,p!=null&&(m=v(p)),b):v},b.context=function(E){return arguments.length?(E==null?p=m=null:m=v(p=E),b):p},b}function R7e(i,a){return a<i?-1:a>i?1:a>=i?0:NaN}function j7e(i){return i}function $7e(){var i=j7e,a=R7e,f=null,p=Yh(0),v=Yh(VU),m=Yh(0);function b(E){var _,L=(E=yIt(E)).length,N,B,j=0,R=new Array(L),z=new Array(L),K=+p.apply(this,arguments),it=Math.min(VU,Math.max(-VU,v.apply(this,arguments)-K)),st,ut=Math.min(Math.abs(it)/L,m.apply(this,arguments)),bt=ut*(it<0?-1:1),mt;for(_=0;_<L;++_)(mt=z[R[_]=_]=+i(E[_],_,E))>0&&(j+=mt);for(a!=null?R.sort(function(yt,dt){return a(z[yt],z[dt])}):f!=null&&R.sort(function(yt,dt){return f(E[yt],E[dt])}),_=0,B=j?(it-L*bt)/j:0;_<L;++_,K=st)N=R[_],mt=z[N],st=K+(mt>0?mt*B:0)+bt,z[N]={data:E[N],index:_,value:mt,startAngle:K,endAngle:st,padAngle:ut};return z}return b.value=function(E){return arguments.length?(i=typeof E=="function"?E:Yh(+E),b):i},b.sortValues=function(E){return arguments.length?(a=E,f=null,b):a},b.sort=function(E){return arguments.length?(f=E,a=null,b):f},b.startAngle=function(E){return arguments.length?(p=typeof E=="function"?E:Yh(+E),b):p},b.endAngle=function(E){return arguments.length?(v=typeof E=="function"?E:Yh(+E),b):v},b.padAngle=function(E){return arguments.length?(m=typeof E=="function"?E:Yh(+E),b):m},b}class kIt{constructor(a,f){this._context=a,this._x=f}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(a,f){switch(a=+a,f=+f,this._point){case 0:{this._point=1,this._line?this._context.lineTo(a,f):this._context.moveTo(a,f);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,f,a,f):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+f)/2,a,this._y0,a,f);break}}this._x0=a,this._y0=f}}function z7e(i){return new kIt(i,!0)}function q7e(i){return new kIt(i,!1)}function Z6(){}function WU(i,a,f){i._context.bezierCurveTo((2*i._x0+i._x1)/3,(2*i._y0+i._y1)/3,(i._x0+2*i._x1)/3,(i._y0+2*i._y1)/3,(i._x0+4*i._x1+a)/6,(i._y0+4*i._y1+f)/6)}function KU(i){this._context=i}KU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:WU(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:WU(this,i,a);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=a}};function FN(i){return new KU(i)}function EIt(i){this._context=i}EIt.prototype={areaStart:Z6,areaEnd:Z6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1,this._x2=i,this._y2=a;break;case 1:this._point=2,this._x3=i,this._y3=a;break;case 2:this._point=3,this._x4=i,this._y4=a,this._context.moveTo((this._x0+4*this._x1+i)/6,(this._y0+4*this._y1+a)/6);break;default:WU(this,i,a);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=a}};function H7e(i){return new EIt(i)}function TIt(i){this._context=i}TIt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var f=(this._x0+4*this._x1+i)/6,p=(this._y0+4*this._y1+a)/6;this._line?this._context.lineTo(f,p):this._context.moveTo(f,p);break;case 3:this._point=4;default:WU(this,i,a);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=a}};function G7e(i){return new TIt(i)}function CIt(i,a){this._basis=new KU(i),this._beta=a}CIt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var i=this._x,a=this._y,f=i.length-1;if(f>0)for(var p=i[0],v=a[0],m=i[f]-p,b=a[f]-v,E=-1,_;++E<=f;)_=E/f,this._basis.point(this._beta*i[E]+(1-this._beta)*(p+_*m),this._beta*a[E]+(1-this._beta)*(v+_*b));this._x=this._y=null,this._basis.lineEnd()},point:function(i,a){this._x.push(+i),this._y.push(+a)}};const V7e=function i(a){function f(p){return a===1?new KU(p):new CIt(p,a)}return f.beta=function(p){return i(+p)},f}(.85);function YU(i,a,f){i._context.bezierCurveTo(i._x1+i._k*(i._x2-i._x0),i._y1+i._k*(i._y2-i._y0),i._x2+i._k*(i._x1-a),i._y2+i._k*(i._y1-f),i._x2,i._y2)}function O1t(i,a){this._context=i,this._k=(1-a)/6}O1t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:YU(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 1:this._point=2,this._x1=i,this._y1=a;break;case 2:this._point=3;default:YU(this,i,a);break}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const U7e=function i(a){function f(p){return new O1t(p,a)}return f.tension=function(p){return i(+p)},f}(0);function N1t(i,a){this._context=i,this._k=(1-a)/6}N1t.prototype={areaStart:Z6,areaEnd:Z6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1,this._x3=i,this._y3=a;break;case 1:this._point=2,this._context.moveTo(this._x4=i,this._y4=a);break;case 2:this._point=3,this._x5=i,this._y5=a;break;default:YU(this,i,a);break}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const W7e=function i(a){function f(p){return new N1t(p,a)}return f.tension=function(p){return i(+p)},f}(0);function P1t(i,a){this._context=i,this._k=(1-a)/6}P1t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:YU(this,i,a);break}this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const K7e=function i(a){function f(p){return new P1t(p,a)}return f.tension=function(p){return i(+p)},f}(0);function F1t(i,a,f){var p=i._x1,v=i._y1,m=i._x2,b=i._y2;if(i._l01_a>v0){var E=2*i._l01_2a+3*i._l01_a*i._l12_a+i._l12_2a,_=3*i._l01_a*(i._l01_a+i._l12_a);p=(p*E-i._x0*i._l12_2a+i._x2*i._l01_2a)/_,v=(v*E-i._y0*i._l12_2a+i._y2*i._l01_2a)/_}if(i._l23_a>v0){var L=2*i._l23_2a+3*i._l23_a*i._l12_a+i._l12_2a,N=3*i._l23_a*(i._l23_a+i._l12_a);m=(m*L+i._x1*i._l23_2a-a*i._l12_2a)/N,b=(b*L+i._y1*i._l23_2a-f*i._l12_2a)/N}i._context.bezierCurveTo(p,v,m,b,i._x2,i._y2)}function _It(i,a){this._context=i,this._alpha=a}_It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){if(i=+i,a=+a,this._point){var f=this._x2-i,p=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(f*f+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 1:this._point=2;break;case 2:this._point=3;default:F1t(this,i,a);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const Y7e=function i(a){function f(p){return a?new _It(p,a):new O1t(p,0)}return f.alpha=function(p){return i(+p)},f}(.5);function SIt(i,a){this._context=i,this._alpha=a}SIt.prototype={areaStart:Z6,areaEnd:Z6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(i,a){if(i=+i,a=+a,this._point){var f=this._x2-i,p=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(f*f+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=i,this._y3=a;break;case 1:this._point=2,this._context.moveTo(this._x4=i,this._y4=a);break;case 2:this._point=3,this._x5=i,this._y5=a;break;default:F1t(this,i,a);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const X7e=function i(a){function f(p){return a?new SIt(p,a):new N1t(p,0)}return f.alpha=function(p){return i(+p)},f}(.5);function AIt(i,a){this._context=i,this._alpha=a}AIt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){if(i=+i,a=+a,this._point){var f=this._x2-i,p=this._y2-a;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(f*f+p*p,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:F1t(this,i,a);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=i,this._y0=this._y1,this._y1=this._y2,this._y2=a}};const Q7e=function i(a){function f(p){return a?new AIt(p,a):new P1t(p,0)}return f.alpha=function(p){return i(+p)},f}(.5);function LIt(i){this._context=i}LIt.prototype={areaStart:Z6,areaEnd:Z6,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(i,a){i=+i,a=+a,this._point?this._context.lineTo(i,a):(this._point=1,this._context.moveTo(i,a))}};function Z7e(i){return new LIt(i)}function MIt(i){return i<0?-1:1}function IIt(i,a,f){var p=i._x1-i._x0,v=a-i._x1,m=(i._y1-i._y0)/(p||v<0&&-0),b=(f-i._y1)/(v||p<0&&-0),E=(m*v+b*p)/(p+v);return(MIt(m)+MIt(b))*Math.min(Math.abs(m),Math.abs(b),.5*Math.abs(E))||0}function DIt(i,a){var f=i._x1-i._x0;return f?(3*(i._y1-i._y0)/f-a)/2:a}function B1t(i,a,f){var p=i._x0,v=i._y0,m=i._x1,b=i._y1,E=(m-p)/3;i._context.bezierCurveTo(p+E,v+E*a,m-E,b-E*f,m,b)}function XU(i){this._context=i}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B1t(this,this._t0,DIt(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,a){var f=NaN;if(i=+i,a=+a,!(i===this._x1&&a===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 1:this._point=2;break;case 2:this._point=3,B1t(this,DIt(this,f=IIt(this,i,a)),f);break;default:B1t(this,this._t0,f=IIt(this,i,a));break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=a,this._t0=f}}};function OIt(i){this._context=new NIt(i)}(OIt.prototype=Object.create(XU.prototype)).point=function(i,a){XU.prototype.point.call(this,a,i)};function NIt(i){this._context=i}NIt.prototype={moveTo:function(i,a){this._context.moveTo(a,i)},closePath:function(){this._context.closePath()},lineTo:function(i,a){this._context.lineTo(a,i)},bezierCurveTo:function(i,a,f,p,v,m){this._context.bezierCurveTo(a,i,p,f,m,v)}};function J7e(i){return new XU(i)}function tTe(i){return new OIt(i)}function PIt(i){this._context=i}PIt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var i=this._x,a=this._y,f=i.length;if(f)if(this._line?this._context.lineTo(i[0],a[0]):this._context.moveTo(i[0],a[0]),f===2)this._context.lineTo(i[1],a[1]);else for(var p=FIt(i),v=FIt(a),m=0,b=1;b<f;++m,++b)this._context.bezierCurveTo(p[0][m],v[0][m],p[1][m],v[1][m],i[b],a[b]);(this._line||this._line!==0&&f===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(i,a){this._x.push(+i),this._y.push(+a)}};function FIt(i){var a,f=i.length-1,p,v=new Array(f),m=new Array(f),b=new Array(f);for(v[0]=0,m[0]=2,b[0]=i[0]+2*i[1],a=1;a<f-1;++a)v[a]=1,m[a]=4,b[a]=4*i[a]+2*i[a+1];for(v[f-1]=2,m[f-1]=7,b[f-1]=8*i[f-1]+i[f],a=1;a<f;++a)p=v[a]/m[a-1],m[a]-=p,b[a]-=p*b[a-1];for(v[f-1]=b[f-1]/m[f-1],a=f-2;a>=0;--a)v[a]=(b[a]-v[a+1])/m[a];for(m[f-1]=(i[f]+v[f-1])/2,a=0;a<f-1;++a)m[a]=2*i[a+1]-v[a+1];return[v,m]}function eTe(i){return new PIt(i)}function QU(i,a){this._context=i,this._t=a}QU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(i,a){switch(i=+i,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,a):this._context.moveTo(i,a);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(i,a);else{var f=this._x*(1-this._t)+i*this._t;this._context.lineTo(f,this._y),this._context.lineTo(f,a)}break}}this._x=i,this._y=a}};function nTe(i){return new QU(i,.5)}function rTe(i){return new QU(i,0)}function iTe(i){return new QU(i,1)}function BN(i,a,f){this.k=i,this.x=a,this.y=f}BN.prototype={constructor:BN,scale:function(i){return i===1?this:new BN(this.k*i,this.x,this.y)},translate:function(i,a){return i===0&a===0?this:new BN(this.k,this.x+this.k*i,this.y+this.k*a)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},BN.prototype;/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:BIt,setPrototypeOf:RIt,isFrozen:sTe,getPrototypeOf:aTe,getOwnPropertyDescriptor:oTe}=Object;let{freeze:sg,seal:Xw,create:cTe}=Object,{apply:R1t,construct:j1t}=typeof Reflect<"u"&&Reflect;R1t||(R1t=function(a,f,p){return a.apply(f,p)}),sg||(sg=function(a){return a}),Xw||(Xw=function(a){return a}),j1t||(j1t=function(a,f){return new a(...f)});const uTe=K2(Array.prototype.forEach),jIt=K2(Array.prototype.pop),RN=K2(Array.prototype.push),ZU=K2(String.prototype.toLowerCase),$1t=K2(String.prototype.toString),lTe=K2(String.prototype.match),Qw=K2(String.prototype.replace),hTe=K2(String.prototype.indexOf),fTe=K2(String.prototype.trim),Mb=K2(RegExp.prototype.test),jN=dTe(TypeError);function K2(i){return function(a){for(var f=arguments.length,p=new Array(f>1?f-1:0),v=1;v<f;v++)p[v-1]=arguments[v];return R1t(i,a,p)}}function dTe(i){return function(){for(var a=arguments.length,f=new Array(a),p=0;p<a;p++)f[p]=arguments[p];return j1t(i,f)}}function wo(i,a,f){var p;f=(p=f)!==null&&p!==void 0?p:ZU,RIt&&RIt(i,null);let v=a.length;for(;v--;){let m=a[v];if(typeof m=="string"){const b=f(m);b!==m&&(sTe(a)||(a[v]=b),m=b)}i[m]=!0}return i}function MA(i){const a=cTe(null);for(const[f,p]of BIt(i))a[f]=p;return a}function JU(i,a){for(;i!==null;){const p=oTe(i,a);if(p){if(p.get)return K2(p.get);if(typeof p.value=="function")return K2(p.value)}i=aTe(i)}function f(p){return console.warn("fallback value for",p),null}return f}const $It=sg(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z1t=sg(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),q1t=sg(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),gTe=sg(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H1t=sg(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),pTe=sg(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),zIt=sg(["#text"]),qIt=sg(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G1t=sg(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HIt=sg(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tW=sg(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bTe=Xw(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vTe=Xw(/<%[\w\W]*|[\w\W]*%>/gm),wTe=Xw(/\${[\w\W]*}/gm),mTe=Xw(/^data-[\-\w.\u00B7-\uFFFF]/),yTe=Xw(/^aria-[\-\w]+$/),GIt=Xw(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),xTe=Xw(/^(?:\w+script|data):/i),kTe=Xw(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),VIt=Xw(/^html$/i);var UIt=Object.freeze({__proto__:null,MUSTACHE_EXPR:bTe,ERB_EXPR:vTe,TMPLIT_EXPR:wTe,DATA_ATTR:mTe,ARIA_ATTR:yTe,IS_ALLOWED_URI:GIt,IS_SCRIPT_OR_DATA:xTe,ATTR_WHITESPACE:kTe,DOCTYPE_NAME:VIt});const ETe=()=>typeof window>"u"?null:window,TTe=function(a,f){if(typeof a!="object"||typeof a.createPolicy!="function")return null;let p=null;const v="data-tt-policy-suffix";f&&f.hasAttribute(v)&&(p=f.getAttribute(v));const m="dompurify"+(p?"#"+p:"");try{return a.createPolicy(m,{createHTML(b){return b},createScriptURL(b){return b}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function WIt(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ETe();const a=Bi=>WIt(Bi);if(a.version="3.0.5",a.removed=[],!i||!i.document||i.document.nodeType!==9)return a.isSupported=!1,a;const f=i.document,p=f.currentScript;let{document:v}=i;const{DocumentFragment:m,HTMLTemplateElement:b,Node:E,Element:_,NodeFilter:L,NamedNodeMap:N=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:B,DOMParser:j,trustedTypes:R}=i,z=_.prototype,K=JU(z,"cloneNode"),it=JU(z,"nextSibling"),st=JU(z,"childNodes"),ut=JU(z,"parentNode");if(typeof b=="function"){const Bi=v.createElement("template");Bi.content&&Bi.content.ownerDocument&&(v=Bi.content.ownerDocument)}let bt,mt="";const{implementation:yt,createNodeIterator:dt,createDocumentFragment:ht,getElementsByTagName:wt}=v,{importNode:X}=f;let pt={};a.isSupported=typeof BIt=="function"&&typeof ut=="function"&&yt&&yt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:xt,TMPLIT_EXPR:nt,DATA_ATTR:Ot,ARIA_ATTR:Nt,IS_SCRIPT_OR_DATA:qt,ATTR_WHITESPACE:Ct}=UIt;let{IS_ALLOWED_URI:Z}=UIt,Tt=null;const Ht=wo({},[...$It,...z1t,...q1t,...H1t,...zIt]);let It=null;const Ft=wo({},[...qIt,...G1t,...HIt,...tW]);let ke=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pn=null,Me=null,ve=!0,Ge=!0,Ke=!1,we=!0,_e=!1,$t=!1,re=!1,ie=!1,Oe=!1,oe=!1,Ne=!1,me=!0,cn=!1;const li="user-content-";let ya=!0,da=!1,Oo={},ds=null;const Dr=wo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let nr=null;const di=wo({},["audio","video","img","source","image","track"]);let Ee=null;const Yn=wo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),He="http://www.w3.org/1998/Math/MathML",Ti="http://www.w3.org/2000/svg",gn="http://www.w3.org/1999/xhtml";let ks=gn,qa=!1,La=null;const Gs=wo({},[He,Ti,gn],$1t);let No;const vs=["application/xhtml+xml","text/html"],nu="text/html";let $s,Lu=null;const fm=v.createElement("form"),av=function(on){return on instanceof RegExp||on instanceof Function},Uu=function(on){if(!(Lu&&Lu===on)){if((!on||typeof on!="object")&&(on={}),on=MA(on),No=vs.indexOf(on.PARSER_MEDIA_TYPE)===-1?No=nu:No=on.PARSER_MEDIA_TYPE,$s=No==="application/xhtml+xml"?$1t:ZU,Tt="ALLOWED_TAGS"in on?wo({},on.ALLOWED_TAGS,$s):Ht,It="ALLOWED_ATTR"in on?wo({},on.ALLOWED_ATTR,$s):Ft,La="ALLOWED_NAMESPACES"in on?wo({},on.ALLOWED_NAMESPACES,$1t):Gs,Ee="ADD_URI_SAFE_ATTR"in on?wo(MA(Yn),on.ADD_URI_SAFE_ATTR,$s):Yn,nr="ADD_DATA_URI_TAGS"in on?wo(MA(di),on.ADD_DATA_URI_TAGS,$s):di,ds="FORBID_CONTENTS"in on?wo({},on.FORBID_CONTENTS,$s):Dr,pn="FORBID_TAGS"in on?wo({},on.FORBID_TAGS,$s):{},Me="FORBID_ATTR"in on?wo({},on.FORBID_ATTR,$s):{},Oo="USE_PROFILES"in on?on.USE_PROFILES:!1,ve=on.ALLOW_ARIA_ATTR!==!1,Ge=on.ALLOW_DATA_ATTR!==!1,Ke=on.ALLOW_UNKNOWN_PROTOCOLS||!1,we=on.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_e=on.SAFE_FOR_TEMPLATES||!1,$t=on.WHOLE_DOCUMENT||!1,Oe=on.RETURN_DOM||!1,oe=on.RETURN_DOM_FRAGMENT||!1,Ne=on.RETURN_TRUSTED_TYPE||!1,ie=on.FORCE_BODY||!1,me=on.SANITIZE_DOM!==!1,cn=on.SANITIZE_NAMED_PROPS||!1,ya=on.KEEP_CONTENT!==!1,da=on.IN_PLACE||!1,Z=on.ALLOWED_URI_REGEXP||GIt,ks=on.NAMESPACE||gn,ke=on.CUSTOM_ELEMENT_HANDLING||{},on.CUSTOM_ELEMENT_HANDLING&&av(on.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=on.CUSTOM_ELEMENT_HANDLING.tagNameCheck),on.CUSTOM_ELEMENT_HANDLING&&av(on.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=on.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),on.CUSTOM_ELEMENT_HANDLING&&typeof on.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ke.allowCustomizedBuiltInElements=on.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_e&&(Ge=!1),oe&&(Oe=!0),Oo&&(Tt=wo({},[...zIt]),It=[],Oo.html===!0&&(wo(Tt,$It),wo(It,qIt)),Oo.svg===!0&&(wo(Tt,z1t),wo(It,G1t),wo(It,tW)),Oo.svgFilters===!0&&(wo(Tt,q1t),wo(It,G1t),wo(It,tW)),Oo.mathMl===!0&&(wo(Tt,H1t),wo(It,HIt),wo(It,tW))),on.ADD_TAGS&&(Tt===Ht&&(Tt=MA(Tt)),wo(Tt,on.ADD_TAGS,$s)),on.ADD_ATTR&&(It===Ft&&(It=MA(It)),wo(It,on.ADD_ATTR,$s)),on.ADD_URI_SAFE_ATTR&&wo(Ee,on.ADD_URI_SAFE_ATTR,$s),on.FORBID_CONTENTS&&(ds===Dr&&(ds=MA(ds)),wo(ds,on.FORBID_CONTENTS,$s)),ya&&(Tt["#text"]=!0),$t&&wo(Tt,["html","head","body"]),Tt.table&&(wo(Tt,["tbody"]),delete pn.tbody),on.TRUSTED_TYPES_POLICY){if(typeof on.TRUSTED_TYPES_POLICY.createHTML!="function")throw jN('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof on.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw jN('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');bt=on.TRUSTED_TYPES_POLICY,mt=bt.createHTML("")}else bt===void 0&&(bt=TTe(R,p)),bt!==null&&typeof mt=="string"&&(mt=bt.createHTML(""));sg&&sg(on),Lu=on}},Zl=wo({},["mi","mo","mn","ms","mtext"]),Pa=wo({},["foreignobject","desc","title","annotation-xml"]),Al=wo({},["title","style","font","a","script"]),ua=wo({},z1t);wo(ua,q1t),wo(ua,gTe);const bc=wo({},H1t);wo(bc,pTe);const Cc=function(on){let kr=ut(on);(!kr||!kr.tagName)&&(kr={namespaceURI:ks,tagName:"template"});const Ei=ZU(on.tagName),Jo=ZU(kr.tagName);return La[on.namespaceURI]?on.namespaceURI===Ti?kr.namespaceURI===gn?Ei==="svg":kr.namespaceURI===He?Ei==="svg"&&(Jo==="annotation-xml"||Zl[Jo]):!!ua[Ei]:on.namespaceURI===He?kr.namespaceURI===gn?Ei==="math":kr.namespaceURI===Ti?Ei==="math"&&Pa[Jo]:!!bc[Ei]:on.namespaceURI===gn?kr.namespaceURI===Ti&&!Pa[Jo]||kr.namespaceURI===He&&!Zl[Jo]?!1:!bc[Ei]&&(Al[Ei]||!ua[Ei]):!!(No==="application/xhtml+xml"&&La[on.namespaceURI]):!1},ga=function(on){RN(a.removed,{element:on});try{on.parentNode.removeChild(on)}catch{on.remove()}},Ma=function(on,kr){try{RN(a.removed,{attribute:kr.getAttributeNode(on),from:kr})}catch{RN(a.removed,{attribute:null,from:kr})}if(kr.removeAttribute(on),on==="is"&&!It[on])if(Oe||oe)try{ga(kr)}catch{}else try{kr.setAttribute(on,"")}catch{}},Ha=function(on){let kr,Ei;if(ie)on="<remove></remove>"+on;else{const tf=lTe(on,/^[\r\n\t ]+/);Ei=tf&&tf[0]}No==="application/xhtml+xml"&&ks===gn&&(on='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+on+"</body></html>");const Jo=bt?bt.createHTML(on):on;if(ks===gn)try{kr=new j().parseFromString(Jo,No)}catch{}if(!kr||!kr.documentElement){kr=yt.createDocument(ks,"template",null);try{kr.documentElement.innerHTML=qa?mt:Jo}catch{}}const vc=kr.body||kr.documentElement;return on&&Ei&&vc.insertBefore(v.createTextNode(Ei),vc.childNodes[0]||null),ks===gn?wt.call(kr,$t?"html":"body")[0]:$t?kr.documentElement:vc},Ll=function(on){return dt.call(on.ownerDocument||on,on,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,null,!1)},_c=function(on){return on instanceof B&&(typeof on.nodeName!="string"||typeof on.textContent!="string"||typeof on.removeChild!="function"||!(on.attributes instanceof N)||typeof on.removeAttribute!="function"||typeof on.setAttribute!="function"||typeof on.namespaceURI!="string"||typeof on.insertBefore!="function"||typeof on.hasChildNodes!="function")},ov=function(on){return typeof E=="object"?on instanceof E:on&&typeof on=="object"&&typeof on.nodeType=="number"&&typeof on.nodeName=="string"},Jl=function(on,kr,Ei){pt[on]&&uTe(pt[on],Jo=>{Jo.call(a,kr,Ei,Lu)})},Z1=function(on){let kr;if(Jl("beforeSanitizeElements",on,null),_c(on))return ga(on),!0;const Ei=$s(on.nodeName);if(Jl("uponSanitizeElement",on,{tagName:Ei,allowedTags:Tt}),on.hasChildNodes()&&!ov(on.firstElementChild)&&(!ov(on.content)||!ov(on.content.firstElementChild))&&Mb(/<[/\w]/g,on.innerHTML)&&Mb(/<[/\w]/g,on.textContent))return ga(on),!0;if(!Tt[Ei]||pn[Ei]){if(!pn[Ei]&&J1(Ei)&&(ke.tagNameCheck instanceof RegExp&&Mb(ke.tagNameCheck,Ei)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(Ei)))return!1;if(ya&&!ds[Ei]){const Jo=ut(on)||on.parentNode,vc=st(on)||on.childNodes;if(vc&&Jo){const tf=vc.length;for(let Oc=tf-1;Oc>=0;--Oc)Jo.insertBefore(K(vc[Oc],!0),it(on))}}return ga(on),!0}return on instanceof _&&!Cc(on)||(Ei==="noscript"||Ei==="noembed"||Ei==="noframes")&&Mb(/<\/no(script|embed|frames)/i,on.innerHTML)?(ga(on),!0):(_e&&on.nodeType===3&&(kr=on.textContent,kr=Qw(kr,U," "),kr=Qw(kr,xt," "),kr=Qw(kr,nt," "),on.textContent!==kr&&(RN(a.removed,{element:on.cloneNode()}),on.textContent=kr)),Jl("afterSanitizeElements",on,null),!1)},Fd=function(on,kr,Ei){if(me&&(kr==="id"||kr==="name")&&(Ei in v||Ei in fm))return!1;if(!(Ge&&!Me[kr]&&Mb(Ot,kr))){if(!(ve&&Mb(Nt,kr))){if(!It[kr]||Me[kr]){if(!(J1(on)&&(ke.tagNameCheck instanceof RegExp&&Mb(ke.tagNameCheck,on)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(on))&&(ke.attributeNameCheck instanceof RegExp&&Mb(ke.attributeNameCheck,kr)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(kr))||kr==="is"&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&Mb(ke.tagNameCheck,Ei)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(Ei))))return!1}else if(!Ee[kr]){if(!Mb(Z,Qw(Ei,Ct,""))){if(!((kr==="src"||kr==="xlink:href"||kr==="href")&&on!=="script"&&hTe(Ei,"data:")===0&&nr[on])){if(!(Ke&&!Mb(qt,Qw(Ei,Ct,"")))){if(Ei)return!1}}}}}}return!0},J1=function(on){return on.indexOf("-")>0},Bd=function(on){let kr,Ei,Jo,vc;Jl("beforeSanitizeAttributes",on,null);const{attributes:tf}=on;if(!tf)return;const Oc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:It};for(vc=tf.length;vc--;){kr=tf[vc];const{name:ef,namespaceURI:nf}=kr;if(Ei=ef==="value"?kr.value:fTe(kr.value),Jo=$s(ef),Oc.attrName=Jo,Oc.attrValue=Ei,Oc.keepAttr=!0,Oc.forceKeepAttr=void 0,Jl("uponSanitizeAttribute",on,Oc),Ei=Oc.attrValue,Oc.forceKeepAttr||(Ma(ef,on),!Oc.keepAttr))continue;if(!we&&Mb(/\/>/i,Ei)){Ma(ef,on);continue}_e&&(Ei=Qw(Ei,U," "),Ei=Qw(Ei,xt," "),Ei=Qw(Ei,nt," "));const Xi=$s(on.nodeName);if(Fd(Xi,Jo,Ei)){if(cn&&(Jo==="id"||Jo==="name")&&(Ma(ef,on),Ei=li+Ei),bt&&typeof R=="object"&&typeof R.getAttributeType=="function"&&!nf)switch(R.getAttributeType(Xi,Jo)){case"TrustedHTML":{Ei=bt.createHTML(Ei);break}case"TrustedScriptURL":{Ei=bt.createScriptURL(Ei);break}}try{nf?on.setAttributeNS(nf,ef,Ei):on.setAttribute(ef,Ei),jIt(a.removed)}catch{}}}Jl("afterSanitizeAttributes",on,null)},E0=function Bi(on){let kr;const Ei=Ll(on);for(Jl("beforeSanitizeShadowDOM",on,null);kr=Ei.nextNode();)Jl("uponSanitizeShadowNode",kr,null),!Z1(kr)&&(kr.content instanceof m&&Bi(kr.content),Bd(kr));Jl("afterSanitizeShadowDOM",on,null)};return a.sanitize=function(Bi){let on=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kr,Ei,Jo,vc;if(qa=!Bi,qa&&(Bi="<!-->"),typeof Bi!="string"&&!ov(Bi))if(typeof Bi.toString=="function"){if(Bi=Bi.toString(),typeof Bi!="string")throw jN("dirty is not a string, aborting")}else throw jN("toString is not a function");if(!a.isSupported)return Bi;if(re||Uu(on),a.removed=[],typeof Bi=="string"&&(da=!1),da){if(Bi.nodeName){const ef=$s(Bi.nodeName);if(!Tt[ef]||pn[ef])throw jN("root node is forbidden and cannot be sanitized in-place")}}else if(Bi instanceof E)kr=Ha("<!---->"),Ei=kr.ownerDocument.importNode(Bi,!0),Ei.nodeType===1&&Ei.nodeName==="BODY"||Ei.nodeName==="HTML"?kr=Ei:kr.appendChild(Ei);else{if(!Oe&&!_e&&!$t&&Bi.indexOf("<")===-1)return bt&&Ne?bt.createHTML(Bi):Bi;if(kr=Ha(Bi),!kr)return Oe?null:Ne?mt:""}kr&&ie&&ga(kr.firstChild);const tf=Ll(da?Bi:kr);for(;Jo=tf.nextNode();)Z1(Jo)||(Jo.content instanceof m&&E0(Jo.content),Bd(Jo));if(da)return Bi;if(Oe){if(oe)for(vc=ht.call(kr.ownerDocument);kr.firstChild;)vc.appendChild(kr.firstChild);else vc=kr;return(It.shadowroot||It.shadowrootmode)&&(vc=X.call(f,vc,!0)),vc}let Oc=$t?kr.outerHTML:kr.innerHTML;return $t&&Tt["!doctype"]&&kr.ownerDocument&&kr.ownerDocument.doctype&&kr.ownerDocument.doctype.name&&Mb(VIt,kr.ownerDocument.doctype.name)&&(Oc="<!DOCTYPE "+kr.ownerDocument.doctype.name+`>
`+Oc),_e&&(Oc=Qw(Oc,U," "),Oc=Qw(Oc,xt," "),Oc=Qw(Oc,nt," ")),bt&&Ne?bt.createHTML(Oc):Oc},a.setConfig=function(Bi){Uu(Bi),re=!0},a.clearConfig=function(){Lu=null,re=!1},a.isValidAttribute=function(Bi,on,kr){Lu||Uu({});const Ei=$s(Bi),Jo=$s(on);return Fd(Ei,Jo,kr)},a.addHook=function(Bi,on){typeof on=="function"&&(pt[Bi]=pt[Bi]||[],RN(pt[Bi],on))},a.removeHook=function(Bi){if(pt[Bi])return jIt(pt[Bi])},a.removeHooks=function(Bi){pt[Bi]&&(pt[Bi]=[])},a.removeAllHooks=function(){pt={}},a}var eW=WIt();const $N=/<br\s*\/?>/gi,CTe=i=>i?XIt(i).replace(/\\n/g,"#br#").split("#br#"):[""],KIt=i=>eW.sanitize(i),YIt=(i,a)=>{var f;if(((f=a.flowchart)==null?void 0:f.htmlLabels)!==!1){const p=a.securityLevel;p==="antiscript"||p==="strict"?i=KIt(i):p!=="loose"&&(i=XIt(i),i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=i.replace(/=/g,"&equals;"),i=LTe(i))}return i},Dd=(i,a)=>i&&(a.dompurifyConfig?i=eW.sanitize(YIt(i,a),a.dompurifyConfig).toString():i=eW.sanitize(YIt(i,a),{FORBID_TAGS:["style"]}).toString(),i),_Te=(i,a)=>typeof i=="string"?Dd(i,a):i.flat().map(f=>Dd(f,a)),STe=i=>$N.test(i),ATe=i=>i.split($N),LTe=i=>i.replace(/#br#/g,"<br/>"),XIt=i=>i.replace($N,"#br#"),MTe=i=>{let a="";return i&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replaceAll(/\(/g,"\\("),a=a.replaceAll(/\)/g,"\\)")),a},s1=i=>!(i===!1||["false","null","0"].includes(String(i).trim().toLowerCase())),ITe=function(...i){const a=i.filter(f=>!isNaN(f));return Math.max(...a)},DTe=function(...i){const a=i.filter(f=>!isNaN(f));return Math.min(...a)},zN=function(i){const a=i.split(/(,)/),f=[];for(let p=0;p<a.length;p++){let v=a[p];if(v===","&&p>0&&p+1<a.length){const m=a[p-1],b=a[p+1];OTe(m,b)&&(v=m+","+b,p++,f.pop())}f.push(NTe(v))}return f.join("")},V1t=(i,a)=>Math.max(0,i.split(a).length-1),OTe=(i,a)=>{const f=V1t(i,"~"),p=V1t(a,"~");return f===1&&p===1},NTe=i=>{const a=V1t(i,"~");let f=!1;if(a<=1)return i;a%2!==0&&i.startsWith("~")&&(i=i.substring(1),f=!0);const p=[...i];let v=p.indexOf("~"),m=p.lastIndexOf("~");for(;v!==-1&&m!==-1&&v!==m;)p[v]="<",p[m]=">",v=p.indexOf("~"),m=p.lastIndexOf("~");return f&&p.unshift("~"),p.join("")},Yr={getRows:CTe,sanitizeText:Dd,sanitizeTextOrArray:_Te,hasBreaks:STe,splitBreaks:ATe,lineBreakRegex:$N,removeScript:KIt,getUrl:MTe,evaluate:s1,getMax:ITe,getMin:DTe},nW={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:i=>i>=255?255:i<0?0:i,g:i=>i>=255?255:i<0?0:i,b:i=>i>=255?255:i<0?0:i,h:i=>i%360,s:i=>i>=100?100:i<0?0:i,l:i=>i>=100?100:i<0?0:i,a:i=>i>=1?1:i<0?0:i},toLinear:i=>{const a=i/255;return i>.03928?Math.pow((a+.055)/1.055,2.4):a/12.92},hue2rgb:(i,a,f)=>(f<0&&(f+=1),f>1&&(f-=1),f<1/6?i+(a-i)*6*f:f<1/2?a:f<2/3?i+(a-i)*(2/3-f)*6:i),hsl2rgb:({h:i,s:a,l:f},p)=>{if(!a)return f*2.55;i/=360,a/=100,f/=100;const v=f<.5?f*(1+a):f+a-f*a,m=2*f-v;switch(p){case"r":return nW.hue2rgb(m,v,i+1/3)*255;case"g":return nW.hue2rgb(m,v,i)*255;case"b":return nW.hue2rgb(m,v,i-1/3)*255}},rgb2hsl:({r:i,g:a,b:f},p)=>{i/=255,a/=255,f/=255;const v=Math.max(i,a,f),m=Math.min(i,a,f),b=(v+m)/2;if(p==="l")return b*100;if(v===m)return 0;const E=v-m,_=b>.5?E/(2-v-m):E/(v+m);if(p==="s")return _*100;switch(v){case i:return((a-f)/E+(a<f?6:0))*60;case a:return((f-i)/E+2)*60;case f:return((i-a)/E+4)*60;default:return-1}}},fa={channel:nW,lang:{clamp:(i,a,f)=>a>f?Math.min(a,Math.max(f,i)):Math.min(f,Math.max(a,i)),round:i=>Math.round(i*1e10)/1e10},unit:{dec2hex:i=>{const a=Math.round(i).toString(16);return a.length>1?a:`0${a}`}}},J6={};for(let i=0;i<=255;i++)J6[i]=fa.unit.dec2hex(i);const w0={ALL:0,RGB:1,HSL:2};class PTe{constructor(){this.type=w0.ALL}get(){return this.type}set(a){if(this.type&&this.type!==a)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=a}reset(){this.type=w0.ALL}is(a){return this.type===a}}const FTe=PTe;class BTe{constructor(a,f){this.color=f,this.changed=!1,this.data=a,this.type=new FTe}set(a,f){return this.color=f,this.changed=!1,this.data=a,this.type.type=w0.ALL,this}_ensureHSL(){const a=this.data,{h:f,s:p,l:v}=a;f===void 0&&(a.h=fa.channel.rgb2hsl(a,"h")),p===void 0&&(a.s=fa.channel.rgb2hsl(a,"s")),v===void 0&&(a.l=fa.channel.rgb2hsl(a,"l"))}_ensureRGB(){const a=this.data,{r:f,g:p,b:v}=a;f===void 0&&(a.r=fa.channel.hsl2rgb(a,"r")),p===void 0&&(a.g=fa.channel.hsl2rgb(a,"g")),v===void 0&&(a.b=fa.channel.hsl2rgb(a,"b"))}get r(){const a=this.data,f=a.r;return!this.type.is(w0.HSL)&&f!==void 0?f:(this._ensureHSL(),fa.channel.hsl2rgb(a,"r"))}get g(){const a=this.data,f=a.g;return!this.type.is(w0.HSL)&&f!==void 0?f:(this._ensureHSL(),fa.channel.hsl2rgb(a,"g"))}get b(){const a=this.data,f=a.b;return!this.type.is(w0.HSL)&&f!==void 0?f:(this._ensureHSL(),fa.channel.hsl2rgb(a,"b"))}get h(){const a=this.data,f=a.h;return!this.type.is(w0.RGB)&&f!==void 0?f:(this._ensureRGB(),fa.channel.rgb2hsl(a,"h"))}get s(){const a=this.data,f=a.s;return!this.type.is(w0.RGB)&&f!==void 0?f:(this._ensureRGB(),fa.channel.rgb2hsl(a,"s"))}get l(){const a=this.data,f=a.l;return!this.type.is(w0.RGB)&&f!==void 0?f:(this._ensureRGB(),fa.channel.rgb2hsl(a,"l"))}get a(){return this.data.a}set r(a){this.type.set(w0.RGB),this.changed=!0,this.data.r=a}set g(a){this.type.set(w0.RGB),this.changed=!0,this.data.g=a}set b(a){this.type.set(w0.RGB),this.changed=!0,this.data.b=a}set h(a){this.type.set(w0.HSL),this.changed=!0,this.data.h=a}set s(a){this.type.set(w0.HSL),this.changed=!0,this.data.s=a}set l(a){this.type.set(w0.HSL),this.changed=!0,this.data.l=a}set a(a){this.changed=!0,this.data.a=a}}const RTe=BTe,rW=new RTe({r:0,g:0,b:0,a:0},"transparent"),QIt={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:i=>{if(i.charCodeAt(0)!==35)return;const a=i.match(QIt.re);if(!a)return;const f=a[1],p=parseInt(f,16),v=f.length,m=v%4===0,b=v>4,E=b?1:17,_=b?8:4,L=m?0:-1,N=b?255:15;return rW.set({r:(p>>_*(L+3)&N)*E,g:(p>>_*(L+2)&N)*E,b:(p>>_*(L+1)&N)*E,a:m?(p&N)*E/255:1},i)},stringify:i=>{const{r:a,g:f,b:p,a:v}=i;return v<1?`#${J6[Math.round(a)]}${J6[Math.round(f)]}${J6[Math.round(p)]}${J6[Math.round(v*255)]}`:`#${J6[Math.round(a)]}${J6[Math.round(f)]}${J6[Math.round(p)]}`}},qN=QIt,iW={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:i=>{const a=i.match(iW.hueRe);if(a){const[,f,p]=a;switch(p){case"grad":return fa.channel.clamp.h(parseFloat(f)*.9);case"rad":return fa.channel.clamp.h(parseFloat(f)*180/Math.PI);case"turn":return fa.channel.clamp.h(parseFloat(f)*360)}}return fa.channel.clamp.h(parseFloat(i))},parse:i=>{const a=i.charCodeAt(0);if(a!==104&&a!==72)return;const f=i.match(iW.re);if(!f)return;const[,p,v,m,b,E]=f;return rW.set({h:iW._hue2deg(p),s:fa.channel.clamp.s(parseFloat(v)),l:fa.channel.clamp.l(parseFloat(m)),a:b?fa.channel.clamp.a(E?parseFloat(b)/100:parseFloat(b)):1},i)},stringify:i=>{const{h:a,s:f,l:p,a:v}=i;return v<1?`hsla(${fa.lang.round(a)}, ${fa.lang.round(f)}%, ${fa.lang.round(p)}%, ${v})`:`hsl(${fa.lang.round(a)}, ${fa.lang.round(f)}%, ${fa.lang.round(p)}%)`}},sW=iW,aW={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:i=>{i=i.toLowerCase();const a=aW.colors[i];if(a)return qN.parse(a)},stringify:i=>{const a=qN.stringify(i);for(const f in aW.colors)if(aW.colors[f]===a)return f}},ZIt=aW,JIt={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:i=>{const a=i.charCodeAt(0);if(a!==114&&a!==82)return;const f=i.match(JIt.re);if(!f)return;const[,p,v,m,b,E,_,L,N]=f;return rW.set({r:fa.channel.clamp.r(v?parseFloat(p)*2.55:parseFloat(p)),g:fa.channel.clamp.g(b?parseFloat(m)*2.55:parseFloat(m)),b:fa.channel.clamp.b(_?parseFloat(E)*2.55:parseFloat(E)),a:L?fa.channel.clamp.a(N?parseFloat(L)/100:parseFloat(L)):1},i)},stringify:i=>{const{r:a,g:f,b:p,a:v}=i;return v<1?`rgba(${fa.lang.round(a)}, ${fa.lang.round(f)}, ${fa.lang.round(p)}, ${fa.lang.round(v)})`:`rgb(${fa.lang.round(a)}, ${fa.lang.round(f)}, ${fa.lang.round(p)})`}},oW=JIt,Zw={format:{keyword:ZIt,hex:qN,rgb:oW,rgba:oW,hsl:sW,hsla:sW},parse:i=>{if(typeof i!="string")return i;const a=qN.parse(i)||oW.parse(i)||sW.parse(i)||ZIt.parse(i);if(a)return a;throw new Error(`Unsupported color format: "${i}"`)},stringify:i=>!i.changed&&i.color?i.color:i.type.is(w0.HSL)||i.data.r===void 0?sW.stringify(i):i.a<1||!Number.isInteger(i.r)||!Number.isInteger(i.g)||!Number.isInteger(i.b)?oW.stringify(i):qN.stringify(i)},tDt=(i,a)=>{const f=Zw.parse(i);for(const p in a)f[p]=fa.channel.clamp[p](a[p]);return Zw.stringify(f)},IA=(i,a,f=0,p=1)=>{if(typeof i!="number")return tDt(i,{a});const v=rW.set({r:fa.channel.clamp.r(i),g:fa.channel.clamp.g(a),b:fa.channel.clamp.b(f),a:fa.channel.clamp.a(p)});return Zw.stringify(v)},jTe=(i,a)=>fa.lang.round(Zw.parse(i)[a]),$Te=i=>{const{r:a,g:f,b:p}=Zw.parse(i),v=.2126*fa.channel.toLinear(a)+.7152*fa.channel.toLinear(f)+.0722*fa.channel.toLinear(p);return fa.lang.round(v)},zTe=i=>$Te(i)>=.5,J7=i=>!zTe(i),eDt=(i,a,f)=>{const p=Zw.parse(i),v=p[a],m=fa.channel.clamp[a](v+f);return v!==m&&(p[a]=m),Zw.stringify(p)},bs=(i,a)=>eDt(i,"l",a),js=(i,a)=>eDt(i,"l",-a),xn=(i,a)=>{const f=Zw.parse(i),p={};for(const v in a)a[v]&&(p[v]=f[v]+a[v]);return tDt(i,p)},qTe=(i,a,f=50)=>{const{r:p,g:v,b:m,a:b}=Zw.parse(i),{r:E,g:_,b:L,a:N}=Zw.parse(a),B=f/100,j=B*2-1,R=b-N,K=((j*R===-1?j:(j+R)/(1+j*R))+1)/2,it=1-K,st=p*K+E*it,ut=v*K+_*it,bt=m*K+L*it,mt=b*B+N*(1-B);return IA(st,ut,bt,mt)},Ii=(i,a=100)=>{const f=Zw.parse(i);return f.r=255-f.r,f.g=255-f.g,f.b=255-f.b,qTe(f,i,a)},ag=(i,a)=>a?xn(i,{s:-40,l:10}):xn(i,{s:-40,l:-10}),cW="#ffffff",uW="#f2f2f2";let HTe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||xn(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||xn(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ag(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ag(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ag(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ag(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ii(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ii(this.tertiaryColor),this.lineColor=this.lineColor||Ii(this.background),this.arrowheadColor=this.arrowheadColor||Ii(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?js(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||js(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ii(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||bs(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xn(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||xn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xn(this.primaryColor,{h:330}),this.darkMode)for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=js(this["cScale"+f],75);else for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=js(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Ii(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||bs(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||js(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;const a=this.darkMode?-4:-1;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||xn(this.mainBkg,{h:180,s:-15,l:a*(5+f*3)}),this["surfacePeer"+f]=this["surfacePeer"+f]||xn(this.mainBkg,{h:180,s:-15,l:a*(8+f*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||xn(this.primaryColor,{h:64}),this.fillType3=this.fillType3||xn(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||xn(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||xn(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||xn(this.primaryColor,{h:128}),this.fillType7=this.fillType7||xn(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||xn(this.primaryColor,{l:-10}),this.pie5=this.pie5||xn(this.secondaryColor,{l:-10}),this.pie6=this.pie6||xn(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||xn(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||xn(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||xn(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||xn(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||xn(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||xn(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xn(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xn(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xn(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xn(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xn(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xn(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||J7(this.quadrant1Fill)?bs(this.quadrant1Fill):js(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?js(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||xn(this.primaryColor,{h:-30}),this.git4=this.git4||xn(this.primaryColor,{h:-60}),this.git5=this.git5||xn(this.primaryColor,{h:-90}),this.git6=this.git6||xn(this.primaryColor,{h:60}),this.git7=this.git7||xn(this.primaryColor,{h:120}),this.darkMode?(this.git0=bs(this.git0,25),this.git1=bs(this.git1,25),this.git2=bs(this.git2,25),this.git3=bs(this.git3,25),this.git4=bs(this.git4,25),this.git5=bs(this.git5,25),this.git6=bs(this.git6,25),this.git7=bs(this.git7,25)):(this.git0=js(this.git0,25),this.git1=js(this.git1,25),this.git2=js(this.git2,25),this.git3=js(this.git3,25),this.git4=js(this.git4,25),this.git5=js(this.git5,25),this.git6=js(this.git6,25),this.git7=js(this.git7,25)),this.gitInv0=this.gitInv0||Ii(this.git0),this.gitInv1=this.gitInv1||Ii(this.git1),this.gitInv2=this.gitInv2||Ii(this.git2),this.gitInv3=this.gitInv3||Ii(this.git3),this.gitInv4=this.gitInv4||Ii(this.git4),this.gitInv5=this.gitInv5||Ii(this.git5),this.gitInv6=this.gitInv6||Ii(this.git6),this.gitInv7=this.gitInv7||Ii(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cW,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uW}calculate(a){if(typeof a!="object"){this.updateColors();return}const f=Object.keys(a);f.forEach(p=>{this[p]=a[p]}),this.updateColors(),f.forEach(p=>{this[p]=a[p]})}};const GTe=i=>{const a=new HTe;return a.calculate(i),a};let VTe=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=bs(this.primaryColor,16),this.tertiaryColor=xn(this.primaryColor,{h:-160}),this.primaryBorderColor=Ii(this.background),this.secondaryBorderColor=ag(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ag(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ii(this.primaryColor),this.secondaryTextColor=Ii(this.secondaryColor),this.tertiaryTextColor=Ii(this.tertiaryColor),this.lineColor=Ii(this.background),this.textColor=Ii(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=bs(Ii("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=IA(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=js("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=js(this.sectionBkgColor,10),this.taskBorderColor=IA(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=IA(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=bs(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=bs(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=bs(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xn(this.primaryColor,{h:64}),this.fillType3=xn(this.secondaryColor,{h:64}),this.fillType4=xn(this.primaryColor,{h:-64}),this.fillType5=xn(this.secondaryColor,{h:-64}),this.fillType6=xn(this.primaryColor,{h:128}),this.fillType7=xn(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xn(this.primaryColor,{h:210}),this.cScale9=this.cScale9||xn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xn(this.primaryColor,{h:330});for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||Ii(this["cScale"+a]);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScalePeer"+a]=this["cScalePeer"+a]||bs(this["cScale"+a],10);for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||xn(this.mainBkg,{h:30,s:-30,l:-(-10+a*4)}),this["surfacePeer"+a]=this["surfacePeer"+a]||xn(this.mainBkg,{h:30,s:-30,l:-(-7+a*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.scaleLabelColor;for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["pie"+a]=this["cScale"+a];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xn(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xn(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xn(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xn(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xn(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xn(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||J7(this.quadrant1Fill)?bs(this.quadrant1Fill):js(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?js(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=bs(this.secondaryColor,20),this.git1=bs(this.pie2||this.secondaryColor,20),this.git2=bs(this.pie3||this.tertiaryColor,20),this.git3=bs(this.pie4||xn(this.primaryColor,{h:-30}),20),this.git4=bs(this.pie5||xn(this.primaryColor,{h:-60}),20),this.git5=bs(this.pie6||xn(this.primaryColor,{h:-90}),10),this.git6=bs(this.pie7||xn(this.primaryColor,{h:60}),10),this.git7=bs(this.pie8||xn(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ii(this.git0),this.gitInv1=this.gitInv1||Ii(this.git1),this.gitInv2=this.gitInv2||Ii(this.git2),this.gitInv3=this.gitInv3||Ii(this.git3),this.gitInv4=this.gitInv4||Ii(this.git4),this.gitInv5=this.gitInv5||Ii(this.git5),this.gitInv6=this.gitInv6||Ii(this.git6),this.gitInv7=this.gitInv7||Ii(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ii(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ii(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||bs(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||bs(this.background,2)}calculate(a){if(typeof a!="object"){this.updateColors();return}const f=Object.keys(a);f.forEach(p=>{this[p]=a[p]}),this.updateColors(),f.forEach(p=>{this[p]=a[p]})}};const UTe=i=>{const a=new VTe;return a.calculate(i),a};let WTe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=xn(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=xn(this.primaryColor,{h:-160}),this.primaryBorderColor=ag(this.primaryColor,this.darkMode),this.secondaryBorderColor=ag(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ag(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ii(this.primaryColor),this.secondaryTextColor=Ii(this.secondaryColor),this.tertiaryTextColor=Ii(this.tertiaryColor),this.lineColor=Ii(this.background),this.textColor=Ii(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=IA(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xn(this.primaryColor,{h:210}),this.cScale9=this.cScale9||xn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xn(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||js(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||js(this.tertiaryColor,40);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScale"+a]=js(this["cScale"+a],10),this["cScalePeer"+a]=this["cScalePeer"+a]||js(this["cScale"+a],25);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||xn(this["cScale"+a],{h:180});for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||xn(this.mainBkg,{h:30,l:-(5+a*5)}),this["surfacePeer"+a]=this["surfacePeer"+a]||xn(this.mainBkg,{h:30,l:-(7+a*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ii(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ii(this.labelTextColor);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=bs(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xn(this.primaryColor,{h:64}),this.fillType3=xn(this.secondaryColor,{h:64}),this.fillType4=xn(this.primaryColor,{h:-64}),this.fillType5=xn(this.secondaryColor,{h:-64}),this.fillType6=xn(this.primaryColor,{h:128}),this.fillType7=xn(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||xn(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||xn(this.primaryColor,{l:-10}),this.pie5=this.pie5||xn(this.secondaryColor,{l:-30}),this.pie6=this.pie6||xn(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||xn(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||xn(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||xn(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||xn(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||xn(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||xn(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xn(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xn(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xn(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xn(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xn(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xn(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||J7(this.quadrant1Fill)?bs(this.quadrant1Fill):js(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||xn(this.primaryColor,{h:-30}),this.git4=this.git4||xn(this.primaryColor,{h:-60}),this.git5=this.git5||xn(this.primaryColor,{h:-90}),this.git6=this.git6||xn(this.primaryColor,{h:60}),this.git7=this.git7||xn(this.primaryColor,{h:120}),this.darkMode?(this.git0=bs(this.git0,25),this.git1=bs(this.git1,25),this.git2=bs(this.git2,25),this.git3=bs(this.git3,25),this.git4=bs(this.git4,25),this.git5=bs(this.git5,25),this.git6=bs(this.git6,25),this.git7=bs(this.git7,25)):(this.git0=js(this.git0,25),this.git1=js(this.git1,25),this.git2=js(this.git2,25),this.git3=js(this.git3,25),this.git4=js(this.git4,25),this.git5=js(this.git5,25),this.git6=js(this.git6,25),this.git7=js(this.git7,25)),this.gitInv0=this.gitInv0||js(Ii(this.git0),25),this.gitInv1=this.gitInv1||Ii(this.git1),this.gitInv2=this.gitInv2||Ii(this.git2),this.gitInv3=this.gitInv3||Ii(this.git3),this.gitInv4=this.gitInv4||Ii(this.git4),this.gitInv5=this.gitInv5||Ii(this.git5),this.gitInv6=this.gitInv6||Ii(this.git6),this.gitInv7=this.gitInv7||Ii(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ii(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ii(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cW,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uW}calculate(a){if(typeof a!="object"){this.updateColors();return}const f=Object.keys(a);f.forEach(p=>{this[p]=a[p]}),this.updateColors(),f.forEach(p=>{this[p]=a[p]})}};const nDt=i=>{const a=new WTe;return a.calculate(i),a};let KTe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=bs("#cde498",10),this.primaryBorderColor=ag(this.primaryColor,this.darkMode),this.secondaryBorderColor=ag(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ag(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ii(this.primaryColor),this.secondaryTextColor=Ii(this.secondaryColor),this.tertiaryTextColor=Ii(this.primaryColor),this.lineColor=Ii(this.background),this.textColor=Ii(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=js(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||xn(this.primaryColor,{h:30}),this.cScale4=this.cScale4||xn(this.primaryColor,{h:60}),this.cScale5=this.cScale5||xn(this.primaryColor,{h:90}),this.cScale6=this.cScale6||xn(this.primaryColor,{h:120}),this.cScale7=this.cScale7||xn(this.primaryColor,{h:150}),this.cScale8=this.cScale8||xn(this.primaryColor,{h:210}),this.cScale9=this.cScale9||xn(this.primaryColor,{h:270}),this.cScale10=this.cScale10||xn(this.primaryColor,{h:300}),this.cScale11=this.cScale11||xn(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||js(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||js(this.tertiaryColor,40);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScale"+a]=js(this["cScale"+a],10),this["cScalePeer"+a]=this["cScalePeer"+a]||js(this["cScale"+a],25);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||xn(this["cScale"+a],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.scaleLabelColor;for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||xn(this.mainBkg,{h:30,s:-30,l:-(5+a*5)}),this["surfacePeer"+a]=this["surfacePeer"+a]||xn(this.mainBkg,{h:30,s:-30,l:-(8+a*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xn(this.primaryColor,{h:64}),this.fillType3=xn(this.secondaryColor,{h:64}),this.fillType4=xn(this.primaryColor,{h:-64}),this.fillType5=xn(this.secondaryColor,{h:-64}),this.fillType6=xn(this.primaryColor,{h:128}),this.fillType7=xn(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||xn(this.primaryColor,{l:-30}),this.pie5=this.pie5||xn(this.secondaryColor,{l:-30}),this.pie6=this.pie6||xn(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||xn(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||xn(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||xn(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||xn(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||xn(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||xn(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xn(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xn(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xn(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xn(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xn(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xn(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||J7(this.quadrant1Fill)?bs(this.quadrant1Fill):js(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||xn(this.primaryColor,{h:-30}),this.git4=this.git4||xn(this.primaryColor,{h:-60}),this.git5=this.git5||xn(this.primaryColor,{h:-90}),this.git6=this.git6||xn(this.primaryColor,{h:60}),this.git7=this.git7||xn(this.primaryColor,{h:120}),this.darkMode?(this.git0=bs(this.git0,25),this.git1=bs(this.git1,25),this.git2=bs(this.git2,25),this.git3=bs(this.git3,25),this.git4=bs(this.git4,25),this.git5=bs(this.git5,25),this.git6=bs(this.git6,25),this.git7=bs(this.git7,25)):(this.git0=js(this.git0,25),this.git1=js(this.git1,25),this.git2=js(this.git2,25),this.git3=js(this.git3,25),this.git4=js(this.git4,25),this.git5=js(this.git5,25),this.git6=js(this.git6,25),this.git7=js(this.git7,25)),this.gitInv0=this.gitInv0||Ii(this.git0),this.gitInv1=this.gitInv1||Ii(this.git1),this.gitInv2=this.gitInv2||Ii(this.git2),this.gitInv3=this.gitInv3||Ii(this.git3),this.gitInv4=this.gitInv4||Ii(this.git4),this.gitInv5=this.gitInv5||Ii(this.git5),this.gitInv6=this.gitInv6||Ii(this.git6),this.gitInv7=this.gitInv7||Ii(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ii(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ii(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cW,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uW}calculate(a){if(typeof a!="object"){this.updateColors();return}const f=Object.keys(a);f.forEach(p=>{this[p]=a[p]}),this.updateColors(),f.forEach(p=>{this[p]=a[p]})}};const YTe=i=>{const a=new KTe;return a.calculate(i),a};class XTe{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=bs(this.contrast,55),this.background="#ffffff",this.tertiaryColor=xn(this.primaryColor,{h:-160}),this.primaryBorderColor=ag(this.primaryColor,this.darkMode),this.secondaryBorderColor=ag(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ag(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ii(this.primaryColor),this.secondaryTextColor=Ii(this.secondaryColor),this.tertiaryTextColor=Ii(this.tertiaryColor),this.lineColor=Ii(this.background),this.textColor=Ii(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=bs(this.contrast,55),this.border2=this.contrast,this.actorBorder=bs(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleInv"+a]=this["cScaleInv"+a]||Ii(this["cScale"+a]);for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this.darkMode?this["cScalePeer"+a]=this["cScalePeer"+a]||bs(this["cScale"+a],10):this["cScalePeer"+a]=this["cScalePeer"+a]||js(this["cScale"+a],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["cScaleLabel"+a]=this["cScaleLabel"+a]||this.scaleLabelColor;for(let a=0;a<5;a++)this["surface"+a]=this["surface"+a]||xn(this.mainBkg,{l:-(5+a*5)}),this["surfacePeer"+a]=this["surfacePeer"+a]||xn(this.mainBkg,{l:-(8+a*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=bs(this.contrast,30),this.sectionBkgColor2=bs(this.contrast,30),this.taskBorderColor=js(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=bs(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=js(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=xn(this.primaryColor,{h:64}),this.fillType3=xn(this.secondaryColor,{h:64}),this.fillType4=xn(this.primaryColor,{h:-64}),this.fillType5=xn(this.secondaryColor,{h:-64}),this.fillType6=xn(this.primaryColor,{h:128}),this.fillType7=xn(this.secondaryColor,{h:128});for(let a=0;a<this.THEME_COLOR_LIMIT;a++)this["pie"+a]=this["cScale"+a];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||xn(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||xn(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||xn(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||xn(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||xn(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||xn(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||J7(this.quadrant1Fill)?bs(this.quadrant1Fill):js(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=js(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||xn(this.primaryColor,{h:-30}),this.git4=this.pie5||xn(this.primaryColor,{h:-60}),this.git5=this.pie6||xn(this.primaryColor,{h:-90}),this.git6=this.pie7||xn(this.primaryColor,{h:60}),this.git7=this.pie8||xn(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ii(this.git0),this.gitInv1=this.gitInv1||Ii(this.git1),this.gitInv2=this.gitInv2||Ii(this.git2),this.gitInv3=this.gitInv3||Ii(this.git3),this.gitInv4=this.gitInv4||Ii(this.git4),this.gitInv5=this.gitInv5||Ii(this.git5),this.gitInv6=this.gitInv6||Ii(this.git6),this.gitInv7=this.gitInv7||Ii(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||cW,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||uW}calculate(a){if(typeof a!="object"){this.updateColors();return}const f=Object.keys(a);f.forEach(p=>{this[p]=a[p]}),this.updateColors(),f.forEach(p=>{this[p]=a[p]})}}const w5={base:{getThemeVariables:GTe},dark:{getThemeVariables:UTe},default:{getThemeVariables:nDt},forest:{getThemeVariables:YTe},neutral:{getThemeVariables:i=>{const a=new XTe;return a.calculate(i),a}}},tk={flowchart:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},theme:"default",maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,fontSize:16},rDt={...tk,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:w5.default.getThemeVariables(),sequence:{...tk.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...tk.gantt,tickInterval:void 0,useWidth:void 0},c4:{...tk.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...tk.pie,useWidth:984},requirement:{...tk.requirement,useWidth:void 0},gitGraph:{...tk.gitGraph,useMaxWidth:!1},sankey:{...tk.sankey,useMaxWidth:!1}},iDt=(i,a="")=>Object.keys(i).reduce((f,p)=>Array.isArray(i[p])?f:typeof i[p]=="object"&&i[p]!==null?[...f,a+p,...iDt(i[p],"")]:[...f,a+p],[]),QTe=new Set(iDt(rDt,"")),Lf=rDt,lW=i=>{if(Ut.debug("sanitizeDirective called with",i),!(typeof i!="object"||i==null)){if(Array.isArray(i)){i.forEach(a=>lW(a));return}for(const a of Object.keys(i)){if(Ut.debug("Checking key",a),a.startsWith("__")||a.includes("proto")||a.includes("constr")||!QTe.has(a)||i[a]==null){Ut.debug("sanitize deleting key: ",a),delete i[a];continue}if(typeof i[a]=="object"){Ut.debug("sanitizing object",a),lW(i[a]);continue}const f=["themeCSS","fontFamily","altFontFamily"];for(const p of f)a.includes(p)&&(Ut.debug("sanitizing css option",a),i[a]=ZTe(i[a]))}if(i.themeVariables)for(const a of Object.keys(i.themeVariables)){const f=i.themeVariables[a];f!=null&&f.match&&!f.match(/^[\d "#%(),.;A-Za-z]+$/)&&(i.themeVariables[a]="")}Ut.debug("After sanitization",i)}},ZTe=i=>{let a=0,f=0;for(const p of i){if(a<f)return"{ /* ERROR: Unbalanced CSS */ }";p==="{"?a++:p==="}"&&f++}return a!==f?"{ /* ERROR: Unbalanced CSS */ }":i},sDt=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,HN=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,JTe=/\s*%%.*\n/gm;class aDt extends Error{constructor(a){super(a),this.name="UnknownDiagramError"}}const DA={},hW=function(i,a){i=i.replace(sDt,"").replace(HN,"").replace(JTe,`
`);for(const[f,{detector:p}]of Object.entries(DA))if(p(i,a))return f;throw new aDt(`No diagram type detected matching given configuration for text: ${i}`)},oDt=(...i)=>{for(const{id:a,detector:f,loader:p}of i)cDt(a,f,p)},cDt=(i,a,f)=>{DA[i]?Ut.error(`Detector with key ${i} already exists`):DA[i]={detector:a,loader:f},Ut.debug(`Detector with key ${i} added${f?" with loader":""}`)},t9e=i=>DA[i].loader,U1t=(i,a,{depth:f=2,clobber:p=!1}={})=>{const v={depth:f,clobber:p};return Array.isArray(a)&&!Array.isArray(i)?(a.forEach(m=>U1t(i,m,v)),i):Array.isArray(a)&&Array.isArray(i)?(a.forEach(m=>{i.includes(m)||i.push(m)}),i):i===void 0||f<=0?i!=null&&typeof i=="object"&&typeof a=="object"?Object.assign(i,a):a:(a!==void 0&&typeof i=="object"&&typeof a=="object"&&Object.keys(a).forEach(m=>{typeof a[m]=="object"&&(i[m]===void 0||typeof i[m]=="object")?(i[m]===void 0&&(i[m]=Array.isArray(a[m])?[]:{}),i[m]=U1t(i[m],a[m],{depth:f-1,clobber:p})):(p||typeof i[m]!="object"&&typeof a[m]!="object")&&(i[m]=a[m])}),i)},Y1=U1t;var e9e=typeof global=="object"&&global&&global.Object===Object&&global;const uDt=e9e;var n9e=typeof self=="object"&&self&&self.Object===Object&&self,r9e=uDt||n9e||Function("return this")();const Jw=r9e;var i9e=Jw.Symbol;const Y2=i9e;var lDt=Object.prototype,s9e=lDt.hasOwnProperty,a9e=lDt.toString,GN=Y2?Y2.toStringTag:void 0;function o9e(i){var a=s9e.call(i,GN),f=i[GN];try{i[GN]=void 0;var p=!0}catch{}var v=a9e.call(i);return p&&(a?i[GN]=f:delete i[GN]),v}var c9e=Object.prototype,u9e=c9e.toString;function l9e(i){return u9e.call(i)}var h9e="[object Null]",f9e="[object Undefined]",hDt=Y2?Y2.toStringTag:void 0;function tT(i){return i==null?i===void 0?f9e:h9e:hDt&&hDt in Object(i)?o9e(i):l9e(i)}function Ib(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}var d9e="[object AsyncFunction]",g9e="[object Function]",p9e="[object GeneratorFunction]",b9e="[object Proxy]";function OA(i){if(!Ib(i))return!1;var a=tT(i);return a==g9e||a==p9e||a==d9e||a==b9e}var v9e=Jw["__core-js_shared__"];const W1t=v9e;var fDt=function(){var i=/[^.]+$/.exec(W1t&&W1t.keys&&W1t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function w9e(i){return!!fDt&&fDt in i}var m9e=Function.prototype,y9e=m9e.toString;function eT(i){if(i!=null){try{return y9e.call(i)}catch{}try{return i+""}catch{}}return""}var x9e=/[\\^$.*+?()[\]{}|]/g,k9e=/^\[object .+?Constructor\]$/,E9e=Function.prototype,T9e=Object.prototype,C9e=E9e.toString,_9e=T9e.hasOwnProperty,S9e=RegExp("^"+C9e.call(_9e).replace(x9e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A9e(i){if(!Ib(i)||w9e(i))return!1;var a=OA(i)?S9e:k9e;return a.test(eT(i))}function L9e(i,a){return i==null?void 0:i[a]}function nT(i,a){var f=L9e(i,a);return A9e(f)?f:void 0}var M9e=nT(Object,"create");const VN=M9e;function I9e(){this.__data__=VN?VN(null):{},this.size=0}function D9e(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}var O9e="__lodash_hash_undefined__",N9e=Object.prototype,P9e=N9e.hasOwnProperty;function F9e(i){var a=this.__data__;if(VN){var f=a[i];return f===O9e?void 0:f}return P9e.call(a,i)?a[i]:void 0}var B9e=Object.prototype,R9e=B9e.hasOwnProperty;function j9e(i){var a=this.__data__;return VN?a[i]!==void 0:R9e.call(a,i)}var $9e="__lodash_hash_undefined__";function z9e(i,a){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=VN&&a===void 0?$9e:a,this}function rT(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var p=i[a];this.set(p[0],p[1])}}rT.prototype.clear=I9e,rT.prototype.delete=D9e,rT.prototype.get=F9e,rT.prototype.has=j9e,rT.prototype.set=z9e;function q9e(){this.__data__=[],this.size=0}function NA(i,a){return i===a||i!==i&&a!==a}function fW(i,a){for(var f=i.length;f--;)if(NA(i[f][0],a))return f;return-1}var H9e=Array.prototype,G9e=H9e.splice;function V9e(i){var a=this.__data__,f=fW(a,i);if(f<0)return!1;var p=a.length-1;return f==p?a.pop():G9e.call(a,f,1),--this.size,!0}function U9e(i){var a=this.__data__,f=fW(a,i);return f<0?void 0:a[f][1]}function W9e(i){return fW(this.__data__,i)>-1}function K9e(i,a){var f=this.__data__,p=fW(f,i);return p<0?(++this.size,f.push([i,a])):f[p][1]=a,this}function m5(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var p=i[a];this.set(p[0],p[1])}}m5.prototype.clear=q9e,m5.prototype.delete=V9e,m5.prototype.get=U9e,m5.prototype.has=W9e,m5.prototype.set=K9e;var Y9e=nT(Jw,"Map");const UN=Y9e;function X9e(){this.size=0,this.__data__={hash:new rT,map:new(UN||m5),string:new rT}}function Q9e(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function dW(i,a){var f=i.__data__;return Q9e(a)?f[typeof a=="string"?"string":"hash"]:f.map}function Z9e(i){var a=dW(this,i).delete(i);return this.size-=a?1:0,a}function J9e(i){return dW(this,i).get(i)}function tCe(i){return dW(this,i).has(i)}function eCe(i,a){var f=dW(this,i),p=f.size;return f.set(i,a),this.size+=f.size==p?0:1,this}function y5(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var p=i[a];this.set(p[0],p[1])}}y5.prototype.clear=X9e,y5.prototype.delete=Z9e,y5.prototype.get=J9e,y5.prototype.has=tCe,y5.prototype.set=eCe;var nCe="Expected a function";function PA(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(nCe);var f=function(){var p=arguments,v=a?a.apply(this,p):p[0],m=f.cache;if(m.has(v))return m.get(v);var b=i.apply(this,p);return f.cache=m.set(v,b)||m,b};return f.cache=new(PA.Cache||y5),f}PA.Cache=y5;function rCe(){this.__data__=new m5,this.size=0}function iCe(i){var a=this.__data__,f=a.delete(i);return this.size=a.size,f}function sCe(i){return this.__data__.get(i)}function aCe(i){return this.__data__.has(i)}var oCe=200;function cCe(i,a){var f=this.__data__;if(f instanceof m5){var p=f.__data__;if(!UN||p.length<oCe-1)return p.push([i,a]),this.size=++f.size,this;f=this.__data__=new y5(p)}return f.set(i,a),this.size=f.size,this}function tm(i){var a=this.__data__=new m5(i);this.size=a.size}tm.prototype.clear=rCe,tm.prototype.delete=iCe,tm.prototype.get=sCe,tm.prototype.has=aCe,tm.prototype.set=cCe;var uCe=function(){try{var i=nT(Object,"defineProperty");return i({},"",{}),i}catch{}}();const gW=uCe;function pW(i,a,f){a=="__proto__"&&gW?gW(i,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[a]=f}function K1t(i,a,f){(f!==void 0&&!NA(i[a],f)||f===void 0&&!(a in i))&&pW(i,a,f)}function lCe(i){return function(a,f,p){for(var v=-1,m=Object(a),b=p(a),E=b.length;E--;){var _=b[i?E:++v];if(f(m[_],_,m)===!1)break}return a}}var hCe=lCe();const Y1t=hCe;var dDt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gDt=dDt&&typeof module=="object"&&module&&!module.nodeType&&module,fCe=gDt&&gDt.exports===dDt,pDt=fCe?Jw.Buffer:void 0,bDt=pDt?pDt.allocUnsafe:void 0;function vDt(i,a){if(a)return i.slice();var f=i.length,p=bDt?bDt(f):new i.constructor(f);return i.copy(p),p}var dCe=Jw.Uint8Array;const bW=dCe;function X1t(i){var a=new i.constructor(i.byteLength);return new bW(a).set(new bW(i)),a}function wDt(i,a){var f=a?X1t(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}function mDt(i,a){var f=-1,p=i.length;for(a||(a=Array(p));++f<p;)a[f]=i[f];return a}var yDt=Object.create,gCe=function(){function i(){}return function(a){if(!Ib(a))return{};if(yDt)return yDt(a);i.prototype=a;var f=new i;return i.prototype=void 0,f}}();const pCe=gCe;function xDt(i,a){return function(f){return i(a(f))}}var bCe=xDt(Object.getPrototypeOf,Object);const Q1t=bCe;var vCe=Object.prototype;function vW(i){var a=i&&i.constructor,f=typeof a=="function"&&a.prototype||vCe;return i===f}function kDt(i){return typeof i.constructor=="function"&&!vW(i)?pCe(Q1t(i)):{}}function l3(i){return i!=null&&typeof i=="object"}var wCe="[object Arguments]";function EDt(i){return l3(i)&&tT(i)==wCe}var TDt=Object.prototype,mCe=TDt.hasOwnProperty,yCe=TDt.propertyIsEnumerable,xCe=EDt(function(){return arguments}())?EDt:function(i){return l3(i)&&mCe.call(i,"callee")&&!yCe.call(i,"callee")};const FA=xCe;var kCe=Array.isArray;const Mf=kCe;var ECe=9007199254740991;function Z1t(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ECe}function ek(i){return i!=null&&Z1t(i.length)&&!OA(i)}function CDt(i){return l3(i)&&ek(i)}function TCe(){return!1}var _Dt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,SDt=_Dt&&typeof module=="object"&&module&&!module.nodeType&&module,CCe=SDt&&SDt.exports===_Dt,ADt=CCe?Jw.Buffer:void 0,_Ce=ADt?ADt.isBuffer:void 0,SCe=_Ce||TCe;const BA=SCe;var ACe="[object Object]",LCe=Function.prototype,MCe=Object.prototype,LDt=LCe.toString,ICe=MCe.hasOwnProperty,DCe=LDt.call(Object);function MDt(i){if(!l3(i)||tT(i)!=ACe)return!1;var a=Q1t(i);if(a===null)return!0;var f=ICe.call(a,"constructor")&&a.constructor;return typeof f=="function"&&f instanceof f&&LDt.call(f)==DCe}var OCe="[object Arguments]",NCe="[object Array]",PCe="[object Boolean]",FCe="[object Date]",BCe="[object Error]",RCe="[object Function]",jCe="[object Map]",$Ce="[object Number]",zCe="[object Object]",qCe="[object RegExp]",HCe="[object Set]",GCe="[object String]",VCe="[object WeakMap]",UCe="[object ArrayBuffer]",WCe="[object DataView]",KCe="[object Float32Array]",YCe="[object Float64Array]",XCe="[object Int8Array]",QCe="[object Int16Array]",ZCe="[object Int32Array]",JCe="[object Uint8Array]",t_e="[object Uint8ClampedArray]",e_e="[object Uint16Array]",n_e="[object Uint32Array]",gl={};gl[KCe]=gl[YCe]=gl[XCe]=gl[QCe]=gl[ZCe]=gl[JCe]=gl[t_e]=gl[e_e]=gl[n_e]=!0,gl[OCe]=gl[NCe]=gl[UCe]=gl[PCe]=gl[WCe]=gl[FCe]=gl[BCe]=gl[RCe]=gl[jCe]=gl[$Ce]=gl[zCe]=gl[qCe]=gl[HCe]=gl[GCe]=gl[VCe]=!1;function r_e(i){return l3(i)&&Z1t(i.length)&&!!gl[tT(i)]}function wW(i){return function(a){return i(a)}}var IDt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,WN=IDt&&typeof module=="object"&&module&&!module.nodeType&&module,i_e=WN&&WN.exports===IDt,J1t=i_e&&uDt.process,s_e=function(){try{var i=WN&&WN.require&&WN.require("util").types;return i||J1t&&J1t.binding&&J1t.binding("util")}catch{}}();const RA=s_e;var DDt=RA&&RA.isTypedArray,a_e=DDt?wW(DDt):r_e;const mW=a_e;function tdt(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var o_e=Object.prototype,c_e=o_e.hasOwnProperty;function yW(i,a,f){var p=i[a];(!(c_e.call(i,a)&&NA(p,f))||f===void 0&&!(a in i))&&pW(i,a,f)}function KN(i,a,f,p){var v=!f;f||(f={});for(var m=-1,b=a.length;++m<b;){var E=a[m],_=p?p(f[E],i[E],E,f,i):void 0;_===void 0&&(_=i[E]),v?pW(f,E,_):yW(f,E,_)}return f}function u_e(i,a){for(var f=-1,p=Array(i);++f<i;)p[f]=a(f);return p}var l_e=9007199254740991,h_e=/^(?:0|[1-9]\d*)$/;function xW(i,a){var f=typeof i;return a=a??l_e,!!a&&(f=="number"||f!="symbol"&&h_e.test(i))&&i>-1&&i%1==0&&i<a}var f_e=Object.prototype,d_e=f_e.hasOwnProperty;function ODt(i,a){var f=Mf(i),p=!f&&FA(i),v=!f&&!p&&BA(i),m=!f&&!p&&!v&&mW(i),b=f||p||v||m,E=b?u_e(i.length,String):[],_=E.length;for(var L in i)(a||d_e.call(i,L))&&!(b&&(L=="length"||v&&(L=="offset"||L=="parent")||m&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||xW(L,_)))&&E.push(L);return E}function g_e(i){var a=[];if(i!=null)for(var f in Object(i))a.push(f);return a}var p_e=Object.prototype,b_e=p_e.hasOwnProperty;function v_e(i){if(!Ib(i))return g_e(i);var a=vW(i),f=[];for(var p in i)p=="constructor"&&(a||!b_e.call(i,p))||f.push(p);return f}function iT(i){return ek(i)?ODt(i,!0):v_e(i)}function w_e(i){return KN(i,iT(i))}function m_e(i,a,f,p,v,m,b){var E=tdt(i,f),_=tdt(a,f),L=b.get(_);if(L){K1t(i,f,L);return}var N=m?m(E,_,f+"",i,a,b):void 0,B=N===void 0;if(B){var j=Mf(_),R=!j&&BA(_),z=!j&&!R&&mW(_);N=_,j||R||z?Mf(E)?N=E:CDt(E)?N=mDt(E):R?(B=!1,N=vDt(_,!0)):z?(B=!1,N=wDt(_,!0)):N=[]:MDt(_)||FA(_)?(N=E,FA(E)?N=w_e(E):(!Ib(E)||OA(E))&&(N=kDt(_))):B=!1}B&&(b.set(_,N),v(N,_,p,m,b),b.delete(_)),K1t(i,f,N)}function NDt(i,a,f,p,v){i!==a&&Y1t(a,function(m,b){if(v||(v=new tm),Ib(m))m_e(i,a,b,f,NDt,p,v);else{var E=p?p(tdt(i,b),m,b+"",i,a,v):void 0;E===void 0&&(E=m),K1t(i,b,E)}},iT)}function sT(i){return i}function y_e(i,a,f){switch(f.length){case 0:return i.call(a);case 1:return i.call(a,f[0]);case 2:return i.call(a,f[0],f[1]);case 3:return i.call(a,f[0],f[1],f[2])}return i.apply(a,f)}var PDt=Math.max;function FDt(i,a,f){return a=PDt(a===void 0?i.length-1:a,0),function(){for(var p=arguments,v=-1,m=PDt(p.length-a,0),b=Array(m);++v<m;)b[v]=p[a+v];v=-1;for(var E=Array(a+1);++v<a;)E[v]=p[v];return E[a]=f(b),y_e(i,this,E)}}function jA(i){return function(){return i}}var x_e=gW?function(i,a){return gW(i,"toString",{configurable:!0,enumerable:!1,value:jA(a),writable:!0})}:sT;const k_e=x_e;var E_e=800,T_e=16,C_e=Date.now;function __e(i){var a=0,f=0;return function(){var p=C_e(),v=T_e-(p-f);if(f=p,v>0){if(++a>=E_e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}var S_e=__e(k_e);const BDt=S_e;function kW(i,a){return BDt(FDt(i,a,sT),i+"")}function YN(i,a,f){if(!Ib(f))return!1;var p=typeof a;return(p=="number"?ek(f)&&xW(a,f.length):p=="string"&&a in f)?NA(f[a],i):!1}function A_e(i){return kW(function(a,f){var p=-1,v=f.length,m=v>1?f[v-1]:void 0,b=v>2?f[2]:void 0;for(m=i.length>3&&typeof m=="function"?(v--,m):void 0,b&&YN(f[0],f[1],b)&&(m=v<3?void 0:m,v=1),a=Object(a);++p<v;){var E=f[p];E&&i(a,E,p,m)}return a})}var L_e=A_e(function(i,a,f){NDt(i,a,f)});const EW=L_e,RDt="",M_e={curveBasis:FN,curveBasisClosed:H7e,curveBasisOpen:G7e,curveBumpX:z7e,curveBumpY:q7e,curveBundle:V7e,curveCardinalClosed:W7e,curveCardinalOpen:K7e,curveCardinal:U7e,curveCatmullRomClosed:X7e,curveCatmullRomOpen:Q7e,curveCatmullRom:Y7e,curveLinear:ig,curveLinearClosed:Z7e,curveMonotoneX:J7e,curveMonotoneY:tTe,curveNatural:eTe,curveStep:nTe,curveStepAfter:iTe,curveStepBefore:rTe},I_e=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,D_e=function(i,a){const f=jDt(i,/(?:init\b)|(?:initialize\b)/);let p={};if(Array.isArray(f)){const b=f.map(E=>E.args);lW(b),p=Y1(p,[...b])}else p=f.args;if(!p)return;let v=hW(i,a);const m="config";return p[m]!==void 0&&(v==="flowchart-v2"&&(v="flowchart"),p[v]=p[m],delete p[m]),p},jDt=function(i,a=null){try{const f=new RegExp(`[%]{2}(?![{]${I_e.source})(?=[}][%]{2}).*
`,"ig");i=i.trim().replace(f,"").replace(/'/gm,'"'),Ut.debug(`Detecting diagram directive${a!==null?" type:"+a:""} based on the text:${i}`);let p;const v=[];for(;(p=HN.exec(i))!==null;)if(p.index===HN.lastIndex&&HN.lastIndex++,p&&!a||a&&p[1]&&p[1].match(a)||a&&p[2]&&p[2].match(a)){const m=p[1]?p[1]:p[2],b=p[3]?p[3].trim():p[4]?JSON.parse(p[4].trim()):null;v.push({type:m,args:b})}return v.length===0?{type:i,args:null}:v.length===1?v[0]:v}catch(f){return Ut.error(`ERROR: ${f.message} - Unable to parse directive type: '${a}' based on the text: '${i}'`),{type:void 0,args:null}}},O_e=function(i){return i.replace(HN,"")},N_e=function(i,a){for(const[f,p]of a.entries())if(p.match(i))return f;return-1};function X2(i,a){if(!i)return a;const f=`curve${i.charAt(0).toUpperCase()+i.slice(1)}`;return M_e[f]??a}function P_e(i,a){const f=i.trim();if(f)return a.securityLevel!=="loose"?Q6(f):f}const F_e=(i,...a)=>{const f=i.split("."),p=f.length-1,v=f[p];let m=window;for(let b=0;b<p;b++)if(m=m[f[b]],!m){Ut.error(`Function name: ${i} not found in window`);return}m[v](...a)};function $Dt(i,a){return!i||!a?0:Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))}function B_e(i){let a,f=0;i.forEach(v=>{f+=$Dt(v,a),a=v});const p=f/2;return edt(i,p)}function R_e(i){return i.length===1?i[0]:B_e(i)}const zDt=(i,a=2)=>{const f=Math.pow(10,a);return Math.round(i*f)/f},edt=(i,a)=>{let f,p=a;for(const v of i){if(f){const m=$Dt(v,f);if(m<p)p-=m;else{const b=p/m;if(b<=0)return f;if(b>=1)return{x:v.x,y:v.y};if(b>0&&b<1)return{x:zDt((1-b)*f.x+b*v.x,5),y:zDt((1-b)*f.y+b*v.y,5)}}}f=v}throw new Error("Could not find a suitable point for the given distance")},j_e=(i,a,f)=>{Ut.info(`our points ${JSON.stringify(a)}`),a[0]!==f&&(a=a.reverse());const v=edt(a,25),m=i?10:5,b=Math.atan2(a[0].y-v.y,a[0].x-v.x),E={x:0,y:0};return E.x=Math.sin(b)*m+(a[0].x+v.x)/2,E.y=-Math.cos(b)*m+(a[0].y+v.y)/2,E};function $_e(i,a,f){const p=structuredClone(f);Ut.info("our points",p),a!=="start_left"&&a!=="start_right"&&p.reverse();const v=25+i,m=edt(p,v),b=10+i*.5,E=Math.atan2(p[0].y-m.y,p[0].x-m.x),_={x:0,y:0};return a==="start_left"?(_.x=Math.sin(E+Math.PI)*b+(p[0].x+m.x)/2,_.y=-Math.cos(E+Math.PI)*b+(p[0].y+m.y)/2):a==="end_right"?(_.x=Math.sin(E-Math.PI)*b+(p[0].x+m.x)/2-5,_.y=-Math.cos(E-Math.PI)*b+(p[0].y+m.y)/2-5):a==="end_left"?(_.x=Math.sin(E)*b+(p[0].x+m.x)/2-5,_.y=-Math.cos(E)*b+(p[0].y+m.y)/2-5):(_.x=Math.sin(E)*b+(p[0].x+m.x)/2,_.y=-Math.cos(E)*b+(p[0].y+m.y)/2),_}function em(i){let a="",f="";for(const p of i)p!==void 0&&(p.startsWith("color:")||p.startsWith("text-align:")?f=f+p+";":a=a+p+";");return{style:a,labelStyle:f}}let qDt=0;const HDt=()=>(qDt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+qDt);function z_e(i){let a="";const f="0123456789abcdef",p=f.length;for(let v=0;v<i;v++)a+=f.charAt(Math.floor(Math.random()*p));return a}const GDt=i=>z_e(i.length),q_e=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},H_e=function(i,a){const f=a.text.replace(Yr.lineBreakRegex," "),[,p]=$A(a.fontSize),v=i.append("text");v.attr("x",a.x),v.attr("y",a.y),v.style("text-anchor",a.anchor),v.style("font-family",a.fontFamily),v.style("font-size",p),v.style("font-weight",a.fontWeight),v.attr("fill",a.fill),a.class!==void 0&&v.attr("class",a.class);const m=v.append("tspan");return m.attr("x",a.x+a.textMargin*2),m.attr("fill",a.fill),m.text(f),v},VDt=PA((i,a,f)=>{if(!i||(f=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},f),Yr.lineBreakRegex.test(i)))return i;const p=i.split(" "),v=[];let m="";return p.forEach((b,E)=>{const _=h3(`${b} `,f),L=h3(m,f);if(_>a){const{hyphenatedStrings:j,remainingWord:R}=G_e(b,a,"-",f);v.push(m,...j),m=R}else L+_>=a?(v.push(m),m=b):m=[m,b].filter(Boolean).join(" ");E+1===p.length&&v.push(m)}),v.filter(b=>b!=="").join(f.joinWith)},(i,a,f)=>`${i}${a}${f.fontSize}${f.fontWeight}${f.fontFamily}${f.joinWith}`),G_e=PA((i,a,f="-",p)=>{p=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},p);const v=[...i],m=[];let b="";return v.forEach((E,_)=>{const L=`${b}${E}`;if(h3(L,p)>=a){const B=_+1,j=v.length===B,R=`${L}${f}`;m.push(j?L:R),b=""}else b=L}),{hyphenatedStrings:m,remainingWord:b}},(i,a,f="-",p)=>`${i}${a}${f}${p.fontSize}${p.fontWeight}${p.fontFamily}`);function ndt(i,a){return rdt(i,a).height}function h3(i,a){return rdt(i,a).width}const rdt=PA((i,a)=>{const{fontSize:f=12,fontFamily:p="Arial",fontWeight:v=400}=a;if(!i)return{width:0,height:0};const[,m]=$A(f),b=["sans-serif",p],E=i.split(Yr.lineBreakRegex),_=[],L=yr("body");if(!L.remove)return{width:0,height:0,lineHeight:0};const N=L.append("svg");for(const j of b){let R=0;const z={width:0,height:0,lineHeight:0};for(const K of E){const it=q_e();it.text=K||RDt;const st=H_e(N,it).style("font-size",m).style("font-weight",v).style("font-family",j),ut=(st._groups||st)[0][0].getBBox();if(ut.width===0&&ut.height===0)throw new Error("svg element not in render tree");z.width=Math.round(Math.max(z.width,ut.width)),R=Math.round(ut.height),z.height+=R,z.lineHeight=Math.round(Math.max(z.lineHeight,R))}_.push(z)}N.remove();const B=isNaN(_[1].height)||isNaN(_[1].width)||isNaN(_[1].lineHeight)||_[0].height>_[1].height&&_[0].width>_[1].width&&_[0].lineHeight>_[1].lineHeight?0:1;return _[B]},(i,a)=>`${i}${a.fontSize}${a.fontWeight}${a.fontFamily}`);class V_e{constructor(a=!1,f){this.count=0,this.count=f?f.length:0,this.next=a?()=>this.count++:()=>Date.now()}}let TW;const U_e=function(i){return TW=TW||document.createElement("div"),i=escape(i).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),TW.innerHTML=i,unescape(TW.textContent)};function UDt(i){return"str"in i}const W_e=(i,a,f,p)=>{var m;if(!p)return;const v=(m=i.node())==null?void 0:m.getBBox();v&&i.append("text").text(p).attr("x",v.x+v.width/2).attr("y",-f).attr("class",a)},$A=i=>{if(typeof i=="number")return[i,i+"px"];const a=parseInt(i??"",10);return Number.isNaN(a)?[void 0,void 0]:i===String(a)?[a,i+"px"]:[a,i]};function idt(i,a){return EW({},i,a)}const $a={assignWithDepth:Y1,wrapLabel:VDt,calculateTextHeight:ndt,calculateTextWidth:h3,calculateTextDimensions:rdt,cleanAndMerge:idt,detectInit:D_e,detectDirective:jDt,isSubstringInArray:N_e,interpolateToCurve:X2,calcLabelPosition:R_e,calcCardinalityPosition:j_e,calcTerminalLabelPosition:$_e,formatUrl:P_e,getStylesFromArray:em,generateId:HDt,random:GDt,runFunc:F_e,entityDecode:U_e,insertTitle:W_e,parseFontSize:$A,InitIDGenerator:V_e};var WDt="comm",KDt="rule",YDt="decl",K_e="@import",Y_e="@keyframes",X_e=Math.abs,sdt=String.fromCharCode;function XDt(i){return i.trim()}function adt(i,a,f){return i.replace(a,f)}function Q_e(i,a){return i.indexOf(a)}function XN(i,a){return i.charCodeAt(a)|0}function QN(i,a,f){return i.slice(a,f)}function nk(i){return i.length}function QDt(i){return i.length}function CW(i,a){return a.push(i),i}var _W=1,zA=1,ZDt=0,Q2=0,If=0,qA="";function odt(i,a,f,p,v,m,b){return{value:i,root:a,parent:f,type:p,props:v,children:m,line:_W,column:zA,length:b,return:""}}function Z_e(){return If}function J_e(){return If=Q2>0?XN(qA,--Q2):0,zA--,If===10&&(zA=1,_W--),If}function nm(){return If=Q2<ZDt?XN(qA,Q2++):0,zA++,If===10&&(zA=1,_W++),If}function aT(){return XN(qA,Q2)}function SW(){return Q2}function AW(i,a){return QN(qA,i,a)}function cdt(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tSe(i){return _W=zA=1,ZDt=nk(qA=i),Q2=0,[]}function eSe(i){return qA="",i}function udt(i){return XDt(AW(Q2-1,ldt(i===91?i+2:i===40?i+1:i)))}function nSe(i){for(;(If=aT())&&If<33;)nm();return cdt(i)>2||cdt(If)>3?"":" "}function rSe(i,a){for(;--a&&nm()&&!(If<48||If>102||If>57&&If<65||If>70&&If<97););return AW(i,SW()+(a<6&&aT()==32&&nm()==32))}function ldt(i){for(;nm();)switch(If){case i:return Q2;case 34:case 39:i!==34&&i!==39&&ldt(If);break;case 40:i===41&&ldt(i);break;case 92:nm();break}return Q2}function iSe(i,a){for(;nm()&&i+If!==47+10;)if(i+If===42+42&&aT()===47)break;return"/*"+AW(a,Q2-1)+"*"+sdt(i===47?i:nm())}function sSe(i){for(;!cdt(aT());)nm();return AW(i,Q2)}function aSe(i){return eSe(LW("",null,null,null,[""],i=tSe(i),0,[0],i))}function LW(i,a,f,p,v,m,b,E,_){for(var L=0,N=0,B=b,j=0,R=0,z=0,K=1,it=1,st=1,ut=0,bt="",mt=v,yt=m,dt=p,ht=bt;it;)switch(z=ut,ut=nm()){case 40:if(z!=108&&XN(ht,B-1)==58){Q_e(ht+=adt(udt(ut),"&","&\f"),"&\f")!=-1&&(st=-1);break}case 34:case 39:case 91:ht+=udt(ut);break;case 9:case 10:case 13:case 32:ht+=nSe(z);break;case 92:ht+=rSe(SW()-1,7);continue;case 47:switch(aT()){case 42:case 47:CW(oSe(iSe(nm(),SW()),a,f),_);break;default:ht+="/"}break;case 123*K:E[L++]=nk(ht)*st;case 125*K:case 59:case 0:switch(ut){case 0:case 125:it=0;case 59+N:R>0&&nk(ht)-B&&CW(R>32?tOt(ht+";",p,f,B-1):tOt(adt(ht," ","")+";",p,f,B-2),_);break;case 59:ht+=";";default:if(CW(dt=JDt(ht,a,f,L,N,v,E,bt,mt=[],yt=[],B),m),ut===123)if(N===0)LW(ht,a,dt,dt,mt,m,B,E,yt);else switch(j===99&&XN(ht,3)===110?100:j){case 100:case 109:case 115:LW(i,dt,dt,p&&CW(JDt(i,dt,dt,0,0,v,E,bt,v,mt=[],B),yt),v,yt,B,E,p?mt:yt);break;default:LW(ht,dt,dt,dt,[""],yt,0,E,yt)}}L=N=R=0,K=st=1,bt=ht="",B=b;break;case 58:B=1+nk(ht),R=z;default:if(K<1){if(ut==123)--K;else if(ut==125&&K++==0&&J_e()==125)continue}switch(ht+=sdt(ut),ut*K){case 38:st=N>0?1:(ht+="\f",-1);break;case 44:E[L++]=(nk(ht)-1)*st,st=1;break;case 64:aT()===45&&(ht+=udt(nm())),j=aT(),N=B=nk(bt=ht+=sSe(SW())),ut++;break;case 45:z===45&&nk(ht)==2&&(K=0)}}return m}function JDt(i,a,f,p,v,m,b,E,_,L,N){for(var B=v-1,j=v===0?m:[""],R=QDt(j),z=0,K=0,it=0;z<p;++z)for(var st=0,ut=QN(i,B+1,B=X_e(K=b[z])),bt=i;st<R;++st)(bt=XDt(K>0?j[st]+" "+ut:adt(ut,/&\f/g,j[st])))&&(_[it++]=bt);return odt(i,a,f,v===0?KDt:E,_,L,N)}function oSe(i,a,f){return odt(i,a,f,WDt,sdt(Z_e()),QN(i,2,-2),0)}function tOt(i,a,f,p){return odt(i,a,f,YDt,QN(i,0,p),QN(i,p+1,-1),p)}function hdt(i,a){for(var f="",p=QDt(i),v=0;v<p;v++)f+=a(i[v],v,i,a)||"";return f}function cSe(i,a,f,p){switch(i.type){case K_e:case YDt:return i.return=i.return||i.value;case WDt:return"";case Y_e:return i.return=i.value+"{"+hdt(i.children,p)+"}";case KDt:i.value=i.props.join(",")}return nk(f=hdt(i.children,p))?i.return=i.value+"{"+f+"}":""}const eOt="10.5.0",oT=Object.freeze(Lf);let sp=Y1({},oT),nOt,HA=[],ZN=Y1({},oT);const MW=(i,a)=>{let f=Y1({},i),p={};for(const v of a)sOt(v),p=Y1(p,v);if(f=Y1(f,p),p.theme&&p.theme in w5){const v=Y1({},nOt),m=Y1(v.themeVariables||{},p.themeVariables);f.theme&&f.theme in w5&&(f.themeVariables=w5[f.theme].getThemeVariables(m))}return ZN=f,oOt(ZN),ZN},uSe=i=>(sp=Y1({},oT),sp=Y1(sp,i),i.theme&&w5[i.theme]&&(sp.themeVariables=w5[i.theme].getThemeVariables(i.themeVariables)),MW(sp,HA),sp),lSe=i=>{nOt=Y1({},i)},hSe=i=>(sp=Y1(sp,i),MW(sp,HA),sp),rOt=()=>Y1({},sp),iOt=i=>(oOt(i),Y1(ZN,i),Le()),Le=()=>Y1({},ZN),sOt=i=>{i&&(["secure",...sp.secure??[]].forEach(a=>{Object.hasOwn(i,a)&&(Ut.debug(`Denied attempt to modify a secure key ${a}`,i[a]),delete i[a])}),Object.keys(i).forEach(a=>{a.startsWith("__")&&delete i[a]}),Object.keys(i).forEach(a=>{typeof i[a]=="string"&&(i[a].includes("<")||i[a].includes(">")||i[a].includes("url(data:"))&&delete i[a],typeof i[a]=="object"&&sOt(i[a])}))},fSe=i=>{lW(i),i.fontFamily&&(!i.themeVariables||!i.themeVariables.fontFamily)&&(i.themeVariables={fontFamily:i.fontFamily}),HA.push(i),MW(sp,HA)},IW=(i=sp)=>{HA=[],MW(i,HA)},dSe={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},aOt={},gSe=i=>{aOt[i]||(Ut.warn(dSe[i]),aOt[i]=!0)},oOt=i=>{i&&(i.lazyLoadedDiagrams||i.loadExternalDiagramsAtStartup)&&gSe("LAZY_LOAD_DEPRECATED")},cOt="c4",pSe={id:cOt,detector:i=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>IIe);return{id:cOt,diagram:i}}},uOt="flowchart",bSe={id:uOt,detector:(i,a)=>{var f,p;return((f=a==null?void 0:a.flowchart)==null?void 0:f.defaultRenderer)==="dagre-wrapper"||((p=a==null?void 0:a.flowchart)==null?void 0:p.defaultRenderer)==="elk"?!1:/^\s*graph/.test(i)},loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>O$e);return{id:uOt,diagram:i}}},lOt="flowchart-v2",vSe={id:lOt,detector:(i,a)=>{var f,p,v;return((f=a==null?void 0:a.flowchart)==null?void 0:f.defaultRenderer)==="dagre-d3"||((p=a==null?void 0:a.flowchart)==null?void 0:p.defaultRenderer)==="elk"?!1:/^\s*graph/.test(i)&&((v=a==null?void 0:a.flowchart)==null?void 0:v.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(i)},loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>N$e);return{id:lOt,diagram:i}}},hOt="er",wSe={id:hOt,detector:i=>/^\s*erDiagram/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>aze);return{id:hOt,diagram:i}}},fOt="gitGraph",mSe={id:fOt,detector:i=>/^\s*gitGraph/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>Ize);return{id:fOt,diagram:i}}},dOt="gantt",ySe={id:dOt,detector:i=>/^\s*gantt/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>yqe);return{id:dOt,diagram:i}}},gOt="info",xSe={id:gOt,detector:i=>/^\s*info/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>kqe);return{id:gOt,diagram:i}}},pOt="pie",kSe={id:pOt,detector:i=>/^\s*pie/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>Aqe);return{id:pOt,diagram:i}}},bOt="quadrantChart",ESe={id:bOt,detector:i=>/^\s*quadrantChart/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>Gqe);return{id:bOt,diagram:i}}},vOt="requirement",TSe={id:vOt,detector:i=>/^\s*requirement(Diagram)?/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>tHe);return{id:vOt,diagram:i}}},wOt="sequence",CSe={id:wOt,detector:i=>/^\s*sequenceDiagram/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>sGe);return{id:wOt,diagram:i}}},mOt="class",_Se={id:mOt,detector:(i,a)=>{var f;return((f=a==null?void 0:a.class)==null?void 0:f.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(i)},loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>LGe);return{id:mOt,diagram:i}}},yOt="classDiagram",SSe={id:yOt,detector:(i,a)=>{var f;return/^\s*classDiagram/.test(i)&&((f=a==null?void 0:a.class)==null?void 0:f.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(i)},loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>PGe);return{id:yOt,diagram:i}}},xOt="state",ASe={id:xOt,detector:(i,a)=>{var f;return((f=a==null?void 0:a.state)==null?void 0:f.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(i)},loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>kVe);return{id:xOt,diagram:i}}},kOt="stateDiagram",LSe={id:kOt,detector:(i,a)=>{var f;return!!(/^\s*stateDiagram-v2/.test(i)||/^\s*stateDiagram/.test(i)&&((f=a==null?void 0:a.state)==null?void 0:f.defaultRenderer)==="dagre-wrapper")},loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>zVe);return{id:kOt,diagram:i}}},EOt="journey",MSe={id:EOt,detector:i=>/^\s*journey/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>aUe);return{id:EOt,diagram:i}}},fdt=i=>{var v;const{securityLevel:a}=Le();let f=yr("body");if(a==="sandbox"){const b=((v=yr(`#i${i}`).node())==null?void 0:v.contentDocument)??document;f=yr(b.body)}return f.select(`#${i}`)},ISe=function(i,a){for(let f of a)i.attr(f[0],f[1])},DSe=function(i,a,f){let p=new Map;return f?(p.set("width","100%"),p.set("style",`max-width: ${a}px;`)):(p.set("height",i),p.set("width",a)),p},og=function(i,a,f,p){const v=DSe(a,f,p);ISe(i,v)},cT=function(i,a,f,p){const v=a.node().getBBox(),m=v.width,b=v.height;Ut.info(`SVG bounds: ${m}x${b}`,v);let E=0,_=0;Ut.info(`Graph bounds: ${E}x${_}`,i),E=m+f*2,_=b+f*2,Ut.info(`Calculated bounds: ${E}x${_}`),og(a,_,E,p);const L=`${v.x-f} ${v.y-f} ${v.width+2*f} ${v.height+2*f}`;a.attr("viewBox",L)},TOt={draw:(i,a,f)=>{Ut.debug(`renering svg for syntax error
`);const p=fdt(a);p.attr("viewBox","0 0 2412 512"),og(p,100,512,!0);const v=p.append("g");v.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),v.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),v.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),v.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),v.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),v.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),v.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),v.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${f}`)}},OSe=TOt,NSe={db:{},renderer:TOt,parser:{parser:{yy:{}},parse:()=>{}}},COt="flowchart-elk",PSe={id:COt,detector:(i,a)=>{var f;return!!(/^\s*flowchart-elk/.test(i)||/^\s*flowchart|graph/.test(i)&&((f=a==null?void 0:a.flowchart)==null?void 0:f.defaultRenderer)==="elk")},loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>kUe);return{id:COt,diagram:i}}},_Ot="timeline",FSe={id:_Ot,detector:i=>/^\s*timeline/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>zUe);return{id:_Ot,diagram:i}}},SOt="mindmap",BSe={id:SOt,detector:i=>/^\s*mindmap/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>vWe);return{id:SOt,diagram:i}}},AOt="sankey",RSe={id:AOt,detector:i=>/^\s*sankey-beta/.test(i),loader:async()=>{const{diagram:i}=await Promise.resolve().then(()=>WWe);return{id:AOt,diagram:i}}},DW={},jSe=(i,a,f)=>{let p="";return i in DW&&DW[i]?p=DW[i](f):Ut.warn(`No theme found for ${i}`),` & {
    font-family: ${f.fontFamily};
    font-size: ${f.fontSize};
    fill: ${f.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${f.errorBkgColor};
  }
  & .error-text {
    fill: ${f.errorTextColor};
    stroke: ${f.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${f.lineColor};
    stroke: ${f.lineColor};
  }
  & .marker.cross {
    stroke: ${f.lineColor};
  }

  & svg {
    font-family: ${f.fontFamily};
    font-size: ${f.fontSize};
  }

  ${p}

  ${a}
`},$Se=(i,a)=>{a!==void 0&&(DW[i]=a)},zSe=jSe;let ddt="",gdt="",pdt="";const bdt=i=>Dd(i,Le()),ap=()=>{ddt="",pdt="",gdt=""},cg=i=>{ddt=bdt(i).replace(/^\s+/g,"")},op=()=>ddt,cp=i=>{pdt=bdt(i).replace(/\n\s+/g,`
`)},up=()=>pdt,Z2=i=>{gdt=bdt(i)},Db=()=>gdt,LOt=Object.freeze(Object.defineProperty({__proto__:null,clear:ap,getAccDescription:up,getAccTitle:op,getDiagramTitle:Db,setAccDescription:cp,setAccTitle:cg,setDiagramTitle:Z2},Symbol.toStringTag,{value:"Module"})),qSe=Ut,HSe=jft,JN=Le,GSe=i=>Dd(i,JN()),MOt=cT,VSe=()=>LOt,OW={},NW=(i,a,f)=>{var p;if(OW[i])throw new Error(`Diagram ${i} already registered.`);OW[i]=a,f&&cDt(i,f),$Se(i,a.styles),(p=a.injectUtils)==null||p.call(a,qSe,HSe,JN,GSe,MOt,VSe(),()=>{})},vdt=i=>{if(i in OW)return OW[i];throw new USe(i)};class USe extends Error{constructor(a){super(`Diagram ${a} not found.`)}}let IOt=!1;const wdt=()=>{IOt||(IOt=!0,NW("error",NSe,i=>i.toLowerCase().trim()==="error"),NW("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},i=>i.toLowerCase().trimStart().startsWith("---")),oDt(pSe,SSe,_Se,wSe,ySe,xSe,kSe,TSe,CSe,PSe,vSe,bSe,BSe,FSe,mSe,LSe,ASe,MSe,ESe,RSe))};class DOt{constructor(a,f={}){this.text=a,this.metadata=f,this.type="graph",this.text+=`
`;const p=Le();try{this.type=hW(a,p)}catch(m){this.type="error",this.detectError=m}const v=vdt(this.type);Ut.debug("Type "+this.type),this.db=v.db,this.renderer=v.renderer,this.parser=v.parser,this.parser.parser.yy=this.db,this.init=v.init,this.parse()}parse(){var f,p,v,m,b;if(this.detectError)throw this.detectError;(p=(f=this.db).clear)==null||p.call(f);const a=Le();(v=this.init)==null||v.call(this,a),this.metadata.title&&((b=(m=this.db).setDiagramTitle)==null||b.call(m,this.metadata.title)),this.parser.parse(this.text)}async render(a,f){await this.renderer.draw(this.text,a,f,this)}getParser(){return this.parser}getType(){return this.type}}const mdt=async(i,a={})=>{const f=hW(i,Le());try{vdt(f)}catch{const v=t9e(f);if(!v)throw new aDt(`Diagram ${f} not found.`);const{id:m,diagram:b}=await v();NW(m,b)}return new DOt(i,a)};let ydt=[];const WSe=i=>{ydt.push(i)},KSe=()=>{ydt.forEach(i=>{i()}),ydt=[]};var YSe=xDt(Object.keys,Object);const XSe=YSe;var QSe=Object.prototype,ZSe=QSe.hasOwnProperty;function OOt(i){if(!vW(i))return XSe(i);var a=[];for(var f in Object(i))ZSe.call(i,f)&&f!="constructor"&&a.push(f);return a}var JSe=nT(Jw,"DataView");const xdt=JSe;var tAe=nT(Jw,"Promise");const kdt=tAe;var eAe=nT(Jw,"Set");const GA=eAe;var nAe=nT(Jw,"WeakMap");const Edt=nAe;var NOt="[object Map]",rAe="[object Object]",POt="[object Promise]",FOt="[object Set]",BOt="[object WeakMap]",ROt="[object DataView]",iAe=eT(xdt),sAe=eT(UN),aAe=eT(kdt),oAe=eT(GA),cAe=eT(Edt),uT=tT;(xdt&&uT(new xdt(new ArrayBuffer(1)))!=ROt||UN&&uT(new UN)!=NOt||kdt&&uT(kdt.resolve())!=POt||GA&&uT(new GA)!=FOt||Edt&&uT(new Edt)!=BOt)&&(uT=function(i){var a=tT(i),f=a==rAe?i.constructor:void 0,p=f?eT(f):"";if(p)switch(p){case iAe:return ROt;case sAe:return NOt;case aAe:return POt;case oAe:return FOt;case cAe:return BOt}return a});const VA=uT;var uAe="[object Map]",lAe="[object Set]",hAe=Object.prototype,fAe=hAe.hasOwnProperty;function tP(i){if(i==null)return!0;if(ek(i)&&(Mf(i)||typeof i=="string"||typeof i.splice=="function"||BA(i)||mW(i)||FA(i)))return!i.length;var a=VA(i);if(a==uAe||a==lAe)return!i.size;if(vW(i))return!OOt(i).length;for(var f in i)if(fAe.call(i,f))return!1;return!0}const dAe="graphics-document document";function gAe(i,a){i.attr("role",dAe),a!==""&&i.attr("aria-roledescription",a)}function pAe(i,a,f,p){if(i.insert!==void 0){if(f){const v=`chart-desc-${p}`;i.attr("aria-describedby",v),i.insert("desc",":first-child").attr("id",v).text(f)}if(a){const v=`chart-title-${p}`;i.attr("aria-labelledby",v),i.insert("title",":first-child").attr("id",v).text(a)}}}const bAe=i=>i.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function jOt(i){return typeof i>"u"||i===null}function vAe(i){return typeof i=="object"&&i!==null}function wAe(i){return Array.isArray(i)?i:jOt(i)?[]:[i]}function mAe(i,a){var f,p,v,m;if(a)for(m=Object.keys(a),f=0,p=m.length;f<p;f+=1)v=m[f],i[v]=a[v];return i}function yAe(i,a){var f="",p;for(p=0;p<a;p+=1)f+=i;return f}function xAe(i){return i===0&&Number.NEGATIVE_INFINITY===1/i}var kAe=jOt,EAe=vAe,TAe=wAe,CAe=yAe,_Ae=xAe,SAe=mAe,ug={isNothing:kAe,isObject:EAe,toArray:TAe,repeat:CAe,isNegativeZero:_Ae,extend:SAe};function $Ot(i,a){var f="",p=i.reason||"(unknown reason)";return i.mark?(i.mark.name&&(f+='in "'+i.mark.name+'" '),f+="("+(i.mark.line+1)+":"+(i.mark.column+1)+")",!a&&i.mark.snippet&&(f+=`

`+i.mark.snippet),p+" "+f):p}function eP(i,a){Error.call(this),this.name="YAMLException",this.reason=i,this.mark=a,this.message=$Ot(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}eP.prototype=Object.create(Error.prototype),eP.prototype.constructor=eP,eP.prototype.toString=function(a){return this.name+": "+$Ot(this,a)};var x5=eP;function Tdt(i,a,f,p,v){var m="",b="",E=Math.floor(v/2)-1;return p-a>E&&(m=" ... ",a=p-E+m.length),f-p>E&&(b=" ...",f=p+E-b.length),{str:m+i.slice(a,f).replace(/\t/g,"")+b,pos:p-a+m.length}}function Cdt(i,a){return ug.repeat(" ",a-i.length)+i}function AAe(i,a){if(a=Object.create(a||null),!i.buffer)return null;a.maxLength||(a.maxLength=79),typeof a.indent!="number"&&(a.indent=1),typeof a.linesBefore!="number"&&(a.linesBefore=3),typeof a.linesAfter!="number"&&(a.linesAfter=2);for(var f=/\r?\n|\r|\0/g,p=[0],v=[],m,b=-1;m=f.exec(i.buffer);)v.push(m.index),p.push(m.index+m[0].length),i.position<=m.index&&b<0&&(b=p.length-2);b<0&&(b=p.length-1);var E="",_,L,N=Math.min(i.line+a.linesAfter,v.length).toString().length,B=a.maxLength-(a.indent+N+3);for(_=1;_<=a.linesBefore&&!(b-_<0);_++)L=Tdt(i.buffer,p[b-_],v[b-_],i.position-(p[b]-p[b-_]),B),E=ug.repeat(" ",a.indent)+Cdt((i.line-_+1).toString(),N)+" | "+L.str+`
`+E;for(L=Tdt(i.buffer,p[b],v[b],i.position,B),E+=ug.repeat(" ",a.indent)+Cdt((i.line+1).toString(),N)+" | "+L.str+`
`,E+=ug.repeat("-",a.indent+N+3+L.pos)+`^
`,_=1;_<=a.linesAfter&&!(b+_>=v.length);_++)L=Tdt(i.buffer,p[b+_],v[b+_],i.position-(p[b]-p[b+_]),B),E+=ug.repeat(" ",a.indent)+Cdt((i.line+_+1).toString(),N)+" | "+L.str+`
`;return E.replace(/\n$/,"")}var LAe=AAe,MAe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],IAe=["scalar","sequence","mapping"];function DAe(i){var a={};return i!==null&&Object.keys(i).forEach(function(f){i[f].forEach(function(p){a[String(p)]=f})}),a}function OAe(i,a){if(a=a||{},Object.keys(a).forEach(function(f){if(MAe.indexOf(f)===-1)throw new x5('Unknown option "'+f+'" is met in definition of "'+i+'" YAML type.')}),this.options=a,this.tag=i,this.kind=a.kind||null,this.resolve=a.resolve||function(){return!0},this.construct=a.construct||function(f){return f},this.instanceOf=a.instanceOf||null,this.predicate=a.predicate||null,this.represent=a.represent||null,this.representName=a.representName||null,this.defaultStyle=a.defaultStyle||null,this.multi=a.multi||!1,this.styleAliases=DAe(a.styleAliases||null),IAe.indexOf(this.kind)===-1)throw new x5('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}var m0=OAe;function zOt(i,a){var f=[];return i[a].forEach(function(p){var v=f.length;f.forEach(function(m,b){m.tag===p.tag&&m.kind===p.kind&&m.multi===p.multi&&(v=b)}),f[v]=p}),f}function NAe(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},a,f;function p(v){v.multi?(i.multi[v.kind].push(v),i.multi.fallback.push(v)):i[v.kind][v.tag]=i.fallback[v.tag]=v}for(a=0,f=arguments.length;a<f;a+=1)arguments[a].forEach(p);return i}function _dt(i){return this.extend(i)}_dt.prototype.extend=function(a){var f=[],p=[];if(a instanceof m0)p.push(a);else if(Array.isArray(a))p=p.concat(a);else if(a&&(Array.isArray(a.implicit)||Array.isArray(a.explicit)))a.implicit&&(f=f.concat(a.implicit)),a.explicit&&(p=p.concat(a.explicit));else throw new x5("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");f.forEach(function(m){if(!(m instanceof m0))throw new x5("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(m.loadKind&&m.loadKind!=="scalar")throw new x5("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(m.multi)throw new x5("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),p.forEach(function(m){if(!(m instanceof m0))throw new x5("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var v=Object.create(_dt.prototype);return v.implicit=(this.implicit||[]).concat(f),v.explicit=(this.explicit||[]).concat(p),v.compiledImplicit=zOt(v,"implicit"),v.compiledExplicit=zOt(v,"explicit"),v.compiledTypeMap=NAe(v.compiledImplicit,v.compiledExplicit),v};var PAe=_dt,FAe=new m0("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),BAe=new m0("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),RAe=new m0("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),jAe=new PAe({explicit:[FAe,BAe,RAe]});function $Ae(i){if(i===null)return!0;var a=i.length;return a===1&&i==="~"||a===4&&(i==="null"||i==="Null"||i==="NULL")}function zAe(){return null}function qAe(i){return i===null}var HAe=new m0("tag:yaml.org,2002:null",{kind:"scalar",resolve:$Ae,construct:zAe,predicate:qAe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function GAe(i){if(i===null)return!1;var a=i.length;return a===4&&(i==="true"||i==="True"||i==="TRUE")||a===5&&(i==="false"||i==="False"||i==="FALSE")}function VAe(i){return i==="true"||i==="True"||i==="TRUE"}function UAe(i){return Object.prototype.toString.call(i)==="[object Boolean]"}var WAe=new m0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:GAe,construct:VAe,predicate:UAe,represent:{lowercase:function(i){return i?"true":"false"},uppercase:function(i){return i?"TRUE":"FALSE"},camelcase:function(i){return i?"True":"False"}},defaultStyle:"lowercase"});function KAe(i){return 48<=i&&i<=57||65<=i&&i<=70||97<=i&&i<=102}function YAe(i){return 48<=i&&i<=55}function XAe(i){return 48<=i&&i<=57}function QAe(i){if(i===null)return!1;var a=i.length,f=0,p=!1,v;if(!a)return!1;if(v=i[f],(v==="-"||v==="+")&&(v=i[++f]),v==="0"){if(f+1===a)return!0;if(v=i[++f],v==="b"){for(f++;f<a;f++)if(v=i[f],v!=="_"){if(v!=="0"&&v!=="1")return!1;p=!0}return p&&v!=="_"}if(v==="x"){for(f++;f<a;f++)if(v=i[f],v!=="_"){if(!KAe(i.charCodeAt(f)))return!1;p=!0}return p&&v!=="_"}if(v==="o"){for(f++;f<a;f++)if(v=i[f],v!=="_"){if(!YAe(i.charCodeAt(f)))return!1;p=!0}return p&&v!=="_"}}if(v==="_")return!1;for(;f<a;f++)if(v=i[f],v!=="_"){if(!XAe(i.charCodeAt(f)))return!1;p=!0}return!(!p||v==="_")}function ZAe(i){var a=i,f=1,p;if(a.indexOf("_")!==-1&&(a=a.replace(/_/g,"")),p=a[0],(p==="-"||p==="+")&&(p==="-"&&(f=-1),a=a.slice(1),p=a[0]),a==="0")return 0;if(p==="0"){if(a[1]==="b")return f*parseInt(a.slice(2),2);if(a[1]==="x")return f*parseInt(a.slice(2),16);if(a[1]==="o")return f*parseInt(a.slice(2),8)}return f*parseInt(a,10)}function JAe(i){return Object.prototype.toString.call(i)==="[object Number]"&&i%1===0&&!ug.isNegativeZero(i)}var tLe=new m0("tag:yaml.org,2002:int",{kind:"scalar",resolve:QAe,construct:ZAe,predicate:JAe,represent:{binary:function(i){return i>=0?"0b"+i.toString(2):"-0b"+i.toString(2).slice(1)},octal:function(i){return i>=0?"0o"+i.toString(8):"-0o"+i.toString(8).slice(1)},decimal:function(i){return i.toString(10)},hexadecimal:function(i){return i>=0?"0x"+i.toString(16).toUpperCase():"-0x"+i.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),eLe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function nLe(i){return!(i===null||!eLe.test(i)||i[i.length-1]==="_")}function rLe(i){var a,f;return a=i.replace(/_/g,"").toLowerCase(),f=a[0]==="-"?-1:1,"+-".indexOf(a[0])>=0&&(a=a.slice(1)),a===".inf"?f===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:a===".nan"?NaN:f*parseFloat(a,10)}var iLe=/^[-+]?[0-9]+e/;function sLe(i,a){var f;if(isNaN(i))switch(a){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===i)switch(a){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===i)switch(a){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ug.isNegativeZero(i))return"-0.0";return f=i.toString(10),iLe.test(f)?f.replace("e",".e"):f}function aLe(i){return Object.prototype.toString.call(i)==="[object Number]"&&(i%1!==0||ug.isNegativeZero(i))}var oLe=new m0("tag:yaml.org,2002:float",{kind:"scalar",resolve:nLe,construct:rLe,predicate:aLe,represent:sLe,defaultStyle:"lowercase"}),qOt=jAe.extend({implicit:[HAe,WAe,tLe,oLe]}),cLe=qOt,HOt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),GOt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function uLe(i){return i===null?!1:HOt.exec(i)!==null||GOt.exec(i)!==null}function lLe(i){var a,f,p,v,m,b,E,_=0,L=null,N,B,j;if(a=HOt.exec(i),a===null&&(a=GOt.exec(i)),a===null)throw new Error("Date resolve error");if(f=+a[1],p=+a[2]-1,v=+a[3],!a[4])return new Date(Date.UTC(f,p,v));if(m=+a[4],b=+a[5],E=+a[6],a[7]){for(_=a[7].slice(0,3);_.length<3;)_+="0";_=+_}return a[9]&&(N=+a[10],B=+(a[11]||0),L=(N*60+B)*6e4,a[9]==="-"&&(L=-L)),j=new Date(Date.UTC(f,p,v,m,b,E,_)),L&&j.setTime(j.getTime()-L),j}function hLe(i){return i.toISOString()}var fLe=new m0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:uLe,construct:lLe,instanceOf:Date,represent:hLe});function dLe(i){return i==="<<"||i===null}var gLe=new m0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:dLe}),Sdt=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function pLe(i){if(i===null)return!1;var a,f,p=0,v=i.length,m=Sdt;for(f=0;f<v;f++)if(a=m.indexOf(i.charAt(f)),!(a>64)){if(a<0)return!1;p+=6}return p%8===0}function bLe(i){var a,f,p=i.replace(/[\r\n=]/g,""),v=p.length,m=Sdt,b=0,E=[];for(a=0;a<v;a++)a%4===0&&a&&(E.push(b>>16&255),E.push(b>>8&255),E.push(b&255)),b=b<<6|m.indexOf(p.charAt(a));return f=v%4*6,f===0?(E.push(b>>16&255),E.push(b>>8&255),E.push(b&255)):f===18?(E.push(b>>10&255),E.push(b>>2&255)):f===12&&E.push(b>>4&255),new Uint8Array(E)}function vLe(i){var a="",f=0,p,v,m=i.length,b=Sdt;for(p=0;p<m;p++)p%3===0&&p&&(a+=b[f>>18&63],a+=b[f>>12&63],a+=b[f>>6&63],a+=b[f&63]),f=(f<<8)+i[p];return v=m%3,v===0?(a+=b[f>>18&63],a+=b[f>>12&63],a+=b[f>>6&63],a+=b[f&63]):v===2?(a+=b[f>>10&63],a+=b[f>>4&63],a+=b[f<<2&63],a+=b[64]):v===1&&(a+=b[f>>2&63],a+=b[f<<4&63],a+=b[64],a+=b[64]),a}function wLe(i){return Object.prototype.toString.call(i)==="[object Uint8Array]"}var mLe=new m0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:pLe,construct:bLe,predicate:wLe,represent:vLe}),yLe=Object.prototype.hasOwnProperty,xLe=Object.prototype.toString;function kLe(i){if(i===null)return!0;var a=[],f,p,v,m,b,E=i;for(f=0,p=E.length;f<p;f+=1){if(v=E[f],b=!1,xLe.call(v)!=="[object Object]")return!1;for(m in v)if(yLe.call(v,m))if(!b)b=!0;else return!1;if(!b)return!1;if(a.indexOf(m)===-1)a.push(m);else return!1}return!0}function ELe(i){return i!==null?i:[]}var TLe=new m0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:kLe,construct:ELe}),CLe=Object.prototype.toString;function _Le(i){if(i===null)return!0;var a,f,p,v,m,b=i;for(m=new Array(b.length),a=0,f=b.length;a<f;a+=1){if(p=b[a],CLe.call(p)!=="[object Object]"||(v=Object.keys(p),v.length!==1))return!1;m[a]=[v[0],p[v[0]]]}return!0}function SLe(i){if(i===null)return[];var a,f,p,v,m,b=i;for(m=new Array(b.length),a=0,f=b.length;a<f;a+=1)p=b[a],v=Object.keys(p),m[a]=[v[0],p[v[0]]];return m}var ALe=new m0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:_Le,construct:SLe}),LLe=Object.prototype.hasOwnProperty;function MLe(i){if(i===null)return!0;var a,f=i;for(a in f)if(LLe.call(f,a)&&f[a]!==null)return!1;return!0}function ILe(i){return i!==null?i:{}}var DLe=new m0("tag:yaml.org,2002:set",{kind:"mapping",resolve:MLe,construct:ILe}),OLe=cLe.extend({implicit:[fLe,gLe],explicit:[mLe,TLe,ALe,DLe]}),rk=Object.prototype.hasOwnProperty,PW=1,VOt=2,UOt=3,FW=4,Adt=1,NLe=2,WOt=3,PLe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,FLe=/[\x85\u2028\u2029]/,BLe=/[,\[\]\{\}]/,KOt=/^(?:!|!!|![a-z\-]+!)$/i,YOt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function XOt(i){return Object.prototype.toString.call(i)}function f3(i){return i===10||i===13}function lT(i){return i===9||i===32}function lp(i){return i===9||i===32||i===10||i===13}function UA(i){return i===44||i===91||i===93||i===123||i===125}function RLe(i){var a;return 48<=i&&i<=57?i-48:(a=i|32,97<=a&&a<=102?a-97+10:-1)}function jLe(i){return i===120?2:i===117?4:i===85?8:0}function $Le(i){return 48<=i&&i<=57?i-48:-1}function QOt(i){return i===48?"\0":i===97?"\x07":i===98?"\b":i===116||i===9?"	":i===110?`
`:i===118?"\v":i===102?"\f":i===114?"\r":i===101?"\x1B":i===32?" ":i===34?'"':i===47?"/":i===92?"\\":i===78?"":i===95?"":i===76?"\u2028":i===80?"\u2029":""}function zLe(i){return i<=65535?String.fromCharCode(i):String.fromCharCode((i-65536>>10)+55296,(i-65536&1023)+56320)}for(var ZOt=new Array(256),JOt=new Array(256),WA=0;WA<256;WA++)ZOt[WA]=QOt(WA)?1:0,JOt[WA]=QOt(WA);function qLe(i,a){this.input=i,this.filename=a.filename||null,this.schema=a.schema||OLe,this.onWarning=a.onWarning||null,this.legacy=a.legacy||!1,this.json=a.json||!1,this.listener=a.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=i.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function tNt(i,a){var f={name:i.filename,buffer:i.input.slice(0,-1),position:i.position,line:i.line,column:i.position-i.lineStart};return f.snippet=LAe(f),new x5(a,f)}function _s(i,a){throw tNt(i,a)}function BW(i,a){i.onWarning&&i.onWarning.call(null,tNt(i,a))}var eNt={YAML:function(a,f,p){var v,m,b;a.version!==null&&_s(a,"duplication of %YAML directive"),p.length!==1&&_s(a,"YAML directive accepts exactly one argument"),v=/^([0-9]+)\.([0-9]+)$/.exec(p[0]),v===null&&_s(a,"ill-formed argument of the YAML directive"),m=parseInt(v[1],10),b=parseInt(v[2],10),m!==1&&_s(a,"unacceptable YAML version of the document"),a.version=p[0],a.checkLineBreaks=b<2,b!==1&&b!==2&&BW(a,"unsupported YAML version of the document")},TAG:function(a,f,p){var v,m;p.length!==2&&_s(a,"TAG directive accepts exactly two arguments"),v=p[0],m=p[1],KOt.test(v)||_s(a,"ill-formed tag handle (first argument) of the TAG directive"),rk.call(a.tagMap,v)&&_s(a,'there is a previously declared suffix for "'+v+'" tag handle'),YOt.test(m)||_s(a,"ill-formed tag prefix (second argument) of the TAG directive");try{m=decodeURIComponent(m)}catch{_s(a,"tag prefix is malformed: "+m)}a.tagMap[v]=m}};function ik(i,a,f,p){var v,m,b,E;if(a<f){if(E=i.input.slice(a,f),p)for(v=0,m=E.length;v<m;v+=1)b=E.charCodeAt(v),b===9||32<=b&&b<=1114111||_s(i,"expected valid JSON character");else PLe.test(E)&&_s(i,"the stream contains non-printable characters");i.result+=E}}function nNt(i,a,f,p){var v,m,b,E;for(ug.isObject(f)||_s(i,"cannot merge mappings; the provided source object is unacceptable"),v=Object.keys(f),b=0,E=v.length;b<E;b+=1)m=v[b],rk.call(a,m)||(a[m]=f[m],p[m]=!0)}function KA(i,a,f,p,v,m,b,E,_){var L,N;if(Array.isArray(v))for(v=Array.prototype.slice.call(v),L=0,N=v.length;L<N;L+=1)Array.isArray(v[L])&&_s(i,"nested arrays are not supported inside keys"),typeof v=="object"&&XOt(v[L])==="[object Object]"&&(v[L]="[object Object]");if(typeof v=="object"&&XOt(v)==="[object Object]"&&(v="[object Object]"),v=String(v),a===null&&(a={}),p==="tag:yaml.org,2002:merge")if(Array.isArray(m))for(L=0,N=m.length;L<N;L+=1)nNt(i,a,m[L],f);else nNt(i,a,m,f);else!i.json&&!rk.call(f,v)&&rk.call(a,v)&&(i.line=b||i.line,i.lineStart=E||i.lineStart,i.position=_||i.position,_s(i,"duplicated mapping key")),v==="__proto__"?Object.defineProperty(a,v,{configurable:!0,enumerable:!0,writable:!0,value:m}):a[v]=m,delete f[v];return a}function Ldt(i){var a;a=i.input.charCodeAt(i.position),a===10?i.position++:a===13?(i.position++,i.input.charCodeAt(i.position)===10&&i.position++):_s(i,"a line break is expected"),i.line+=1,i.lineStart=i.position,i.firstTabInLine=-1}function Df(i,a,f){for(var p=0,v=i.input.charCodeAt(i.position);v!==0;){for(;lT(v);)v===9&&i.firstTabInLine===-1&&(i.firstTabInLine=i.position),v=i.input.charCodeAt(++i.position);if(a&&v===35)do v=i.input.charCodeAt(++i.position);while(v!==10&&v!==13&&v!==0);if(f3(v))for(Ldt(i),v=i.input.charCodeAt(i.position),p++,i.lineIndent=0;v===32;)i.lineIndent++,v=i.input.charCodeAt(++i.position);else break}return f!==-1&&p!==0&&i.lineIndent<f&&BW(i,"deficient indentation"),p}function RW(i){var a=i.position,f;return f=i.input.charCodeAt(a),!!((f===45||f===46)&&f===i.input.charCodeAt(a+1)&&f===i.input.charCodeAt(a+2)&&(a+=3,f=i.input.charCodeAt(a),f===0||lp(f)))}function Mdt(i,a){a===1?i.result+=" ":a>1&&(i.result+=ug.repeat(`
`,a-1))}function HLe(i,a,f){var p,v,m,b,E,_,L,N,B=i.kind,j=i.result,R;if(R=i.input.charCodeAt(i.position),lp(R)||UA(R)||R===35||R===38||R===42||R===33||R===124||R===62||R===39||R===34||R===37||R===64||R===96||(R===63||R===45)&&(v=i.input.charCodeAt(i.position+1),lp(v)||f&&UA(v)))return!1;for(i.kind="scalar",i.result="",m=b=i.position,E=!1;R!==0;){if(R===58){if(v=i.input.charCodeAt(i.position+1),lp(v)||f&&UA(v))break}else if(R===35){if(p=i.input.charCodeAt(i.position-1),lp(p))break}else{if(i.position===i.lineStart&&RW(i)||f&&UA(R))break;if(f3(R))if(_=i.line,L=i.lineStart,N=i.lineIndent,Df(i,!1,-1),i.lineIndent>=a){E=!0,R=i.input.charCodeAt(i.position);continue}else{i.position=b,i.line=_,i.lineStart=L,i.lineIndent=N;break}}E&&(ik(i,m,b,!1),Mdt(i,i.line-_),m=b=i.position,E=!1),lT(R)||(b=i.position+1),R=i.input.charCodeAt(++i.position)}return ik(i,m,b,!1),i.result?!0:(i.kind=B,i.result=j,!1)}function GLe(i,a){var f,p,v;if(f=i.input.charCodeAt(i.position),f!==39)return!1;for(i.kind="scalar",i.result="",i.position++,p=v=i.position;(f=i.input.charCodeAt(i.position))!==0;)if(f===39)if(ik(i,p,i.position,!0),f=i.input.charCodeAt(++i.position),f===39)p=i.position,i.position++,v=i.position;else return!0;else f3(f)?(ik(i,p,v,!0),Mdt(i,Df(i,!1,a)),p=v=i.position):i.position===i.lineStart&&RW(i)?_s(i,"unexpected end of the document within a single quoted scalar"):(i.position++,v=i.position);_s(i,"unexpected end of the stream within a single quoted scalar")}function VLe(i,a){var f,p,v,m,b,E;if(E=i.input.charCodeAt(i.position),E!==34)return!1;for(i.kind="scalar",i.result="",i.position++,f=p=i.position;(E=i.input.charCodeAt(i.position))!==0;){if(E===34)return ik(i,f,i.position,!0),i.position++,!0;if(E===92){if(ik(i,f,i.position,!0),E=i.input.charCodeAt(++i.position),f3(E))Df(i,!1,a);else if(E<256&&ZOt[E])i.result+=JOt[E],i.position++;else if((b=jLe(E))>0){for(v=b,m=0;v>0;v--)E=i.input.charCodeAt(++i.position),(b=RLe(E))>=0?m=(m<<4)+b:_s(i,"expected hexadecimal character");i.result+=zLe(m),i.position++}else _s(i,"unknown escape sequence");f=p=i.position}else f3(E)?(ik(i,f,p,!0),Mdt(i,Df(i,!1,a)),f=p=i.position):i.position===i.lineStart&&RW(i)?_s(i,"unexpected end of the document within a double quoted scalar"):(i.position++,p=i.position)}_s(i,"unexpected end of the stream within a double quoted scalar")}function ULe(i,a){var f=!0,p,v,m,b=i.tag,E,_=i.anchor,L,N,B,j,R,z=Object.create(null),K,it,st,ut;if(ut=i.input.charCodeAt(i.position),ut===91)N=93,R=!1,E=[];else if(ut===123)N=125,R=!0,E={};else return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=E),ut=i.input.charCodeAt(++i.position);ut!==0;){if(Df(i,!0,a),ut=i.input.charCodeAt(i.position),ut===N)return i.position++,i.tag=b,i.anchor=_,i.kind=R?"mapping":"sequence",i.result=E,!0;f?ut===44&&_s(i,"expected the node content, but found ','"):_s(i,"missed comma between flow collection entries"),it=K=st=null,B=j=!1,ut===63&&(L=i.input.charCodeAt(i.position+1),lp(L)&&(B=j=!0,i.position++,Df(i,!0,a))),p=i.line,v=i.lineStart,m=i.position,YA(i,a,PW,!1,!0),it=i.tag,K=i.result,Df(i,!0,a),ut=i.input.charCodeAt(i.position),(j||i.line===p)&&ut===58&&(B=!0,ut=i.input.charCodeAt(++i.position),Df(i,!0,a),YA(i,a,PW,!1,!0),st=i.result),R?KA(i,E,z,it,K,st,p,v,m):B?E.push(KA(i,null,z,it,K,st,p,v,m)):E.push(K),Df(i,!0,a),ut=i.input.charCodeAt(i.position),ut===44?(f=!0,ut=i.input.charCodeAt(++i.position)):f=!1}_s(i,"unexpected end of the stream within a flow collection")}function WLe(i,a){var f,p,v=Adt,m=!1,b=!1,E=a,_=0,L=!1,N,B;if(B=i.input.charCodeAt(i.position),B===124)p=!1;else if(B===62)p=!0;else return!1;for(i.kind="scalar",i.result="";B!==0;)if(B=i.input.charCodeAt(++i.position),B===43||B===45)Adt===v?v=B===43?WOt:NLe:_s(i,"repeat of a chomping mode identifier");else if((N=$Le(B))>=0)N===0?_s(i,"bad explicit indentation width of a block scalar; it cannot be less than one"):b?_s(i,"repeat of an indentation width identifier"):(E=a+N-1,b=!0);else break;if(lT(B)){do B=i.input.charCodeAt(++i.position);while(lT(B));if(B===35)do B=i.input.charCodeAt(++i.position);while(!f3(B)&&B!==0)}for(;B!==0;){for(Ldt(i),i.lineIndent=0,B=i.input.charCodeAt(i.position);(!b||i.lineIndent<E)&&B===32;)i.lineIndent++,B=i.input.charCodeAt(++i.position);if(!b&&i.lineIndent>E&&(E=i.lineIndent),f3(B)){_++;continue}if(i.lineIndent<E){v===WOt?i.result+=ug.repeat(`
`,m?1+_:_):v===Adt&&m&&(i.result+=`
`);break}for(p?lT(B)?(L=!0,i.result+=ug.repeat(`
`,m?1+_:_)):L?(L=!1,i.result+=ug.repeat(`
`,_+1)):_===0?m&&(i.result+=" "):i.result+=ug.repeat(`
`,_):i.result+=ug.repeat(`
`,m?1+_:_),m=!0,b=!0,_=0,f=i.position;!f3(B)&&B!==0;)B=i.input.charCodeAt(++i.position);ik(i,f,i.position,!1)}return!0}function rNt(i,a){var f,p=i.tag,v=i.anchor,m=[],b,E=!1,_;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=m),_=i.input.charCodeAt(i.position);_!==0&&(i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,_s(i,"tab characters must not be used in indentation")),!(_!==45||(b=i.input.charCodeAt(i.position+1),!lp(b))));){if(E=!0,i.position++,Df(i,!0,-1)&&i.lineIndent<=a){m.push(null),_=i.input.charCodeAt(i.position);continue}if(f=i.line,YA(i,a,UOt,!1,!0),m.push(i.result),Df(i,!0,-1),_=i.input.charCodeAt(i.position),(i.line===f||i.lineIndent>a)&&_!==0)_s(i,"bad indentation of a sequence entry");else if(i.lineIndent<a)break}return E?(i.tag=p,i.anchor=v,i.kind="sequence",i.result=m,!0):!1}function KLe(i,a,f){var p,v,m,b,E,_,L=i.tag,N=i.anchor,B={},j=Object.create(null),R=null,z=null,K=null,it=!1,st=!1,ut;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=B),ut=i.input.charCodeAt(i.position);ut!==0;){if(!it&&i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,_s(i,"tab characters must not be used in indentation")),p=i.input.charCodeAt(i.position+1),m=i.line,(ut===63||ut===58)&&lp(p))ut===63?(it&&(KA(i,B,j,R,z,null,b,E,_),R=z=K=null),st=!0,it=!0,v=!0):it?(it=!1,v=!0):_s(i,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),i.position+=1,ut=p;else{if(b=i.line,E=i.lineStart,_=i.position,!YA(i,f,VOt,!1,!0))break;if(i.line===m){for(ut=i.input.charCodeAt(i.position);lT(ut);)ut=i.input.charCodeAt(++i.position);if(ut===58)ut=i.input.charCodeAt(++i.position),lp(ut)||_s(i,"a whitespace character is expected after the key-value separator within a block mapping"),it&&(KA(i,B,j,R,z,null,b,E,_),R=z=K=null),st=!0,it=!1,v=!1,R=i.tag,z=i.result;else if(st)_s(i,"can not read an implicit mapping pair; a colon is missed");else return i.tag=L,i.anchor=N,!0}else if(st)_s(i,"can not read a block mapping entry; a multiline key may not be an implicit key");else return i.tag=L,i.anchor=N,!0}if((i.line===m||i.lineIndent>a)&&(it&&(b=i.line,E=i.lineStart,_=i.position),YA(i,a,FW,!0,v)&&(it?z=i.result:K=i.result),it||(KA(i,B,j,R,z,K,b,E,_),R=z=K=null),Df(i,!0,-1),ut=i.input.charCodeAt(i.position)),(i.line===m||i.lineIndent>a)&&ut!==0)_s(i,"bad indentation of a mapping entry");else if(i.lineIndent<a)break}return it&&KA(i,B,j,R,z,null,b,E,_),st&&(i.tag=L,i.anchor=N,i.kind="mapping",i.result=B),st}function YLe(i){var a,f=!1,p=!1,v,m,b;if(b=i.input.charCodeAt(i.position),b!==33)return!1;if(i.tag!==null&&_s(i,"duplication of a tag property"),b=i.input.charCodeAt(++i.position),b===60?(f=!0,b=i.input.charCodeAt(++i.position)):b===33?(p=!0,v="!!",b=i.input.charCodeAt(++i.position)):v="!",a=i.position,f){do b=i.input.charCodeAt(++i.position);while(b!==0&&b!==62);i.position<i.length?(m=i.input.slice(a,i.position),b=i.input.charCodeAt(++i.position)):_s(i,"unexpected end of the stream within a verbatim tag")}else{for(;b!==0&&!lp(b);)b===33&&(p?_s(i,"tag suffix cannot contain exclamation marks"):(v=i.input.slice(a-1,i.position+1),KOt.test(v)||_s(i,"named tag handle cannot contain such characters"),p=!0,a=i.position+1)),b=i.input.charCodeAt(++i.position);m=i.input.slice(a,i.position),BLe.test(m)&&_s(i,"tag suffix cannot contain flow indicator characters")}m&&!YOt.test(m)&&_s(i,"tag name cannot contain such characters: "+m);try{m=decodeURIComponent(m)}catch{_s(i,"tag name is malformed: "+m)}return f?i.tag=m:rk.call(i.tagMap,v)?i.tag=i.tagMap[v]+m:v==="!"?i.tag="!"+m:v==="!!"?i.tag="tag:yaml.org,2002:"+m:_s(i,'undeclared tag handle "'+v+'"'),!0}function XLe(i){var a,f;if(f=i.input.charCodeAt(i.position),f!==38)return!1;for(i.anchor!==null&&_s(i,"duplication of an anchor property"),f=i.input.charCodeAt(++i.position),a=i.position;f!==0&&!lp(f)&&!UA(f);)f=i.input.charCodeAt(++i.position);return i.position===a&&_s(i,"name of an anchor node must contain at least one character"),i.anchor=i.input.slice(a,i.position),!0}function QLe(i){var a,f,p;if(p=i.input.charCodeAt(i.position),p!==42)return!1;for(p=i.input.charCodeAt(++i.position),a=i.position;p!==0&&!lp(p)&&!UA(p);)p=i.input.charCodeAt(++i.position);return i.position===a&&_s(i,"name of an alias node must contain at least one character"),f=i.input.slice(a,i.position),rk.call(i.anchorMap,f)||_s(i,'unidentified alias "'+f+'"'),i.result=i.anchorMap[f],Df(i,!0,-1),!0}function YA(i,a,f,p,v){var m,b,E,_=1,L=!1,N=!1,B,j,R,z,K,it;if(i.listener!==null&&i.listener("open",i),i.tag=null,i.anchor=null,i.kind=null,i.result=null,m=b=E=FW===f||UOt===f,p&&Df(i,!0,-1)&&(L=!0,i.lineIndent>a?_=1:i.lineIndent===a?_=0:i.lineIndent<a&&(_=-1)),_===1)for(;YLe(i)||XLe(i);)Df(i,!0,-1)?(L=!0,E=m,i.lineIndent>a?_=1:i.lineIndent===a?_=0:i.lineIndent<a&&(_=-1)):E=!1;if(E&&(E=L||v),(_===1||FW===f)&&(PW===f||VOt===f?K=a:K=a+1,it=i.position-i.lineStart,_===1?E&&(rNt(i,it)||KLe(i,it,K))||ULe(i,K)?N=!0:(b&&WLe(i,K)||GLe(i,K)||VLe(i,K)?N=!0:QLe(i)?(N=!0,(i.tag!==null||i.anchor!==null)&&_s(i,"alias node should not have any properties")):HLe(i,K,PW===f)&&(N=!0,i.tag===null&&(i.tag="?")),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):_===0&&(N=E&&rNt(i,it))),i.tag===null)i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);else if(i.tag==="?"){for(i.result!==null&&i.kind!=="scalar"&&_s(i,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+i.kind+'"'),B=0,j=i.implicitTypes.length;B<j;B+=1)if(z=i.implicitTypes[B],z.resolve(i.result)){i.result=z.construct(i.result),i.tag=z.tag,i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);break}}else if(i.tag!=="!"){if(rk.call(i.typeMap[i.kind||"fallback"],i.tag))z=i.typeMap[i.kind||"fallback"][i.tag];else for(z=null,R=i.typeMap.multi[i.kind||"fallback"],B=0,j=R.length;B<j;B+=1)if(i.tag.slice(0,R[B].tag.length)===R[B].tag){z=R[B];break}z||_s(i,"unknown tag !<"+i.tag+">"),i.result!==null&&z.kind!==i.kind&&_s(i,"unacceptable node kind for !<"+i.tag+'> tag; it should be "'+z.kind+'", not "'+i.kind+'"'),z.resolve(i.result,i.tag)?(i.result=z.construct(i.result,i.tag),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):_s(i,"cannot resolve a node with !<"+i.tag+"> explicit tag")}return i.listener!==null&&i.listener("close",i),i.tag!==null||i.anchor!==null||N}function ZLe(i){var a=i.position,f,p,v,m=!1,b;for(i.version=null,i.checkLineBreaks=i.legacy,i.tagMap=Object.create(null),i.anchorMap=Object.create(null);(b=i.input.charCodeAt(i.position))!==0&&(Df(i,!0,-1),b=i.input.charCodeAt(i.position),!(i.lineIndent>0||b!==37));){for(m=!0,b=i.input.charCodeAt(++i.position),f=i.position;b!==0&&!lp(b);)b=i.input.charCodeAt(++i.position);for(p=i.input.slice(f,i.position),v=[],p.length<1&&_s(i,"directive name must not be less than one character in length");b!==0;){for(;lT(b);)b=i.input.charCodeAt(++i.position);if(b===35){do b=i.input.charCodeAt(++i.position);while(b!==0&&!f3(b));break}if(f3(b))break;for(f=i.position;b!==0&&!lp(b);)b=i.input.charCodeAt(++i.position);v.push(i.input.slice(f,i.position))}b!==0&&Ldt(i),rk.call(eNt,p)?eNt[p](i,p,v):BW(i,'unknown document directive "'+p+'"')}if(Df(i,!0,-1),i.lineIndent===0&&i.input.charCodeAt(i.position)===45&&i.input.charCodeAt(i.position+1)===45&&i.input.charCodeAt(i.position+2)===45?(i.position+=3,Df(i,!0,-1)):m&&_s(i,"directives end mark is expected"),YA(i,i.lineIndent-1,FW,!1,!0),Df(i,!0,-1),i.checkLineBreaks&&FLe.test(i.input.slice(a,i.position))&&BW(i,"non-ASCII line breaks are interpreted as content"),i.documents.push(i.result),i.position===i.lineStart&&RW(i)){i.input.charCodeAt(i.position)===46&&(i.position+=3,Df(i,!0,-1));return}if(i.position<i.length-1)_s(i,"end of the stream or a document separator is expected");else return}function iNt(i,a){i=String(i),a=a||{},i.length!==0&&(i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i.charCodeAt(0)===65279&&(i=i.slice(1)));var f=new qLe(i,a),p=i.indexOf("\0");for(p!==-1&&(f.position=p,_s(f,"null byte is not allowed in input")),f.input+="\0";f.input.charCodeAt(f.position)===32;)f.lineIndent+=1,f.position+=1;for(;f.position<f.length-1;)ZLe(f);return f.documents}function JLe(i,a,f){a!==null&&typeof a=="object"&&typeof f>"u"&&(f=a,a=null);var p=iNt(i,f);if(typeof a!="function")return p;for(var v=0,m=p.length;v<m;v+=1)a(p[v])}function tMe(i,a){var f=iNt(i,a);if(f.length!==0){if(f.length===1)return f[0];throw new x5("expected a single document in the stream, but found more")}}var eMe=JLe,nMe=tMe,rMe={loadAll:eMe,load:nMe},iMe=qOt,sMe=rMe.load;function aMe(i){const a=i.match(sDt);if(!a)return{text:i,metadata:{}};let f=sMe(a[1],{schema:iMe})??{};f=typeof f=="object"&&!Array.isArray(f)?f:{};const p={};return f.displayMode&&(p.displayMode=f.displayMode.toString()),f.title&&(p.title=f.title.toString()),f.config&&(p.config=f.config),{text:i.slice(a[0].length),metadata:p}}const oMe=i=>i.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(a,f,p)=>"<"+f+p.replace(/="([^"]*)"/g,"='$1'")+">"),cMe=i=>{const{text:a,metadata:f}=aMe(i),{displayMode:p,title:v,config:m={}}=f;return p&&(m.gantt||(m.gantt={}),m.gantt.displayMode=p),{title:v,config:m,text:a}},uMe=i=>{const a=$a.detectInit(i)??{},f=$a.detectDirective(i,"wrap");return Array.isArray(f)?a.wrap=f.some(({type:p})=>{}):(f==null?void 0:f.type)==="wrap"&&(a.wrap=!0),{text:O_e(i),directive:a}};function lMe(i){const a=oMe(i),f=cMe(a),p=uMe(f.text),v=idt(f.config,p.directive);return i=bAe(p.text),{code:i,title:f.title,config:v}}const hMe=5e4,fMe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",dMe="sandbox",gMe="loose",pMe="http://www.w3.org/2000/svg",bMe="http://www.w3.org/1999/xlink",vMe="http://www.w3.org/1999/xhtml",wMe="100%",mMe="100%",yMe="border:0;margin:0;",xMe="margin:0",kMe="allow-top-navigation-by-user-activation allow-popups",EMe='The "iframe" tag is not supported by your browser.',TMe=["foreignobject"],CMe=["dominant-baseline"];function sNt(i){const a=lMe(i);return IW(),fSe(a.config??{}),a}async function _Me(i,a){wdt(),i=sNt(i).code;try{await mdt(i)}catch(f){if(a!=null&&a.suppressErrors)return!1;throw f}return!0}const SMe=function(i){let a=i;return a=a.replace(/style.*:\S*#.*;/g,function(f){return f.substring(0,f.length-1)}),a=a.replace(/classDef.*:\S*#.*;/g,function(f){return f.substring(0,f.length-1)}),a=a.replace(/#\w+;/g,function(f){const p=f.substring(1,f.length-1);return/^\+?\d+$/.test(p)?""+p+"":""+p+""}),a},nP=function(i){return i.replace(//g,"&#").replace(//g,"&").replace(//g,";")},aNt=(i,a,f=[])=>`
.${i} ${a} { ${f.join(" !important; ")} !important; }`,AMe=(i,a={})=>{var p;let f="";if(i.themeCSS!==void 0&&(f+=`
${i.themeCSS}`),i.fontFamily!==void 0&&(f+=`
:root { --mermaid-font-family: ${i.fontFamily}}`),i.altFontFamily!==void 0&&(f+=`
:root { --mermaid-alt-font-family: ${i.altFontFamily}}`),!tP(a)){const E=i.htmlLabels||((p=i.flowchart)==null?void 0:p.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const _ in a){const L=a[_];tP(L.styles)||E.forEach(N=>{f+=aNt(L.id,N,L.styles)}),tP(L.textStyles)||(f+=aNt(L.id,"tspan",L.textStyles))}}return f},LMe=(i,a,f,p)=>{const v=AMe(i,f),m=zSe(a,v,i.themeVariables);return hdt(aSe(`${p}{${m}}`),cSe)},MMe=(i="",a,f)=>{let p=i;return!f&&!a&&(p=p.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),p=nP(p),p=p.replace(/<br>/g,"<br/>"),p},IMe=(i="",a)=>{var v,m;const f=(m=(v=a==null?void 0:a.viewBox)==null?void 0:v.baseVal)!=null&&m.height?a.viewBox.baseVal.height+"px":mMe,p=btoa('<body style="'+xMe+'">'+i+"</body>");return`<iframe style="width:${wMe};height:${f};${yMe}" src="data:text/html;base64,${p}" sandbox="${kMe}">
  ${EMe}
</iframe>`},oNt=(i,a,f,p,v)=>{const m=i.append("div");m.attr("id",f),p&&m.attr("style",p);const b=m.append("svg").attr("id",a).attr("width","100%").attr("xmlns",pMe);return v&&b.attr("xmlns:xlink",v),b.append("g"),i};function cNt(i,a){return i.append("iframe").attr("id",a).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const DMe=(i,a,f,p)=>{var v,m,b;(v=i.getElementById(a))==null||v.remove(),(m=i.getElementById(f))==null||m.remove(),(b=i.getElementById(p))==null||b.remove()},OMe=async function(i,a,f){var nt,Ot,Nt,qt,Ct,Z;wdt();const p=sNt(a);a=p.code;const v=Le();Ut.debug(v),a.length>((v==null?void 0:v.maxTextSize)??hMe)&&(a=fMe);const m="#"+i,b="i"+i,E="#"+b,_="d"+i,L="#"+_;let N=yr("body");const B=v.securityLevel===dMe,j=v.securityLevel===gMe,R=v.fontFamily;if(f!==void 0){if(f&&(f.innerHTML=""),B){const Tt=cNt(yr(f),b);N=yr(Tt.nodes()[0].contentDocument.body),N.node().style.margin=0}else N=yr(f);oNt(N,i,_,`font-family: ${R}`,bMe)}else{if(DMe(document,i,_,b),B){const Tt=cNt(yr("body"),b);N=yr(Tt.nodes()[0].contentDocument.body),N.node().style.margin=0}else N=yr("body");oNt(N,i,_)}a=SMe(a);let z,K;try{z=await mdt(a,{title:p.title})}catch(Tt){z=new DOt("error"),K=Tt}const it=N.select(L).node(),st=z.type,ut=it.firstChild,bt=ut.firstChild,mt=(Ot=(nt=z.renderer).getClasses)==null?void 0:Ot.call(nt,a,z),yt=LMe(v,st,mt,m),dt=document.createElement("style");dt.innerHTML=yt,ut.insertBefore(dt,bt);try{await z.renderer.draw(a,i,eOt,z)}catch(Tt){throw OSe.draw(a,i,eOt),Tt}const ht=N.select(`${L} svg`),wt=(qt=(Nt=z.db).getAccTitle)==null?void 0:qt.call(Nt),X=(Z=(Ct=z.db).getAccDescription)==null?void 0:Z.call(Ct);PMe(st,ht,wt,X),N.select(`[id="${i}"]`).selectAll("foreignobject > *").attr("xmlns",vMe);let pt=N.select(L).node().innerHTML;if(Ut.debug("config.arrowMarkerAbsolute",v.arrowMarkerAbsolute),pt=MMe(pt,B,s1(v.arrowMarkerAbsolute)),B){const Tt=N.select(L+" svg").node();pt=IMe(pt,Tt)}else j||(pt=eW.sanitize(pt,{ADD_TAGS:TMe,ADD_ATTR:CMe}));if(KSe(),K)throw K;const xt=yr(B?E:L).node();return xt&&"remove"in xt&&xt.remove(),{svg:pt,bindFunctions:z.db.bindFunctions}};function NMe(i={}){var f;i!=null&&i.fontFamily&&!((f=i.themeVariables)!=null&&f.fontFamily)&&(i.themeVariables||(i.themeVariables={}),i.themeVariables.fontFamily=i.fontFamily),lSe(i),i!=null&&i.theme&&i.theme in w5?i.themeVariables=w5[i.theme].getThemeVariables(i.themeVariables):i&&(i.themeVariables=w5.default.getThemeVariables(i.themeVariables));const a=typeof i=="object"?uSe(i):rOt();jft(a.logLevel),wdt()}function PMe(i,a,f,p){gAe(a,i),pAe(a,f,p,a.attr("id"))}const hT=Object.freeze({render:OMe,parse:_Me,getDiagramFromText:mdt,initialize:NMe,getConfig:Le,setConfig:iOt,getSiteConfig:rOt,updateSiteConfig:hSe,reset:()=>{IW()},globalReset:()=>{IW(oT)},defaultConfig:oT});jft(Le().logLevel),IW(Le());const FMe=async()=>{Ut.debug("Loading registered diagrams");const a=(await Promise.allSettled(Object.entries(DA).map(async([f,{detector:p,loader:v}])=>{if(v)try{vdt(f)}catch{try{const{diagram:b,id:E}=await v();NW(E,b,p)}catch(b){throw Ut.error(`Failed to load external diagram with key ${f}. Removing from detectors.`),delete DA[f],b}}}))).filter(f=>f.status==="rejected");if(a.length>0){Ut.error(`Failed to load ${a.length} external diagrams`);for(const f of a)Ut.error(f);throw new Error(`Failed to load ${a.length} external diagrams`)}},BMe=(i,a,f)=>{Ut.warn(i),UDt(i)?(f&&f(i.str,i.hash),a.push({...i,message:i.str,error:i})):(f&&f(i),i instanceof Error&&a.push({str:i.message,message:i.message,hash:i.name,error:i}))},uNt=async function(i={querySelector:".mermaid"}){try{await RMe(i)}catch(a){if(UDt(a)&&Ut.error(a.str),Ob.parseError&&Ob.parseError(a),!i.suppressErrors)throw Ut.error("Use the suppressErrors option to suppress these errors"),a}},RMe=async function({postRenderCallback:i,querySelector:a,nodes:f}={querySelector:".mermaid"}){const p=hT.getConfig();Ut.debug(`${i?"":"No "}Callback function found`);let v;if(f)v=f;else if(a)v=document.querySelectorAll(a);else throw new Error("Nodes and querySelector are both undefined");Ut.debug(`Found ${v.length} diagrams`),(p==null?void 0:p.startOnLoad)!==void 0&&(Ut.debug("Start On Load: "+(p==null?void 0:p.startOnLoad)),hT.updateSiteConfig({startOnLoad:p==null?void 0:p.startOnLoad}));const m=new $a.InitIDGenerator(p.deterministicIds,p.deterministicIDSeed);let b;const E=[];for(const _ of Array.from(v)){Ut.info("Rendering diagram: "+_.id);/*! Check if previously processed */if(_.getAttribute("data-processed"))continue;_.setAttribute("data-processed","true");const L=`mermaid-${m.next()}`;b=_.innerHTML,b=wA($a.entityDecode(b)).trim().replace(/<br\s*\/?>/gi,"<br/>");const N=$a.detectInit(b);N&&Ut.debug("Detected early reinit: ",N);try{const{svg:B,bindFunctions:j}=await dNt(L,b,_);_.innerHTML=B,i&&await i(L),j&&j(_)}catch(B){BMe(B,E,Ob.parseError)}}if(E.length>0)throw E[0]},lNt=function(i){hT.initialize(i)},jMe=async function(i,a,f){Ut.warn("mermaid.init is deprecated. Please use run instead."),i&&lNt(i);const p={postRenderCallback:f,querySelector:".mermaid"};typeof a=="string"?p.querySelector=a:a&&(a instanceof HTMLElement?p.nodes=[a]:p.nodes=a),await uNt(p)},$Me=async(i,{lazyLoad:a=!0}={})=>{oDt(...i),a===!1&&await FMe()},hNt=function(){if(Ob.startOnLoad){const{startOnLoad:i}=hT.getConfig();i&&Ob.run().catch(a=>Ut.error("Mermaid failed to initialize",a))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",hNt,!1)}const zMe=function(i){Ob.parseError=i},jW=[];let Idt=!1;const fNt=async()=>{if(!Idt){for(Idt=!0;jW.length>0;){const i=jW.shift();if(i)try{await i()}catch(a){Ut.error("Error executing queue",a)}}Idt=!1}},qMe=async(i,a)=>new Promise((f,p)=>{const v=()=>new Promise((m,b)=>{hT.parse(i,a).then(E=>{m(E),f(E)},E=>{var _;Ut.error("Error parsing",E),(_=Ob.parseError)==null||_.call(Ob,E),b(E),p(E)})});jW.push(v),fNt().catch(p)}),dNt=(i,a,f)=>new Promise((p,v)=>{const m=()=>new Promise((b,E)=>{hT.render(i,a,f).then(_=>{b(_),p(_)},_=>{var L;Ut.error("Error parsing",_),(L=Ob.parseError)==null||L.call(Ob,_),E(_),v(_)})});jW.push(m),fNt().catch(v)}),Ob={startOnLoad:!0,mermaidAPI:hT,parse:qMe,render:dNt,init:jMe,run:uNt,registerExternalDiagrams:$Me,initialize:lNt,parseError:void 0,contentLoaded:hNt,setParseErrorHandler:zMe,detectType:hW};var $W=function(){var i=function(ds,Dr,nr,di){for(nr=nr||{},di=ds.length;di--;nr[ds[di]]=Dr);return nr},a=[1,24],f=[1,25],p=[1,26],v=[1,27],m=[1,28],b=[1,63],E=[1,64],_=[1,65],L=[1,66],N=[1,67],B=[1,68],j=[1,69],R=[1,29],z=[1,30],K=[1,31],it=[1,32],st=[1,33],ut=[1,34],bt=[1,35],mt=[1,36],yt=[1,37],dt=[1,38],ht=[1,39],wt=[1,40],X=[1,41],pt=[1,42],U=[1,43],xt=[1,44],nt=[1,45],Ot=[1,46],Nt=[1,47],qt=[1,48],Ct=[1,50],Z=[1,51],Tt=[1,52],Ht=[1,53],It=[1,54],Ft=[1,55],ke=[1,56],pn=[1,57],Me=[1,58],ve=[1,59],Ge=[1,60],Ke=[14,42],we=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],_e=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],$t=[1,82],re=[1,83],ie=[1,84],Oe=[1,85],oe=[12,14,42],Ne=[12,14,33,42],me=[12,14,33,42,76,77,79,80],cn=[12,33],li=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ya={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:function(Dr,nr,di,Ee,Yn,He,Ti){var gn=He.length-1;switch(Yn){case 3:Ee.setDirection("TB");break;case 4:Ee.setDirection("BT");break;case 5:Ee.setDirection("RL");break;case 6:Ee.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:Ee.setC4Type(He[gn-3]);break;case 19:Ee.setTitle(He[gn].substring(6)),this.$=He[gn].substring(6);break;case 20:Ee.setAccDescription(He[gn].substring(15)),this.$=He[gn].substring(15);break;case 21:this.$=He[gn].trim(),Ee.setTitle(this.$);break;case 22:case 23:this.$=He[gn].trim(),Ee.setAccDescription(this.$);break;case 28:case 29:He[gn].splice(2,0,"ENTERPRISE"),Ee.addPersonOrSystemBoundary(...He[gn]),this.$=He[gn];break;case 30:Ee.addPersonOrSystemBoundary(...He[gn]),this.$=He[gn];break;case 31:He[gn].splice(2,0,"CONTAINER"),Ee.addContainerBoundary(...He[gn]),this.$=He[gn];break;case 32:Ee.addDeploymentNode("node",...He[gn]),this.$=He[gn];break;case 33:Ee.addDeploymentNode("nodeL",...He[gn]),this.$=He[gn];break;case 34:Ee.addDeploymentNode("nodeR",...He[gn]),this.$=He[gn];break;case 35:Ee.popBoundaryParseStack();break;case 39:Ee.addPersonOrSystem("person",...He[gn]),this.$=He[gn];break;case 40:Ee.addPersonOrSystem("external_person",...He[gn]),this.$=He[gn];break;case 41:Ee.addPersonOrSystem("system",...He[gn]),this.$=He[gn];break;case 42:Ee.addPersonOrSystem("system_db",...He[gn]),this.$=He[gn];break;case 43:Ee.addPersonOrSystem("system_queue",...He[gn]),this.$=He[gn];break;case 44:Ee.addPersonOrSystem("external_system",...He[gn]),this.$=He[gn];break;case 45:Ee.addPersonOrSystem("external_system_db",...He[gn]),this.$=He[gn];break;case 46:Ee.addPersonOrSystem("external_system_queue",...He[gn]),this.$=He[gn];break;case 47:Ee.addContainer("container",...He[gn]),this.$=He[gn];break;case 48:Ee.addContainer("container_db",...He[gn]),this.$=He[gn];break;case 49:Ee.addContainer("container_queue",...He[gn]),this.$=He[gn];break;case 50:Ee.addContainer("external_container",...He[gn]),this.$=He[gn];break;case 51:Ee.addContainer("external_container_db",...He[gn]),this.$=He[gn];break;case 52:Ee.addContainer("external_container_queue",...He[gn]),this.$=He[gn];break;case 53:Ee.addComponent("component",...He[gn]),this.$=He[gn];break;case 54:Ee.addComponent("component_db",...He[gn]),this.$=He[gn];break;case 55:Ee.addComponent("component_queue",...He[gn]),this.$=He[gn];break;case 56:Ee.addComponent("external_component",...He[gn]),this.$=He[gn];break;case 57:Ee.addComponent("external_component_db",...He[gn]),this.$=He[gn];break;case 58:Ee.addComponent("external_component_queue",...He[gn]),this.$=He[gn];break;case 60:Ee.addRel("rel",...He[gn]),this.$=He[gn];break;case 61:Ee.addRel("birel",...He[gn]),this.$=He[gn];break;case 62:Ee.addRel("rel_u",...He[gn]),this.$=He[gn];break;case 63:Ee.addRel("rel_d",...He[gn]),this.$=He[gn];break;case 64:Ee.addRel("rel_l",...He[gn]),this.$=He[gn];break;case 65:Ee.addRel("rel_r",...He[gn]),this.$=He[gn];break;case 66:Ee.addRel("rel_b",...He[gn]),this.$=He[gn];break;case 67:He[gn].splice(0,1),Ee.addRel("rel",...He[gn]),this.$=He[gn];break;case 68:Ee.updateElStyle("update_el_style",...He[gn]),this.$=He[gn];break;case 69:Ee.updateRelStyle("update_rel_style",...He[gn]),this.$=He[gn];break;case 70:Ee.updateLayoutConfig("update_layout_config",...He[gn]),this.$=He[gn];break;case 71:this.$=[He[gn]];break;case 72:He[gn].unshift(He[gn-1]),this.$=He[gn];break;case 73:case 75:this.$=He[gn].trim();break;case 74:let ks={};ks[He[gn-1].trim()]=He[gn].trim(),this.$=ks;break;case 76:this.$="";break}},table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:a,23:f,24:p,26:v,28:m,29:49,30:61,32:62,34:b,36:E,37:_,38:L,39:N,40:B,41:j,43:23,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge},{13:70,19:20,20:21,21:22,22:a,23:f,24:p,26:v,28:m,29:49,30:61,32:62,34:b,36:E,37:_,38:L,39:N,40:B,41:j,43:23,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge},{13:71,19:20,20:21,21:22,22:a,23:f,24:p,26:v,28:m,29:49,30:61,32:62,34:b,36:E,37:_,38:L,39:N,40:B,41:j,43:23,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge},{13:72,19:20,20:21,21:22,22:a,23:f,24:p,26:v,28:m,29:49,30:61,32:62,34:b,36:E,37:_,38:L,39:N,40:B,41:j,43:23,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge},{13:73,19:20,20:21,21:22,22:a,23:f,24:p,26:v,28:m,29:49,30:61,32:62,34:b,36:E,37:_,38:L,39:N,40:B,41:j,43:23,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge},{14:[1,74]},i(Ke,[2,13],{43:23,29:49,30:61,32:62,20:75,34:b,36:E,37:_,38:L,39:N,40:B,41:j,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge}),i(Ke,[2,14]),i(we,[2,16],{12:[1,76]}),i(Ke,[2,36],{12:[1,77]}),i(_e,[2,19]),i(_e,[2,20]),{25:[1,78]},{27:[1,79]},i(_e,[2,23]),{35:80,75:81,76:$t,77:re,79:ie,80:Oe},{35:86,75:81,76:$t,77:re,79:ie,80:Oe},{35:87,75:81,76:$t,77:re,79:ie,80:Oe},{35:88,75:81,76:$t,77:re,79:ie,80:Oe},{35:89,75:81,76:$t,77:re,79:ie,80:Oe},{35:90,75:81,76:$t,77:re,79:ie,80:Oe},{35:91,75:81,76:$t,77:re,79:ie,80:Oe},{35:92,75:81,76:$t,77:re,79:ie,80:Oe},{35:93,75:81,76:$t,77:re,79:ie,80:Oe},{35:94,75:81,76:$t,77:re,79:ie,80:Oe},{35:95,75:81,76:$t,77:re,79:ie,80:Oe},{35:96,75:81,76:$t,77:re,79:ie,80:Oe},{35:97,75:81,76:$t,77:re,79:ie,80:Oe},{35:98,75:81,76:$t,77:re,79:ie,80:Oe},{35:99,75:81,76:$t,77:re,79:ie,80:Oe},{35:100,75:81,76:$t,77:re,79:ie,80:Oe},{35:101,75:81,76:$t,77:re,79:ie,80:Oe},{35:102,75:81,76:$t,77:re,79:ie,80:Oe},{35:103,75:81,76:$t,77:re,79:ie,80:Oe},{35:104,75:81,76:$t,77:re,79:ie,80:Oe},i(oe,[2,59]),{35:105,75:81,76:$t,77:re,79:ie,80:Oe},{35:106,75:81,76:$t,77:re,79:ie,80:Oe},{35:107,75:81,76:$t,77:re,79:ie,80:Oe},{35:108,75:81,76:$t,77:re,79:ie,80:Oe},{35:109,75:81,76:$t,77:re,79:ie,80:Oe},{35:110,75:81,76:$t,77:re,79:ie,80:Oe},{35:111,75:81,76:$t,77:re,79:ie,80:Oe},{35:112,75:81,76:$t,77:re,79:ie,80:Oe},{35:113,75:81,76:$t,77:re,79:ie,80:Oe},{35:114,75:81,76:$t,77:re,79:ie,80:Oe},{35:115,75:81,76:$t,77:re,79:ie,80:Oe},{20:116,29:49,30:61,32:62,34:b,36:E,37:_,38:L,39:N,40:B,41:j,43:23,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge},{12:[1,118],33:[1,117]},{35:119,75:81,76:$t,77:re,79:ie,80:Oe},{35:120,75:81,76:$t,77:re,79:ie,80:Oe},{35:121,75:81,76:$t,77:re,79:ie,80:Oe},{35:122,75:81,76:$t,77:re,79:ie,80:Oe},{35:123,75:81,76:$t,77:re,79:ie,80:Oe},{35:124,75:81,76:$t,77:re,79:ie,80:Oe},{35:125,75:81,76:$t,77:re,79:ie,80:Oe},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},i(Ke,[2,15]),i(we,[2,17],{21:22,19:130,22:a,23:f,24:p,26:v,28:m}),i(Ke,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:a,23:f,24:p,26:v,28:m,34:b,36:E,37:_,38:L,39:N,40:B,41:j,44:R,45:z,46:K,47:it,48:st,49:ut,50:bt,51:mt,52:yt,53:dt,54:ht,55:wt,56:X,57:pt,58:U,59:xt,60:nt,61:Ot,62:Nt,63:qt,64:Ct,65:Z,66:Tt,67:Ht,68:It,69:Ft,70:ke,71:pn,72:Me,73:ve,74:Ge}),i(_e,[2,21]),i(_e,[2,22]),i(oe,[2,39]),i(Ne,[2,71],{75:81,35:132,76:$t,77:re,79:ie,80:Oe}),i(me,[2,73]),{78:[1,133]},i(me,[2,75]),i(me,[2,76]),i(oe,[2,40]),i(oe,[2,41]),i(oe,[2,42]),i(oe,[2,43]),i(oe,[2,44]),i(oe,[2,45]),i(oe,[2,46]),i(oe,[2,47]),i(oe,[2,48]),i(oe,[2,49]),i(oe,[2,50]),i(oe,[2,51]),i(oe,[2,52]),i(oe,[2,53]),i(oe,[2,54]),i(oe,[2,55]),i(oe,[2,56]),i(oe,[2,57]),i(oe,[2,58]),i(oe,[2,60]),i(oe,[2,61]),i(oe,[2,62]),i(oe,[2,63]),i(oe,[2,64]),i(oe,[2,65]),i(oe,[2,66]),i(oe,[2,67]),i(oe,[2,68]),i(oe,[2,69]),i(oe,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},i(cn,[2,28]),i(cn,[2,29]),i(cn,[2,30]),i(cn,[2,31]),i(cn,[2,32]),i(cn,[2,33]),i(cn,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},i(we,[2,18]),i(Ke,[2,38]),i(Ne,[2,72]),i(me,[2,74]),i(oe,[2,24]),i(oe,[2,35]),i(li,[2,25]),i(li,[2,26],{12:[1,138]}),i(li,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:function(Dr,nr){if(nr.recoverable)this.trace(Dr);else{var di=new Error(Dr);throw di.hash=nr,di}},parse:function(Dr){var nr=this,di=[0],Ee=[],Yn=[null],He=[],Ti=this.table,gn="",ks=0,qa=0,La=2,Gs=1,No=He.slice.call(arguments,1),vs=Object.create(this.lexer),nu={yy:{}};for(var $s in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$s)&&(nu.yy[$s]=this.yy[$s]);vs.setInput(Dr,nu.yy),nu.yy.lexer=vs,nu.yy.parser=this,typeof vs.yylloc>"u"&&(vs.yylloc={});var Lu=vs.yylloc;He.push(Lu);var fm=vs.options&&vs.options.ranges;typeof nu.yy.parseError=="function"?this.parseError=nu.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function av(){var Ll;return Ll=Ee.pop()||vs.lex()||Gs,typeof Ll!="number"&&(Ll instanceof Array&&(Ee=Ll,Ll=Ee.pop()),Ll=nr.symbols_[Ll]||Ll),Ll}for(var Uu,Zl,Pa,Al,ua={},bc,Cc,ga,Ma;;){if(Zl=di[di.length-1],this.defaultActions[Zl]?Pa=this.defaultActions[Zl]:((Uu===null||typeof Uu>"u")&&(Uu=av()),Pa=Ti[Zl]&&Ti[Zl][Uu]),typeof Pa>"u"||!Pa.length||!Pa[0]){var Ha="";Ma=[];for(bc in Ti[Zl])this.terminals_[bc]&&bc>La&&Ma.push("'"+this.terminals_[bc]+"'");vs.showPosition?Ha="Parse error on line "+(ks+1)+`:
`+vs.showPosition()+`
Expecting `+Ma.join(", ")+", got '"+(this.terminals_[Uu]||Uu)+"'":Ha="Parse error on line "+(ks+1)+": Unexpected "+(Uu==Gs?"end of input":"'"+(this.terminals_[Uu]||Uu)+"'"),this.parseError(Ha,{text:vs.match,token:this.terminals_[Uu]||Uu,line:vs.yylineno,loc:Lu,expected:Ma})}if(Pa[0]instanceof Array&&Pa.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Zl+", token: "+Uu);switch(Pa[0]){case 1:di.push(Uu),Yn.push(vs.yytext),He.push(vs.yylloc),di.push(Pa[1]),Uu=null,qa=vs.yyleng,gn=vs.yytext,ks=vs.yylineno,Lu=vs.yylloc;break;case 2:if(Cc=this.productions_[Pa[1]][1],ua.$=Yn[Yn.length-Cc],ua._$={first_line:He[He.length-(Cc||1)].first_line,last_line:He[He.length-1].last_line,first_column:He[He.length-(Cc||1)].first_column,last_column:He[He.length-1].last_column},fm&&(ua._$.range=[He[He.length-(Cc||1)].range[0],He[He.length-1].range[1]]),Al=this.performAction.apply(ua,[gn,qa,ks,nu.yy,Pa[1],Yn,He].concat(No)),typeof Al<"u")return Al;Cc&&(di=di.slice(0,-1*Cc*2),Yn=Yn.slice(0,-1*Cc),He=He.slice(0,-1*Cc)),di.push(this.productions_[Pa[1]][0]),Yn.push(ua.$),He.push(ua._$),ga=Ti[di[di.length-2]][di[di.length-1]],di.push(ga);break;case 3:return!0}}return!0}},da=function(){var ds={EOF:1,parseError:function(nr,di){if(this.yy.parser)this.yy.parser.parseError(nr,di);else throw new Error(nr)},setInput:function(Dr,nr){return this.yy=nr||this.yy||{},this._input=Dr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Dr=this._input[0];this.yytext+=Dr,this.yyleng++,this.offset++,this.match+=Dr,this.matched+=Dr;var nr=Dr.match(/(?:\r\n?|\n).*/g);return nr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Dr},unput:function(Dr){var nr=Dr.length,di=Dr.split(/(?:\r\n?|\n)/g);this._input=Dr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-nr),this.offset-=nr;var Ee=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),di.length-1&&(this.yylineno-=di.length-1);var Yn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:di?(di.length===Ee.length?this.yylloc.first_column:0)+Ee[Ee.length-di.length].length-di[0].length:this.yylloc.first_column-nr},this.options.ranges&&(this.yylloc.range=[Yn[0],Yn[0]+this.yyleng-nr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Dr){this.unput(this.match.slice(Dr))},pastInput:function(){var Dr=this.matched.substr(0,this.matched.length-this.match.length);return(Dr.length>20?"...":"")+Dr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Dr=this.match;return Dr.length<20&&(Dr+=this._input.substr(0,20-Dr.length)),(Dr.substr(0,20)+(Dr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Dr=this.pastInput(),nr=new Array(Dr.length+1).join("-");return Dr+this.upcomingInput()+`
`+nr+"^"},test_match:function(Dr,nr){var di,Ee,Yn;if(this.options.backtrack_lexer&&(Yn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Yn.yylloc.range=this.yylloc.range.slice(0))),Ee=Dr[0].match(/(?:\r\n?|\n).*/g),Ee&&(this.yylineno+=Ee.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ee?Ee[Ee.length-1].length-Ee[Ee.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Dr[0].length},this.yytext+=Dr[0],this.match+=Dr[0],this.matches=Dr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Dr[0].length),this.matched+=Dr[0],di=this.performAction.call(this,this.yy,this,nr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),di)return di;if(this._backtrack){for(var He in Yn)this[He]=Yn[He];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Dr,nr,di,Ee;this._more||(this.yytext="",this.match="");for(var Yn=this._currentRules(),He=0;He<Yn.length;He++)if(di=this._input.match(this.rules[Yn[He]]),di&&(!nr||di[0].length>nr[0].length)){if(nr=di,Ee=He,this.options.backtrack_lexer){if(Dr=this.test_match(di,Yn[He]),Dr!==!1)return Dr;if(this._backtrack){nr=!1;continue}else return!1}else if(!this.options.flex)break}return nr?(Dr=this.test_match(nr,Yn[Ee]),Dr!==!1?Dr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var nr=this.next();return nr||this.lex()},begin:function(nr){this.conditionStack.push(nr)},popState:function(){var nr=this.conditionStack.length-1;return nr>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(nr){return nr=this.conditionStack.length-1-Math.abs(nr||0),nr>=0?this.conditionStack[nr]:"INITIAL"},pushState:function(nr){this.begin(nr)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(nr,di,Ee,Yn){switch(Ee){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return ds}();ya.lexer=da;function Oo(){this.yy={}}return Oo.prototype=ya,ya.Parser=Oo,new Oo}();$W.parser=$W;const HMe=$W;let rm=[],sk=[""],lg="global",im="",d3=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],rP=[],Ddt="",Odt=!1,zW=4,qW=2;var gNt;const GMe=function(){return gNt},VMe=function(i){gNt=Dd(i,Le())},UMe=function(i,a,f,p,v,m,b,E,_){if(i==null||a===void 0||a===null||f===void 0||f===null||p===void 0||p===null)return;let L={};const N=rP.find(B=>B.from===a&&B.to===f);if(N?L=N:rP.push(L),L.type=i,L.from=a,L.to=f,L.label={text:p},v==null)L.techn={text:""};else if(typeof v=="object"){let[B,j]=Object.entries(v)[0];L[B]={text:j}}else L.techn={text:v};if(m==null)L.descr={text:""};else if(typeof m=="object"){let[B,j]=Object.entries(m)[0];L[B]={text:j}}else L.descr={text:m};if(typeof b=="object"){let[B,j]=Object.entries(b)[0];L[B]=j}else L.sprite=b;if(typeof E=="object"){let[B,j]=Object.entries(E)[0];L[B]=j}else L.tags=E;if(typeof _=="object"){let[B,j]=Object.entries(_)[0];L[B]=j}else L.link=_;L.wrap=ak()},WMe=function(i,a,f,p,v,m,b){if(a===null||f===null)return;let E={};const _=rm.find(L=>L.alias===a);if(_&&a===_.alias?E=_:(E.alias=a,rm.push(E)),f==null?E.label={text:""}:E.label={text:f},p==null)E.descr={text:""};else if(typeof p=="object"){let[L,N]=Object.entries(p)[0];E[L]={text:N}}else E.descr={text:p};if(typeof v=="object"){let[L,N]=Object.entries(v)[0];E[L]=N}else E.sprite=v;if(typeof m=="object"){let[L,N]=Object.entries(m)[0];E[L]=N}else E.tags=m;if(typeof b=="object"){let[L,N]=Object.entries(b)[0];E[L]=N}else E.link=b;E.typeC4Shape={text:i},E.parentBoundary=lg,E.wrap=ak()},KMe=function(i,a,f,p,v,m,b,E){if(a===null||f===null)return;let _={};const L=rm.find(N=>N.alias===a);if(L&&a===L.alias?_=L:(_.alias=a,rm.push(_)),f==null?_.label={text:""}:_.label={text:f},p==null)_.techn={text:""};else if(typeof p=="object"){let[N,B]=Object.entries(p)[0];_[N]={text:B}}else _.techn={text:p};if(v==null)_.descr={text:""};else if(typeof v=="object"){let[N,B]=Object.entries(v)[0];_[N]={text:B}}else _.descr={text:v};if(typeof m=="object"){let[N,B]=Object.entries(m)[0];_[N]=B}else _.sprite=m;if(typeof b=="object"){let[N,B]=Object.entries(b)[0];_[N]=B}else _.tags=b;if(typeof E=="object"){let[N,B]=Object.entries(E)[0];_[N]=B}else _.link=E;_.wrap=ak(),_.typeC4Shape={text:i},_.parentBoundary=lg},YMe=function(i,a,f,p,v,m,b,E){if(a===null||f===null)return;let _={};const L=rm.find(N=>N.alias===a);if(L&&a===L.alias?_=L:(_.alias=a,rm.push(_)),f==null?_.label={text:""}:_.label={text:f},p==null)_.techn={text:""};else if(typeof p=="object"){let[N,B]=Object.entries(p)[0];_[N]={text:B}}else _.techn={text:p};if(v==null)_.descr={text:""};else if(typeof v=="object"){let[N,B]=Object.entries(v)[0];_[N]={text:B}}else _.descr={text:v};if(typeof m=="object"){let[N,B]=Object.entries(m)[0];_[N]=B}else _.sprite=m;if(typeof b=="object"){let[N,B]=Object.entries(b)[0];_[N]=B}else _.tags=b;if(typeof E=="object"){let[N,B]=Object.entries(E)[0];_[N]=B}else _.link=E;_.wrap=ak(),_.typeC4Shape={text:i},_.parentBoundary=lg},XMe=function(i,a,f,p,v){if(i===null||a===null)return;let m={};const b=d3.find(E=>E.alias===i);if(b&&i===b.alias?m=b:(m.alias=i,d3.push(m)),a==null?m.label={text:""}:m.label={text:a},f==null)m.type={text:"system"};else if(typeof f=="object"){let[E,_]=Object.entries(f)[0];m[E]={text:_}}else m.type={text:f};if(typeof p=="object"){let[E,_]=Object.entries(p)[0];m[E]=_}else m.tags=p;if(typeof v=="object"){let[E,_]=Object.entries(v)[0];m[E]=_}else m.link=v;m.parentBoundary=lg,m.wrap=ak(),im=lg,lg=i,sk.push(im)},QMe=function(i,a,f,p,v){if(i===null||a===null)return;let m={};const b=d3.find(E=>E.alias===i);if(b&&i===b.alias?m=b:(m.alias=i,d3.push(m)),a==null?m.label={text:""}:m.label={text:a},f==null)m.type={text:"container"};else if(typeof f=="object"){let[E,_]=Object.entries(f)[0];m[E]={text:_}}else m.type={text:f};if(typeof p=="object"){let[E,_]=Object.entries(p)[0];m[E]=_}else m.tags=p;if(typeof v=="object"){let[E,_]=Object.entries(v)[0];m[E]=_}else m.link=v;m.parentBoundary=lg,m.wrap=ak(),im=lg,lg=i,sk.push(im)},ZMe=function(i,a,f,p,v,m,b,E){if(a===null||f===null)return;let _={};const L=d3.find(N=>N.alias===a);if(L&&a===L.alias?_=L:(_.alias=a,d3.push(_)),f==null?_.label={text:""}:_.label={text:f},p==null)_.type={text:"node"};else if(typeof p=="object"){let[N,B]=Object.entries(p)[0];_[N]={text:B}}else _.type={text:p};if(v==null)_.descr={text:""};else if(typeof v=="object"){let[N,B]=Object.entries(v)[0];_[N]={text:B}}else _.descr={text:v};if(typeof b=="object"){let[N,B]=Object.entries(b)[0];_[N]=B}else _.tags=b;if(typeof E=="object"){let[N,B]=Object.entries(E)[0];_[N]=B}else _.link=E;_.nodeType=i,_.parentBoundary=lg,_.wrap=ak(),im=lg,lg=a,sk.push(im)},JMe=function(){lg=im,sk.pop(),im=sk.pop(),sk.push(im)},tIe=function(i,a,f,p,v,m,b,E,_,L,N){let B=rm.find(j=>j.alias===a);if(!(B===void 0&&(B=d3.find(j=>j.alias===a),B===void 0))){if(f!=null)if(typeof f=="object"){let[j,R]=Object.entries(f)[0];B[j]=R}else B.bgColor=f;if(p!=null)if(typeof p=="object"){let[j,R]=Object.entries(p)[0];B[j]=R}else B.fontColor=p;if(v!=null)if(typeof v=="object"){let[j,R]=Object.entries(v)[0];B[j]=R}else B.borderColor=v;if(m!=null)if(typeof m=="object"){let[j,R]=Object.entries(m)[0];B[j]=R}else B.shadowing=m;if(b!=null)if(typeof b=="object"){let[j,R]=Object.entries(b)[0];B[j]=R}else B.shape=b;if(E!=null)if(typeof E=="object"){let[j,R]=Object.entries(E)[0];B[j]=R}else B.sprite=E;if(_!=null)if(typeof _=="object"){let[j,R]=Object.entries(_)[0];B[j]=R}else B.techn=_;if(L!=null)if(typeof L=="object"){let[j,R]=Object.entries(L)[0];B[j]=R}else B.legendText=L;if(N!=null)if(typeof N=="object"){let[j,R]=Object.entries(N)[0];B[j]=R}else B.legendSprite=N}},eIe=function(i,a,f,p,v,m,b){const E=rP.find(_=>_.from===a&&_.to===f);if(E!==void 0){if(p!=null)if(typeof p=="object"){let[_,L]=Object.entries(p)[0];E[_]=L}else E.textColor=p;if(v!=null)if(typeof v=="object"){let[_,L]=Object.entries(v)[0];E[_]=L}else E.lineColor=v;if(m!=null)if(typeof m=="object"){let[_,L]=Object.entries(m)[0];E[_]=parseInt(L)}else E.offsetX=parseInt(m);if(b!=null)if(typeof b=="object"){let[_,L]=Object.entries(b)[0];E[_]=parseInt(L)}else E.offsetY=parseInt(b)}},nIe=function(i,a,f){let p=zW,v=qW;if(typeof a=="object"){const m=Object.values(a)[0];p=parseInt(m)}else p=parseInt(a);if(typeof f=="object"){const m=Object.values(f)[0];v=parseInt(m)}else v=parseInt(f);p>=1&&(zW=p),v>=1&&(qW=v)},rIe=function(){return zW},iIe=function(){return qW},sIe=function(){return lg},aIe=function(){return im},pNt=function(i){return i==null?rm:rm.filter(a=>a.parentBoundary===i)},oIe=function(i){return rm.find(a=>a.alias===i)},cIe=function(i){return Object.keys(pNt(i))},uIe=function(i){return i==null?d3:d3.filter(a=>a.parentBoundary===i)},lIe=function(){return rP},hIe=function(){return Ddt},fIe=function(i){Odt=i},ak=function(){return Odt},Ndt={addPersonOrSystem:WMe,addPersonOrSystemBoundary:XMe,addContainer:KMe,addContainerBoundary:QMe,addComponent:YMe,addDeploymentNode:ZMe,popBoundaryParseStack:JMe,addRel:UMe,updateElStyle:tIe,updateRelStyle:eIe,updateLayoutConfig:nIe,autoWrap:ak,setWrap:fIe,getC4ShapeArray:pNt,getC4Shape:oIe,getC4ShapeKeys:cIe,getBoundarys:uIe,getCurrentBoundaryParse:sIe,getParentBoundaryParse:aIe,getRels:lIe,getTitle:hIe,getC4Type:GMe,getC4ShapeInRow:rIe,getC4BoundaryInRow:iIe,setAccTitle:cg,getAccTitle:op,getAccDescription:up,setAccDescription:cp,getConfig:()=>Le().c4,clear:function(){rm=[],d3=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],im="",lg="global",sk=[""],rP=[],sk=[""],Ddt="",Odt=!1,zW=4,qW=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(i){Ddt=Dd(i,Le())},setC4Type:VMe},HW=(i,a)=>{const f=i.append("rect");if(f.attr("x",a.x),f.attr("y",a.y),f.attr("fill",a.fill),f.attr("stroke",a.stroke),f.attr("width",a.width),f.attr("height",a.height),a.rx!==void 0&&f.attr("rx",a.rx),a.ry!==void 0&&f.attr("ry",a.ry),a.attrs!==void 0)for(const p in a.attrs)f.attr(p,a.attrs[p]);return a.class!==void 0&&f.attr("class",a.class),f},bNt=(i,a)=>{const f={x:a.startx,y:a.starty,width:a.stopx-a.startx,height:a.stopy-a.starty,fill:a.fill,stroke:a.stroke,class:"rect"};HW(i,f).lower()},dIe=(i,a)=>{const f=a.text.replace($N," "),p=i.append("text");p.attr("x",a.x),p.attr("y",a.y),p.attr("class","legend"),p.style("text-anchor",a.anchor),a.class!==void 0&&p.attr("class",a.class);const v=p.append("tspan");return v.attr("x",a.x+a.textMargin*2),v.text(f),p},gIe=(i,a,f,p)=>{const v=i.append("image");v.attr("x",a),v.attr("y",f);const m=Q6(p);v.attr("xlink:href",m)},pIe=(i,a,f,p)=>{const v=i.append("use");v.attr("x",a),v.attr("y",f);const m=Q6(p);v.attr("xlink:href",`#${m}`)},fT=()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),Pdt=()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),Fdt=function(i,a){return HW(i,a)},vNt=function(i,a,f,p,v,m){const b=i.append("image");b.attr("width",a),b.attr("height",f),b.attr("x",p),b.attr("y",v);let E=m.startsWith("data:image/png;base64")?m:Q6(m);b.attr("xlink:href",E)},bIe=(i,a,f)=>{const p=i.append("g");let v=0;for(let m of a){let b=m.textColor?m.textColor:"#444444",E=m.lineColor?m.lineColor:"#444444",_=m.offsetX?parseInt(m.offsetX):0,L=m.offsetY?parseInt(m.offsetY):0,N="";if(v===0){let j=p.append("line");j.attr("x1",m.startPoint.x),j.attr("y1",m.startPoint.y),j.attr("x2",m.endPoint.x),j.attr("y2",m.endPoint.y),j.attr("stroke-width","1"),j.attr("stroke",E),j.style("fill","none"),m.type!=="rel_b"&&j.attr("marker-end","url("+N+"#arrowhead)"),(m.type==="birel"||m.type==="rel_b")&&j.attr("marker-start","url("+N+"#arrowend)"),v=-1}else{let j=p.append("path");j.attr("fill","none").attr("stroke-width","1").attr("stroke",E).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",m.startPoint.x).replaceAll("starty",m.startPoint.y).replaceAll("controlx",m.startPoint.x+(m.endPoint.x-m.startPoint.x)/2-(m.endPoint.x-m.startPoint.x)/4).replaceAll("controly",m.startPoint.y+(m.endPoint.y-m.startPoint.y)/2).replaceAll("stopx",m.endPoint.x).replaceAll("stopy",m.endPoint.y)),m.type!=="rel_b"&&j.attr("marker-end","url("+N+"#arrowhead)"),(m.type==="birel"||m.type==="rel_b")&&j.attr("marker-start","url("+N+"#arrowend)")}let B=f.messageFont();k5(f)(m.label.text,p,Math.min(m.startPoint.x,m.endPoint.x)+Math.abs(m.endPoint.x-m.startPoint.x)/2+_,Math.min(m.startPoint.y,m.endPoint.y)+Math.abs(m.endPoint.y-m.startPoint.y)/2+L,m.label.width,m.label.height,{fill:b},B),m.techn&&m.techn.text!==""&&(B=f.messageFont(),k5(f)("["+m.techn.text+"]",p,Math.min(m.startPoint.x,m.endPoint.x)+Math.abs(m.endPoint.x-m.startPoint.x)/2+_,Math.min(m.startPoint.y,m.endPoint.y)+Math.abs(m.endPoint.y-m.startPoint.y)/2+f.messageFontSize+5+L,Math.max(m.label.width,m.techn.width),m.techn.height,{fill:b,"font-style":"italic"},B))}},vIe=function(i,a,f){const p=i.append("g");let v=a.bgColor?a.bgColor:"none",m=a.borderColor?a.borderColor:"#444444",b=a.fontColor?a.fontColor:"black",E={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};a.nodeType&&(E={"stroke-width":1});let _={x:a.x,y:a.y,fill:v,stroke:m,width:a.width,height:a.height,rx:2.5,ry:2.5,attrs:E};Fdt(p,_);let L=f.boundaryFont();L.fontWeight="bold",L.fontSize=L.fontSize+2,L.fontColor=b,k5(f)(a.label.text,p,a.x,a.y+a.label.Y,a.width,a.height,{fill:"#444444"},L),a.type&&a.type.text!==""&&(L=f.boundaryFont(),L.fontColor=b,k5(f)(a.type.text,p,a.x,a.y+a.type.Y,a.width,a.height,{fill:"#444444"},L)),a.descr&&a.descr.text!==""&&(L=f.boundaryFont(),L.fontSize=L.fontSize-2,L.fontColor=b,k5(f)(a.descr.text,p,a.x,a.y+a.descr.Y,a.width,a.height,{fill:"#444444"},L))},wIe=function(i,a,f){var B;let p=a.bgColor?a.bgColor:f[a.typeC4Shape.text+"_bg_color"],v=a.borderColor?a.borderColor:f[a.typeC4Shape.text+"_border_color"],m=a.fontColor?a.fontColor:"#FFFFFF",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(a.typeC4Shape.text){case"person":b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const E=i.append("g");E.attr("class","person-man");const _=fT();switch(a.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":_.x=a.x,_.y=a.y,_.fill=p,_.width=a.width,_.height=a.height,_.stroke=v,_.rx=2.5,_.ry=2.5,_.attrs={"stroke-width":.5},Fdt(E,_);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":E.append("path").attr("fill",p).attr("stroke-width","0.5").attr("stroke",v).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",a.x).replaceAll("starty",a.y).replaceAll("half",a.width/2).replaceAll("height",a.height)),E.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",v).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",a.x).replaceAll("starty",a.y).replaceAll("half",a.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":E.append("path").attr("fill",p).attr("stroke-width","0.5").attr("stroke",v).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",a.x).replaceAll("starty",a.y).replaceAll("width",a.width).replaceAll("half",a.height/2)),E.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",v).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",a.x+a.width).replaceAll("starty",a.y).replaceAll("half",a.height/2));break}let L=SIe(f,a.typeC4Shape.text);switch(E.append("text").attr("fill",m).attr("font-family",L.fontFamily).attr("font-size",L.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",a.typeC4Shape.width).attr("x",a.x+a.width/2-a.typeC4Shape.width/2).attr("y",a.y+a.typeC4Shape.Y).text("<<"+a.typeC4Shape.text+">>"),a.typeC4Shape.text){case"person":case"external_person":vNt(E,48,48,a.x+a.width/2-24,a.y+a.image.Y,b);break}let N=f[a.typeC4Shape.text+"Font"]();return N.fontWeight="bold",N.fontSize=N.fontSize+2,N.fontColor=m,k5(f)(a.label.text,E,a.x,a.y+a.label.Y,a.width,a.height,{fill:m},N),N=f[a.typeC4Shape.text+"Font"](),N.fontColor=m,a.techn&&((B=a.techn)==null?void 0:B.text)!==""?k5(f)(a.techn.text,E,a.x,a.y+a.techn.Y,a.width,a.height,{fill:m,"font-style":"italic"},N):a.type&&a.type.text!==""&&k5(f)(a.type.text,E,a.x,a.y+a.type.Y,a.width,a.height,{fill:m,"font-style":"italic"},N),a.descr&&a.descr.text!==""&&(N=f.personFont(),N.fontColor=m,k5(f)(a.descr.text,E,a.x,a.y+a.descr.Y,a.width,a.height,{fill:m},N)),a.height},mIe=function(i){i.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},yIe=function(i){i.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},xIe=function(i){i.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},kIe=function(i){i.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},EIe=function(i){i.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},TIe=function(i){i.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},CIe=function(i){i.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},_Ie=function(i){const f=i.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);f.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),f.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},SIe=(i,a)=>({fontFamily:i[a+"FontFamily"],fontSize:i[a+"FontSize"],fontWeight:i[a+"FontWeight"]}),k5=function(){function i(v,m,b,E,_,L,N){const B=m.append("text").attr("x",b+_/2).attr("y",E+L/2+5).style("text-anchor","middle").text(v);p(B,N)}function a(v,m,b,E,_,L,N,B){const{fontSize:j,fontFamily:R,fontWeight:z}=B,K=v.split(Yr.lineBreakRegex);for(let it=0;it<K.length;it++){const st=it*j-j*(K.length-1)/2,ut=m.append("text").attr("x",b+_/2).attr("y",E).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",j).style("font-weight",z).style("font-family",R);ut.append("tspan").attr("dy",st).text(K[it]).attr("alignment-baseline","mathematical"),p(ut,N)}}function f(v,m,b,E,_,L,N,B){const j=m.append("switch"),z=j.append("foreignObject").attr("x",b).attr("y",E).attr("width",_).attr("height",L).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");z.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(v),a(v,j,b,E,_,L,N,B),p(z,N)}function p(v,m){for(const b in m)m.hasOwnProperty(b)&&v.attr(b,m[b])}return function(v){return v.textPlacement==="fo"?f:v.textPlacement==="old"?i:a}}(),g3={drawRect:Fdt,drawBoundary:vIe,drawC4Shape:wIe,drawRels:bIe,drawImage:vNt,insertArrowHead:kIe,insertArrowEnd:EIe,insertArrowFilledHead:TIe,insertDynamicNumber:CIe,insertArrowCrossHead:_Ie,insertDatabaseIcon:mIe,insertComputerIcon:yIe,insertClockIcon:xIe};let GW=0,VW=0,wNt=4,Bdt=2;$W.yy=Ndt;let fs={};class mNt{constructor(a){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Rdt(a.db.getConfig())}setData(a,f,p,v){this.nextData.startx=this.data.startx=a,this.nextData.stopx=this.data.stopx=f,this.nextData.starty=this.data.starty=p,this.nextData.stopy=this.data.stopy=v}updateVal(a,f,p,v){a[f]===void 0?a[f]=p:a[f]=v(p,a[f])}insert(a){this.nextData.cnt=this.nextData.cnt+1;let f=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+a.margin:this.nextData.stopx+a.margin*2,p=f+a.width,v=this.nextData.starty+a.margin*2,m=v+a.height;(f>=this.data.widthLimit||p>=this.data.widthLimit||this.nextData.cnt>wNt)&&(f=this.nextData.startx+a.margin+fs.nextLinePaddingX,v=this.nextData.stopy+a.margin*2,this.nextData.stopx=p=f+a.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=m=v+a.height,this.nextData.cnt=1),a.x=f,a.y=v,this.updateVal(this.data,"startx",f,Math.min),this.updateVal(this.data,"starty",v,Math.min),this.updateVal(this.data,"stopx",p,Math.max),this.updateVal(this.data,"stopy",m,Math.max),this.updateVal(this.nextData,"startx",f,Math.min),this.updateVal(this.nextData,"starty",v,Math.min),this.updateVal(this.nextData,"stopx",p,Math.max),this.updateVal(this.nextData,"stopy",m,Math.max)}init(a){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Rdt(a.db.getConfig())}bumpLastMargin(a){this.data.stopx+=a,this.data.stopy+=a}}const Rdt=function(i){Y1(fs,i),i.fontFamily&&(fs.personFontFamily=fs.systemFontFamily=fs.messageFontFamily=i.fontFamily),i.fontSize&&(fs.personFontSize=fs.systemFontSize=fs.messageFontSize=i.fontSize),i.fontWeight&&(fs.personFontWeight=fs.systemFontWeight=fs.messageFontWeight=i.fontWeight)},iP=(i,a)=>({fontFamily:i[a+"FontFamily"],fontSize:i[a+"FontSize"],fontWeight:i[a+"FontWeight"]}),UW=i=>({fontFamily:i.boundaryFontFamily,fontSize:i.boundaryFontSize,fontWeight:i.boundaryFontWeight}),AIe=i=>({fontFamily:i.messageFontFamily,fontSize:i.messageFontSize,fontWeight:i.messageFontWeight});function sm(i,a,f,p,v){if(!a[i].width)if(f)a[i].text=VDt(a[i].text,v,p),a[i].textLines=a[i].text.split(Yr.lineBreakRegex).length,a[i].width=v,a[i].height=ndt(a[i].text,p);else{let m=a[i].text.split(Yr.lineBreakRegex);a[i].textLines=m.length;let b=0;a[i].height=0,a[i].width=0;for(const E of m)a[i].width=Math.max(h3(E,p),a[i].width),b=ndt(E,p),a[i].height=a[i].height+b}}const yNt=function(i,a,f){a.x=f.data.startx,a.y=f.data.starty,a.width=f.data.stopx-f.data.startx,a.height=f.data.stopy-f.data.starty,a.label.y=fs.c4ShapeMargin-35;let p=a.wrap&&fs.wrap,v=UW(fs);v.fontSize=v.fontSize+2,v.fontWeight="bold";let m=h3(a.label.text,v);sm("label",a,p,v,m),g3.drawBoundary(i,a,fs)},xNt=function(i,a,f,p){let v=0;for(const m of p){v=0;const b=f[m];let E=iP(fs,b.typeC4Shape.text);switch(E.fontSize=E.fontSize-2,b.typeC4Shape.width=h3(""+b.typeC4Shape.text+"",E),b.typeC4Shape.height=E.fontSize+2,b.typeC4Shape.Y=fs.c4ShapePadding,v=b.typeC4Shape.Y+b.typeC4Shape.height-4,b.image={width:0,height:0,Y:0},b.typeC4Shape.text){case"person":case"external_person":b.image.width=48,b.image.height=48,b.image.Y=v,v=b.image.Y+b.image.height;break}b.sprite&&(b.image.width=48,b.image.height=48,b.image.Y=v,v=b.image.Y+b.image.height);let _=b.wrap&&fs.wrap,L=fs.width-fs.c4ShapePadding*2,N=iP(fs,b.typeC4Shape.text);if(N.fontSize=N.fontSize+2,N.fontWeight="bold",sm("label",b,_,N,L),b.label.Y=v+8,v=b.label.Y+b.label.height,b.type&&b.type.text!==""){b.type.text="["+b.type.text+"]";let R=iP(fs,b.typeC4Shape.text);sm("type",b,_,R,L),b.type.Y=v+5,v=b.type.Y+b.type.height}else if(b.techn&&b.techn.text!==""){b.techn.text="["+b.techn.text+"]";let R=iP(fs,b.techn.text);sm("techn",b,_,R,L),b.techn.Y=v+5,v=b.techn.Y+b.techn.height}let B=v,j=b.label.width;if(b.descr&&b.descr.text!==""){let R=iP(fs,b.typeC4Shape.text);sm("descr",b,_,R,L),b.descr.Y=v+20,v=b.descr.Y+b.descr.height,j=Math.max(b.label.width,b.descr.width),B=v-b.descr.textLines*5}j=j+fs.c4ShapePadding,b.width=Math.max(b.width||fs.width,j,fs.width),b.height=Math.max(b.height||fs.height,B,fs.height),b.margin=b.margin||fs.c4ShapeMargin,i.insert(b),g3.drawC4Shape(a,b,fs)}i.bumpLastMargin(fs.c4ShapeMargin)};let J2=class{constructor(a,f){this.x=a,this.y=f}},kNt=function(i,a){let f=i.x,p=i.y,v=a.x,m=a.y,b=f+i.width/2,E=p+i.height/2,_=Math.abs(f-v),L=Math.abs(p-m),N=L/_,B=i.height/i.width,j=null;return p==m&&f<v?j=new J2(f+i.width,E):p==m&&f>v?j=new J2(f,E):f==v&&p<m?j=new J2(b,p+i.height):f==v&&p>m&&(j=new J2(b,p)),f>v&&p<m?B>=N?j=new J2(f,E+N*i.width/2):j=new J2(b-_/L*i.height/2,p+i.height):f<v&&p<m?B>=N?j=new J2(f+i.width,E+N*i.width/2):j=new J2(b+_/L*i.height/2,p+i.height):f<v&&p>m?B>=N?j=new J2(f+i.width,E-N*i.width/2):j=new J2(b+i.height/2*_/L,p):f>v&&p>m&&(B>=N?j=new J2(f,E-i.width/2*N):j=new J2(b-i.height/2*_/L,p)),j},LIe=function(i,a){let f={x:0,y:0};f.x=a.x+a.width/2,f.y=a.y+a.height/2;let p=kNt(i,f);f.x=i.x+i.width/2,f.y=i.y+i.height/2;let v=kNt(a,f);return{startPoint:p,endPoint:v}};const MIe=function(i,a,f,p){let v=0;for(let m of a){v=v+1;let b=m.wrap&&fs.wrap,E=AIe(fs);p.db.getC4Type()==="C4Dynamic"&&(m.label.text=v+": "+m.label.text);let L=h3(m.label.text,E);sm("label",m,b,E,L),m.techn&&m.techn.text!==""&&(L=h3(m.techn.text,E),sm("techn",m,b,E,L)),m.descr&&m.descr.text!==""&&(L=h3(m.descr.text,E),sm("descr",m,b,E,L));let N=f(m.from),B=f(m.to),j=LIe(N,B);m.startPoint=j.startPoint,m.endPoint=j.endPoint}g3.drawRels(i,a,fs)};function ENt(i,a,f,p,v){let m=new mNt(v);m.data.widthLimit=f.data.widthLimit/Math.min(Bdt,p.length);for(let[b,E]of p.entries()){let _=0;E.image={width:0,height:0,Y:0},E.sprite&&(E.image.width=48,E.image.height=48,E.image.Y=_,_=E.image.Y+E.image.height);let L=E.wrap&&fs.wrap,N=UW(fs);if(N.fontSize=N.fontSize+2,N.fontWeight="bold",sm("label",E,L,N,m.data.widthLimit),E.label.Y=_+8,_=E.label.Y+E.label.height,E.type&&E.type.text!==""){E.type.text="["+E.type.text+"]";let z=UW(fs);sm("type",E,L,z,m.data.widthLimit),E.type.Y=_+5,_=E.type.Y+E.type.height}if(E.descr&&E.descr.text!==""){let z=UW(fs);z.fontSize=z.fontSize-2,sm("descr",E,L,z,m.data.widthLimit),E.descr.Y=_+20,_=E.descr.Y+E.descr.height}if(b==0||b%Bdt===0){let z=f.data.startx+fs.diagramMarginX,K=f.data.stopy+fs.diagramMarginY+_;m.setData(z,z,K,K)}else{let z=m.data.stopx!==m.data.startx?m.data.stopx+fs.diagramMarginX:m.data.startx,K=m.data.starty;m.setData(z,z,K,K)}m.name=E.alias;let B=v.db.getC4ShapeArray(E.alias),j=v.db.getC4ShapeKeys(E.alias);j.length>0&&xNt(m,i,B,j),a=E.alias;let R=v.db.getBoundarys(a);R.length>0&&ENt(i,a,m,R,v),E.alias!=="global"&&yNt(i,E,m),f.data.stopy=Math.max(m.data.stopy+fs.c4ShapeMargin,f.data.stopy),f.data.stopx=Math.max(m.data.stopx+fs.c4ShapeMargin,f.data.stopx),GW=Math.max(GW,f.data.stopx),VW=Math.max(VW,f.data.stopy)}}const TNt={drawPersonOrSystemArray:xNt,drawBoundary:yNt,setConf:Rdt,draw:function(i,a,f,p){fs=Le().c4;const v=Le().securityLevel;let m;v==="sandbox"&&(m=yr("#i"+a));const b=yr(v==="sandbox"?m.nodes()[0].contentDocument.body:"body");let E=p.db;p.db.setWrap(fs.wrap),wNt=E.getC4ShapeInRow(),Bdt=E.getC4BoundaryInRow(),Ut.debug(`C:${JSON.stringify(fs,null,2)}`);const _=v==="sandbox"?b.select(`[id="${a}"]`):yr(`[id="${a}"]`);g3.insertComputerIcon(_),g3.insertDatabaseIcon(_),g3.insertClockIcon(_);let L=new mNt(p);L.setData(fs.diagramMarginX,fs.diagramMarginX,fs.diagramMarginY,fs.diagramMarginY),L.data.widthLimit=screen.availWidth,GW=fs.diagramMarginX,VW=fs.diagramMarginY;const N=p.db.getTitle();let B=p.db.getBoundarys("");ENt(_,"",L,B,p),g3.insertArrowHead(_),g3.insertArrowEnd(_),g3.insertArrowCrossHead(_),g3.insertArrowFilledHead(_),MIe(_,p.db.getRels(),p.db.getC4Shape,p),L.data.stopx=GW,L.data.stopy=VW;const j=L.data;let z=j.stopy-j.starty+2*fs.diagramMarginY;const it=j.stopx-j.startx+2*fs.diagramMarginX;N&&_.append("text").text(N).attr("x",(j.stopx-j.startx)/2-4*fs.diagramMarginX).attr("y",j.starty+fs.diagramMarginY),og(_,z,it,fs.useMaxWidth);const st=N?60:0;_.attr("viewBox",j.startx-fs.diagramMarginX+" -"+(fs.diagramMarginY+st)+" "+it+" "+(z+st)),Ut.debug("models:",j)}},IIe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:HMe,db:Ndt,renderer:TNt,styles:i=>`.person {
    stroke: ${i.personBorder};
    fill: ${i.personBkg};
  }
`,init:({c4:i,wrap:a})=>{TNt.setConf(i),Ndt.setWrap(a)}}},Symbol.toStringTag,{value:"Module"}));var jdt=function(){var i=function(nf,Xi,Es,xa){for(Es=Es||{},xa=nf.length;xa--;Es[nf[xa]]=Xi);return Es},a=[1,4],f=[1,3],p=[1,5],v=[1,8,9,10,11,27,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],m=[2,2],b=[1,13],E=[1,14],_=[1,15],L=[1,16],N=[1,23],B=[1,25],j=[1,26],R=[1,27],z=[1,49],K=[1,48],it=[1,29],st=[1,30],ut=[1,31],bt=[1,32],mt=[1,33],yt=[1,44],dt=[1,46],ht=[1,42],wt=[1,47],X=[1,43],pt=[1,50],U=[1,45],xt=[1,51],nt=[1,52],Ot=[1,34],Nt=[1,35],qt=[1,36],Ct=[1,37],Z=[1,57],Tt=[1,8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],Ht=[1,61],It=[1,60],Ft=[1,62],ke=[8,9,11,73,75],pn=[1,88],Me=[1,93],ve=[1,92],Ge=[1,89],Ke=[1,85],we=[1,91],_e=[1,87],$t=[1,94],re=[1,90],ie=[1,95],Oe=[1,86],oe=[8,9,10,11,73,75],Ne=[8,9,10,11,44,73,75],me=[8,9,10,11,29,42,44,46,48,50,52,54,56,58,61,63,65,66,68,73,75,86,99,102,103,106,108,111,112,113],cn=[8,9,11,42,58,73,75,86,99,102,103,106,108,111,112,113],li=[42,58,86,99,102,103,106,108,111,112,113],ya=[1,121],da=[1,120],Oo=[1,128],ds=[1,142],Dr=[1,143],nr=[1,144],di=[1,145],Ee=[1,130],Yn=[1,132],He=[1,136],Ti=[1,137],gn=[1,138],ks=[1,139],qa=[1,140],La=[1,141],Gs=[1,146],No=[1,147],vs=[1,126],nu=[1,127],$s=[1,134],Lu=[1,129],fm=[1,133],av=[1,131],Uu=[8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],Zl=[1,149],Pa=[8,9,11],Al=[8,9,10,11,14,42,58,86,102,103,106,108,111,112,113],ua=[1,169],bc=[1,165],Cc=[1,166],ga=[1,170],Ma=[1,167],Ha=[1,168],Ll=[75,113,116],_c=[8,9,10,11,12,14,27,29,32,42,58,73,81,82,83,84,85,86,87,102,106,108,111,112,113],ov=[10,103],Jl=[31,47,49,51,53,55,60,62,64,65,67,69,113,114,115],Z1=[1,235],Fd=[1,233],J1=[1,237],Bd=[1,231],E0=[1,232],Bi=[1,234],on=[1,236],kr=[1,238],Ei=[1,255],Jo=[8,9,11,103],vc=[8,9,10,11,58,81,102,103,106,107,108,109],tf={trace:function(){},yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeperator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,verticeStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,link:39,node:40,styledVertex:41,AMP:42,vertex:43,STYLE_SEPARATOR:44,idString:45,DOUBLECIRCLESTART:46,DOUBLECIRCLEEND:47,PS:48,PE:49,"(-":50,"-)":51,STADIUMSTART:52,STADIUMEND:53,SUBROUTINESTART:54,SUBROUTINEEND:55,VERTEX_WITH_PROPS_START:56,"NODE_STRING[field]":57,COLON:58,"NODE_STRING[value]":59,PIPE:60,CYLINDERSTART:61,CYLINDEREND:62,DIAMOND_START:63,DIAMOND_STOP:64,TAGEND:65,TRAPSTART:66,TRAPEND:67,INVTRAPSTART:68,INVTRAPEND:69,linkStatement:70,arrowText:71,TESTSTR:72,START_LINK:73,edgeText:74,LINK:75,edgeTextToken:76,STR:77,MD_STR:78,textToken:79,keywords:80,STYLE:81,LINKSTYLE:82,CLASSDEF:83,CLASS:84,CLICK:85,DOWN:86,UP:87,textNoTagsToken:88,stylesOpt:89,"idString[vertex]":90,"idString[class]":91,CALLBACKNAME:92,CALLBACKARGS:93,HREF:94,LINK_TARGET:95,"STR[link]":96,"STR[tooltip]":97,alphaNum:98,DEFAULT:99,numList:100,INTERPOLATE:101,NUM:102,COMMA:103,style:104,styleComponent:105,NODE_STRING:106,UNIT:107,BRKT:108,PCT:109,idStringToken:110,MINUS:111,MULT:112,UNICODE_TEXT:113,TEXT:114,TAGSTART:115,EDGE_TEXT:116,alphaNumToken:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",42:"AMP",44:"STYLE_SEPARATOR",46:"DOUBLECIRCLESTART",47:"DOUBLECIRCLEEND",48:"PS",49:"PE",50:"(-",51:"-)",52:"STADIUMSTART",53:"STADIUMEND",54:"SUBROUTINESTART",55:"SUBROUTINEEND",56:"VERTEX_WITH_PROPS_START",57:"NODE_STRING[field]",58:"COLON",59:"NODE_STRING[value]",60:"PIPE",61:"CYLINDERSTART",62:"CYLINDEREND",63:"DIAMOND_START",64:"DIAMOND_STOP",65:"TAGEND",66:"TRAPSTART",67:"TRAPEND",68:"INVTRAPSTART",69:"INVTRAPEND",72:"TESTSTR",73:"START_LINK",75:"LINK",77:"STR",78:"MD_STR",81:"STYLE",82:"LINKSTYLE",83:"CLASSDEF",84:"CLASS",85:"CLICK",86:"DOWN",87:"UP",90:"idString[vertex]",91:"idString[class]",92:"CALLBACKNAME",93:"CALLBACKARGS",94:"HREF",95:"LINK_TARGET",96:"STR[link]",97:"STR[tooltip]",99:"DEFAULT",101:"INTERPOLATE",102:"NUM",103:"COMMA",106:"NODE_STRING",107:"UNIT",108:"BRKT",109:"PCT",111:"MINUS",112:"MULT",113:"UNICODE_TEXT",114:"TEXT",115:"TAGSTART",116:"EDGE_TEXT",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[20,3],[20,4],[20,2],[20,1],[40,1],[40,5],[41,1],[41,3],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,8],[43,4],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,4],[43,4],[43,1],[39,2],[39,3],[39,3],[39,1],[39,3],[74,1],[74,2],[74,1],[74,1],[70,1],[71,3],[30,1],[30,2],[30,1],[30,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[100,1],[100,3],[89,1],[89,3],[104,1],[104,2],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[79,1],[79,1],[79,1],[79,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[76,1],[76,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[45,1],[45,2],[98,1],[98,2],[33,1],[33,1],[33,1],[33,1]],performAction:function(Xi,Es,xa,xi,Wc,Ce,gp){var Be=Ce.length-1;switch(Wc){case 2:this.$=[];break;case 3:(!Array.isArray(Ce[Be])||Ce[Be].length>0)&&Ce[Be-1].push(Ce[Be]),this.$=Ce[Be-1];break;case 4:case 176:this.$=Ce[Be];break;case 11:xi.setDirection("TB"),this.$="TB";break;case 12:xi.setDirection(Ce[Be-1]),this.$=Ce[Be-1];break;case 27:this.$=Ce[Be-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=xi.addSubGraph(Ce[Be-6],Ce[Be-1],Ce[Be-4]);break;case 34:this.$=xi.addSubGraph(Ce[Be-3],Ce[Be-1],Ce[Be-3]);break;case 35:this.$=xi.addSubGraph(void 0,Ce[Be-1],void 0);break;case 37:this.$=Ce[Be].trim(),xi.setAccTitle(this.$);break;case 38:case 39:this.$=Ce[Be].trim(),xi.setAccDescription(this.$);break;case 43:xi.addLink(Ce[Be-2].stmt,Ce[Be],Ce[Be-1]),this.$={stmt:Ce[Be],nodes:Ce[Be].concat(Ce[Be-2].nodes)};break;case 44:xi.addLink(Ce[Be-3].stmt,Ce[Be-1],Ce[Be-2]),this.$={stmt:Ce[Be-1],nodes:Ce[Be-1].concat(Ce[Be-3].nodes)};break;case 45:this.$={stmt:Ce[Be-1],nodes:Ce[Be-1]};break;case 46:this.$={stmt:Ce[Be],nodes:Ce[Be]};break;case 47:this.$=[Ce[Be]];break;case 48:this.$=Ce[Be-4].concat(Ce[Be]);break;case 49:this.$=Ce[Be];break;case 50:this.$=Ce[Be-2],xi.setClass(Ce[Be-2],Ce[Be]);break;case 51:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"square");break;case 52:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"doublecircle");break;case 53:this.$=Ce[Be-5],xi.addVertex(Ce[Be-5],Ce[Be-2],"circle");break;case 54:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"ellipse");break;case 55:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"stadium");break;case 56:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"subroutine");break;case 57:this.$=Ce[Be-7],xi.addVertex(Ce[Be-7],Ce[Be-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Ce[Be-5],Ce[Be-3]]]));break;case 58:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"cylinder");break;case 59:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"round");break;case 60:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"diamond");break;case 61:this.$=Ce[Be-5],xi.addVertex(Ce[Be-5],Ce[Be-2],"hexagon");break;case 62:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"odd");break;case 63:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"trapezoid");break;case 64:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"inv_trapezoid");break;case 65:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"lean_right");break;case 66:this.$=Ce[Be-3],xi.addVertex(Ce[Be-3],Ce[Be-1],"lean_left");break;case 67:this.$=Ce[Be],xi.addVertex(Ce[Be]);break;case 68:Ce[Be-1].text=Ce[Be],this.$=Ce[Be-1];break;case 69:case 70:Ce[Be-2].text=Ce[Be-1],this.$=Ce[Be-2];break;case 71:this.$=Ce[Be];break;case 72:var Ff=xi.destructLink(Ce[Be],Ce[Be-2]);this.$={type:Ff.type,stroke:Ff.stroke,length:Ff.length,text:Ce[Be-1]};break;case 73:this.$={text:Ce[Be],type:"text"};break;case 74:this.$={text:Ce[Be-1].text+""+Ce[Be],type:Ce[Be-1].type};break;case 75:this.$={text:Ce[Be],type:"string"};break;case 76:this.$={text:Ce[Be],type:"markdown"};break;case 77:var Ff=xi.destructLink(Ce[Be]);this.$={type:Ff.type,stroke:Ff.stroke,length:Ff.length};break;case 78:this.$=Ce[Be-1];break;case 79:this.$={text:Ce[Be],type:"text"};break;case 80:this.$={text:Ce[Be-1].text+""+Ce[Be],type:Ce[Be-1].type};break;case 81:this.$={text:Ce[Be],type:"string"};break;case 82:case 97:this.$={text:Ce[Be],type:"markdown"};break;case 94:this.$={text:Ce[Be],type:"text"};break;case 95:this.$={text:Ce[Be-1].text+""+Ce[Be],type:Ce[Be-1].type};break;case 96:this.$={text:Ce[Be],type:"text"};break;case 98:this.$=Ce[Be-4],xi.addClass(Ce[Be-2],Ce[Be]);break;case 99:this.$=Ce[Be-4],xi.setClass(Ce[Be-2],Ce[Be]);break;case 100:case 108:this.$=Ce[Be-1],xi.setClickEvent(Ce[Be-1],Ce[Be]);break;case 101:case 109:this.$=Ce[Be-3],xi.setClickEvent(Ce[Be-3],Ce[Be-2]),xi.setTooltip(Ce[Be-3],Ce[Be]);break;case 102:this.$=Ce[Be-2],xi.setClickEvent(Ce[Be-2],Ce[Be-1],Ce[Be]);break;case 103:this.$=Ce[Be-4],xi.setClickEvent(Ce[Be-4],Ce[Be-3],Ce[Be-2]),xi.setTooltip(Ce[Be-4],Ce[Be]);break;case 104:this.$=Ce[Be-2],xi.setLink(Ce[Be-2],Ce[Be]);break;case 105:this.$=Ce[Be-4],xi.setLink(Ce[Be-4],Ce[Be-2]),xi.setTooltip(Ce[Be-4],Ce[Be]);break;case 106:this.$=Ce[Be-4],xi.setLink(Ce[Be-4],Ce[Be-2],Ce[Be]);break;case 107:this.$=Ce[Be-6],xi.setLink(Ce[Be-6],Ce[Be-4],Ce[Be]),xi.setTooltip(Ce[Be-6],Ce[Be-2]);break;case 110:this.$=Ce[Be-1],xi.setLink(Ce[Be-1],Ce[Be]);break;case 111:this.$=Ce[Be-3],xi.setLink(Ce[Be-3],Ce[Be-2]),xi.setTooltip(Ce[Be-3],Ce[Be]);break;case 112:this.$=Ce[Be-3],xi.setLink(Ce[Be-3],Ce[Be-2],Ce[Be]);break;case 113:this.$=Ce[Be-5],xi.setLink(Ce[Be-5],Ce[Be-4],Ce[Be]),xi.setTooltip(Ce[Be-5],Ce[Be-2]);break;case 114:this.$=Ce[Be-4],xi.addVertex(Ce[Be-2],void 0,void 0,Ce[Be]);break;case 115:this.$=Ce[Be-4],xi.updateLink([Ce[Be-2]],Ce[Be]);break;case 116:this.$=Ce[Be-4],xi.updateLink(Ce[Be-2],Ce[Be]);break;case 117:this.$=Ce[Be-8],xi.updateLinkInterpolate([Ce[Be-6]],Ce[Be-2]),xi.updateLink([Ce[Be-6]],Ce[Be]);break;case 118:this.$=Ce[Be-8],xi.updateLinkInterpolate(Ce[Be-6],Ce[Be-2]),xi.updateLink(Ce[Be-6],Ce[Be]);break;case 119:this.$=Ce[Be-6],xi.updateLinkInterpolate([Ce[Be-4]],Ce[Be]);break;case 120:this.$=Ce[Be-6],xi.updateLinkInterpolate(Ce[Be-4],Ce[Be]);break;case 121:case 123:this.$=[Ce[Be]];break;case 122:case 124:Ce[Be-2].push(Ce[Be]),this.$=Ce[Be-2];break;case 126:this.$=Ce[Be-1]+Ce[Be];break;case 174:this.$=Ce[Be];break;case 175:this.$=Ce[Be-1]+""+Ce[Be];break;case 177:this.$=Ce[Be-1]+""+Ce[Be];break;case 178:this.$={stmt:"dir",value:"TB"};break;case 179:this.$={stmt:"dir",value:"BT"};break;case 180:this.$={stmt:"dir",value:"RL"};break;case 181:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,9:a,10:f,12:p},{1:[3]},i(v,m,{5:6}),{4:7,9:a,10:f,12:p},{4:8,9:a,10:f,12:p},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:b,9:E,10:_,11:L,20:17,22:18,23:19,24:20,25:21,26:22,27:N,33:24,34:B,36:j,38:R,40:28,41:38,42:z,43:39,45:40,58:K,81:it,82:st,83:ut,84:bt,85:mt,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt,118:Ot,119:Nt,120:qt,121:Ct},i(v,[2,9]),i(v,[2,10]),i(v,[2,11]),{8:[1,54],9:[1,55],10:Z,15:53,18:56},i(Tt,[2,3]),i(Tt,[2,4]),i(Tt,[2,5]),i(Tt,[2,6]),i(Tt,[2,7]),i(Tt,[2,8]),{8:Ht,9:It,11:Ft,21:58,39:59,70:63,73:[1,64],75:[1,65]},{8:Ht,9:It,11:Ft,21:66},{8:Ht,9:It,11:Ft,21:67},{8:Ht,9:It,11:Ft,21:68},{8:Ht,9:It,11:Ft,21:69},{8:Ht,9:It,11:Ft,21:70},{8:Ht,9:It,10:[1,71],11:Ft,21:72},i(Tt,[2,36]),{35:[1,73]},{37:[1,74]},i(Tt,[2,39]),i(ke,[2,46],{18:75,10:Z}),{10:[1,76]},{10:[1,77]},{10:[1,78]},{10:[1,79]},{14:pn,42:Me,58:ve,77:[1,83],86:Ge,92:[1,80],94:[1,81],98:82,102:Ke,103:we,106:_e,108:$t,111:re,112:ie,113:Oe,117:84},i(Tt,[2,178]),i(Tt,[2,179]),i(Tt,[2,180]),i(Tt,[2,181]),i(oe,[2,47]),i(oe,[2,49],{44:[1,96]}),i(Ne,[2,67],{110:109,29:[1,97],42:z,46:[1,98],48:[1,99],50:[1,100],52:[1,101],54:[1,102],56:[1,103],58:K,61:[1,104],63:[1,105],65:[1,106],66:[1,107],68:[1,108],86:yt,99:dt,102:ht,103:wt,106:X,108:pt,111:U,112:xt,113:nt}),i(me,[2,174]),i(me,[2,135]),i(me,[2,136]),i(me,[2,137]),i(me,[2,138]),i(me,[2,139]),i(me,[2,140]),i(me,[2,141]),i(me,[2,142]),i(me,[2,143]),i(me,[2,144]),i(me,[2,145]),i(v,[2,12]),i(v,[2,18]),i(v,[2,19]),{9:[1,110]},i(cn,[2,26],{18:111,10:Z}),i(Tt,[2,27]),{40:112,41:38,42:z,43:39,45:40,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt},i(Tt,[2,40]),i(Tt,[2,41]),i(Tt,[2,42]),i(li,[2,71],{71:113,60:[1,115],72:[1,114]}),{74:116,76:117,77:[1,118],78:[1,119],113:ya,116:da},i([42,58,60,72,86,99,102,103,106,108,111,112,113],[2,77]),i(Tt,[2,28]),i(Tt,[2,29]),i(Tt,[2,30]),i(Tt,[2,31]),i(Tt,[2,32]),{10:Oo,12:ds,14:Dr,27:nr,28:122,32:di,42:Ee,58:Yn,73:He,77:[1,124],78:[1,125],80:135,81:Ti,82:gn,83:ks,84:qa,85:La,86:Gs,87:No,88:123,102:vs,106:nu,108:$s,111:Lu,112:fm,113:av},i(Uu,m,{5:148}),i(Tt,[2,37]),i(Tt,[2,38]),i(ke,[2,45],{42:Zl}),{42:z,45:150,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt},{99:[1,151],100:152,102:[1,153]},{42:z,45:154,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt},{42:z,45:155,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt},i(Pa,[2,100],{10:[1,156],93:[1,157]}),{77:[1,158]},i(Pa,[2,108],{117:160,10:[1,159],14:pn,42:Me,58:ve,86:Ge,102:Ke,103:we,106:_e,108:$t,111:re,112:ie,113:Oe}),i(Pa,[2,110],{10:[1,161]}),i(Al,[2,176]),i(Al,[2,163]),i(Al,[2,164]),i(Al,[2,165]),i(Al,[2,166]),i(Al,[2,167]),i(Al,[2,168]),i(Al,[2,169]),i(Al,[2,170]),i(Al,[2,171]),i(Al,[2,172]),i(Al,[2,173]),{42:z,45:162,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt},{30:163,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:171,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:173,48:[1,172],65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:174,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:175,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:176,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{106:[1,177]},{30:178,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:179,63:[1,180],65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:181,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:182,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{30:183,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},i(me,[2,175]),i(v,[2,20]),i(cn,[2,25]),i(ke,[2,43],{18:184,10:Z}),i(li,[2,68],{10:[1,185]}),{10:[1,186]},{30:187,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{75:[1,188],76:189,113:ya,116:da},i(Ll,[2,73]),i(Ll,[2,75]),i(Ll,[2,76]),i(Ll,[2,161]),i(Ll,[2,162]),{8:Ht,9:It,10:Oo,11:Ft,12:ds,14:Dr,21:191,27:nr,29:[1,190],32:di,42:Ee,58:Yn,73:He,80:135,81:Ti,82:gn,83:ks,84:qa,85:La,86:Gs,87:No,88:192,102:vs,106:nu,108:$s,111:Lu,112:fm,113:av},i(_c,[2,94]),i(_c,[2,96]),i(_c,[2,97]),i(_c,[2,150]),i(_c,[2,151]),i(_c,[2,152]),i(_c,[2,153]),i(_c,[2,154]),i(_c,[2,155]),i(_c,[2,156]),i(_c,[2,157]),i(_c,[2,158]),i(_c,[2,159]),i(_c,[2,160]),i(_c,[2,83]),i(_c,[2,84]),i(_c,[2,85]),i(_c,[2,86]),i(_c,[2,87]),i(_c,[2,88]),i(_c,[2,89]),i(_c,[2,90]),i(_c,[2,91]),i(_c,[2,92]),i(_c,[2,93]),{6:11,7:12,8:b,9:E,10:_,11:L,20:17,22:18,23:19,24:20,25:21,26:22,27:N,32:[1,193],33:24,34:B,36:j,38:R,40:28,41:38,42:z,43:39,45:40,58:K,81:it,82:st,83:ut,84:bt,85:mt,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt,118:Ot,119:Nt,120:qt,121:Ct},{10:Z,18:194},{10:[1,195],42:z,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:109,111:U,112:xt,113:nt},{10:[1,196]},{10:[1,197],103:[1,198]},i(ov,[2,121]),{10:[1,199],42:z,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:109,111:U,112:xt,113:nt},{10:[1,200],42:z,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:109,111:U,112:xt,113:nt},{77:[1,201]},i(Pa,[2,102],{10:[1,202]}),i(Pa,[2,104],{10:[1,203]}),{77:[1,204]},i(Al,[2,177]),{77:[1,205],95:[1,206]},i(oe,[2,50],{110:109,42:z,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,111:U,112:xt,113:nt}),{31:[1,207],65:ua,79:208,113:ga,114:Ma,115:Ha},i(Jl,[2,79]),i(Jl,[2,81]),i(Jl,[2,82]),i(Jl,[2,146]),i(Jl,[2,147]),i(Jl,[2,148]),i(Jl,[2,149]),{47:[1,209],65:ua,79:208,113:ga,114:Ma,115:Ha},{30:210,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{49:[1,211],65:ua,79:208,113:ga,114:Ma,115:Ha},{51:[1,212],65:ua,79:208,113:ga,114:Ma,115:Ha},{53:[1,213],65:ua,79:208,113:ga,114:Ma,115:Ha},{55:[1,214],65:ua,79:208,113:ga,114:Ma,115:Ha},{58:[1,215]},{62:[1,216],65:ua,79:208,113:ga,114:Ma,115:Ha},{64:[1,217],65:ua,79:208,113:ga,114:Ma,115:Ha},{30:218,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},{31:[1,219],65:ua,79:208,113:ga,114:Ma,115:Ha},{65:ua,67:[1,220],69:[1,221],79:208,113:ga,114:Ma,115:Ha},{65:ua,67:[1,223],69:[1,222],79:208,113:ga,114:Ma,115:Ha},i(ke,[2,44],{42:Zl}),i(li,[2,70]),i(li,[2,69]),{60:[1,224],65:ua,79:208,113:ga,114:Ma,115:Ha},i(li,[2,72]),i(Ll,[2,74]),{30:225,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},i(Uu,m,{5:226}),i(_c,[2,95]),i(Tt,[2,35]),{41:227,42:z,43:39,45:40,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt},{10:Z1,58:Fd,81:J1,89:228,102:Bd,104:229,105:230,106:E0,107:Bi,108:on,109:kr},{10:Z1,58:Fd,81:J1,89:239,101:[1,240],102:Bd,104:229,105:230,106:E0,107:Bi,108:on,109:kr},{10:Z1,58:Fd,81:J1,89:241,101:[1,242],102:Bd,104:229,105:230,106:E0,107:Bi,108:on,109:kr},{102:[1,243]},{10:Z1,58:Fd,81:J1,89:244,102:Bd,104:229,105:230,106:E0,107:Bi,108:on,109:kr},{42:z,45:245,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt},i(Pa,[2,101]),{77:[1,246]},{77:[1,247],95:[1,248]},i(Pa,[2,109]),i(Pa,[2,111],{10:[1,249]}),i(Pa,[2,112]),i(Ne,[2,51]),i(Jl,[2,80]),i(Ne,[2,52]),{49:[1,250],65:ua,79:208,113:ga,114:Ma,115:Ha},i(Ne,[2,59]),i(Ne,[2,54]),i(Ne,[2,55]),i(Ne,[2,56]),{106:[1,251]},i(Ne,[2,58]),i(Ne,[2,60]),{64:[1,252],65:ua,79:208,113:ga,114:Ma,115:Ha},i(Ne,[2,62]),i(Ne,[2,63]),i(Ne,[2,65]),i(Ne,[2,64]),i(Ne,[2,66]),i([10,42,58,86,99,102,103,106,108,111,112,113],[2,78]),{31:[1,253],65:ua,79:208,113:ga,114:Ma,115:Ha},{6:11,7:12,8:b,9:E,10:_,11:L,20:17,22:18,23:19,24:20,25:21,26:22,27:N,32:[1,254],33:24,34:B,36:j,38:R,40:28,41:38,42:z,43:39,45:40,58:K,81:it,82:st,83:ut,84:bt,85:mt,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt,118:Ot,119:Nt,120:qt,121:Ct},i(oe,[2,48]),i(Pa,[2,114],{103:Ei}),i(Jo,[2,123],{105:256,10:Z1,58:Fd,81:J1,102:Bd,106:E0,107:Bi,108:on,109:kr}),i(vc,[2,125]),i(vc,[2,127]),i(vc,[2,128]),i(vc,[2,129]),i(vc,[2,130]),i(vc,[2,131]),i(vc,[2,132]),i(vc,[2,133]),i(vc,[2,134]),i(Pa,[2,115],{103:Ei}),{10:[1,257]},i(Pa,[2,116],{103:Ei}),{10:[1,258]},i(ov,[2,122]),i(Pa,[2,98],{103:Ei}),i(Pa,[2,99],{110:109,42:z,58:K,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,111:U,112:xt,113:nt}),i(Pa,[2,103]),i(Pa,[2,105],{10:[1,259]}),i(Pa,[2,106]),{95:[1,260]},{49:[1,261]},{60:[1,262]},{64:[1,263]},{8:Ht,9:It,11:Ft,21:264},i(Tt,[2,34]),{10:Z1,58:Fd,81:J1,102:Bd,104:265,105:230,106:E0,107:Bi,108:on,109:kr},i(vc,[2,126]),{14:pn,42:Me,58:ve,86:Ge,98:266,102:Ke,103:we,106:_e,108:$t,111:re,112:ie,113:Oe,117:84},{14:pn,42:Me,58:ve,86:Ge,98:267,102:Ke,103:we,106:_e,108:$t,111:re,112:ie,113:Oe,117:84},{95:[1,268]},i(Pa,[2,113]),i(Ne,[2,53]),{30:269,65:ua,77:bc,78:Cc,79:164,113:ga,114:Ma,115:Ha},i(Ne,[2,61]),i(Uu,m,{5:270}),i(Jo,[2,124],{105:256,10:Z1,58:Fd,81:J1,102:Bd,106:E0,107:Bi,108:on,109:kr}),i(Pa,[2,119],{117:160,10:[1,271],14:pn,42:Me,58:ve,86:Ge,102:Ke,103:we,106:_e,108:$t,111:re,112:ie,113:Oe}),i(Pa,[2,120],{117:160,10:[1,272],14:pn,42:Me,58:ve,86:Ge,102:Ke,103:we,106:_e,108:$t,111:re,112:ie,113:Oe}),i(Pa,[2,107]),{31:[1,273],65:ua,79:208,113:ga,114:Ma,115:Ha},{6:11,7:12,8:b,9:E,10:_,11:L,20:17,22:18,23:19,24:20,25:21,26:22,27:N,32:[1,274],33:24,34:B,36:j,38:R,40:28,41:38,42:z,43:39,45:40,58:K,81:it,82:st,83:ut,84:bt,85:mt,86:yt,99:dt,102:ht,103:wt,106:X,108:pt,110:41,111:U,112:xt,113:nt,118:Ot,119:Nt,120:qt,121:Ct},{10:Z1,58:Fd,81:J1,89:275,102:Bd,104:229,105:230,106:E0,107:Bi,108:on,109:kr},{10:Z1,58:Fd,81:J1,89:276,102:Bd,104:229,105:230,106:E0,107:Bi,108:on,109:kr},i(Ne,[2,57]),i(Tt,[2,33]),i(Pa,[2,117],{103:Ei}),i(Pa,[2,118],{103:Ei})],defaultActions:{},parseError:function(Xi,Es){if(Es.recoverable)this.trace(Xi);else{var xa=new Error(Xi);throw xa.hash=Es,xa}},parse:function(Xi){var Es=this,xa=[0],xi=[],Wc=[null],Ce=[],gp=this.table,Be="",Ff=0,dg=0,dm=2,pk=1,x3=Ce.slice.call(arguments,1),Ml=Object.create(this.lexer),T0={yy:{}};for(var cv in this.yy)Object.prototype.hasOwnProperty.call(this.yy,cv)&&(T0.yy[cv]=this.yy[cv]);Ml.setInput(Xi,T0.yy),T0.yy.lexer=Ml,T0.yy.parser=this,typeof Ml.yylloc>"u"&&(Ml.yylloc={});var F5=Ml.yylloc;Ce.push(F5);var jb=Ml.options&&Ml.options.ranges;typeof T0.yy.parseError=="function"?this.parseError=T0.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function B5(){var gg;return gg=xi.pop()||Ml.lex()||pk,typeof gg!="number"&&(gg instanceof Array&&(xi=gg,gg=xi.pop()),gg=Es.symbols_[gg]||gg),gg}for(var l1,td,ed,R5,uv={},j5,pp,$5,k3;;){if(td=xa[xa.length-1],this.defaultActions[td]?ed=this.defaultActions[td]:((l1===null||typeof l1>"u")&&(l1=B5()),ed=gp[td]&&gp[td][l1]),typeof ed>"u"||!ed.length||!ed[0]){var gm="";k3=[];for(j5 in gp[td])this.terminals_[j5]&&j5>dm&&k3.push("'"+this.terminals_[j5]+"'");Ml.showPosition?gm="Parse error on line "+(Ff+1)+`:
`+Ml.showPosition()+`
Expecting `+k3.join(", ")+", got '"+(this.terminals_[l1]||l1)+"'":gm="Parse error on line "+(Ff+1)+": Unexpected "+(l1==pk?"end of input":"'"+(this.terminals_[l1]||l1)+"'"),this.parseError(gm,{text:Ml.match,token:this.terminals_[l1]||l1,line:Ml.yylineno,loc:F5,expected:k3})}if(ed[0]instanceof Array&&ed.length>1)throw new Error("Parse Error: multiple actions possible at state: "+td+", token: "+l1);switch(ed[0]){case 1:xa.push(l1),Wc.push(Ml.yytext),Ce.push(Ml.yylloc),xa.push(ed[1]),l1=null,dg=Ml.yyleng,Be=Ml.yytext,Ff=Ml.yylineno,F5=Ml.yylloc;break;case 2:if(pp=this.productions_[ed[1]][1],uv.$=Wc[Wc.length-pp],uv._$={first_line:Ce[Ce.length-(pp||1)].first_line,last_line:Ce[Ce.length-1].last_line,first_column:Ce[Ce.length-(pp||1)].first_column,last_column:Ce[Ce.length-1].last_column},jb&&(uv._$.range=[Ce[Ce.length-(pp||1)].range[0],Ce[Ce.length-1].range[1]]),R5=this.performAction.apply(uv,[Be,dg,Ff,T0.yy,ed[1],Wc,Ce].concat(x3)),typeof R5<"u")return R5;pp&&(xa=xa.slice(0,-1*pp*2),Wc=Wc.slice(0,-1*pp),Ce=Ce.slice(0,-1*pp)),xa.push(this.productions_[ed[1]][0]),Wc.push(uv.$),Ce.push(uv._$),$5=gp[xa[xa.length-2]][xa[xa.length-1]],xa.push($5);break;case 3:return!0}}return!0}},Oc=function(){var nf={EOF:1,parseError:function(Es,xa){if(this.yy.parser)this.yy.parser.parseError(Es,xa);else throw new Error(Es)},setInput:function(Xi,Es){return this.yy=Es||this.yy||{},this._input=Xi,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Xi=this._input[0];this.yytext+=Xi,this.yyleng++,this.offset++,this.match+=Xi,this.matched+=Xi;var Es=Xi.match(/(?:\r\n?|\n).*/g);return Es?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Xi},unput:function(Xi){var Es=Xi.length,xa=Xi.split(/(?:\r\n?|\n)/g);this._input=Xi+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Es),this.offset-=Es;var xi=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),xa.length-1&&(this.yylineno-=xa.length-1);var Wc=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:xa?(xa.length===xi.length?this.yylloc.first_column:0)+xi[xi.length-xa.length].length-xa[0].length:this.yylloc.first_column-Es},this.options.ranges&&(this.yylloc.range=[Wc[0],Wc[0]+this.yyleng-Es]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Xi){this.unput(this.match.slice(Xi))},pastInput:function(){var Xi=this.matched.substr(0,this.matched.length-this.match.length);return(Xi.length>20?"...":"")+Xi.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Xi=this.match;return Xi.length<20&&(Xi+=this._input.substr(0,20-Xi.length)),(Xi.substr(0,20)+(Xi.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Xi=this.pastInput(),Es=new Array(Xi.length+1).join("-");return Xi+this.upcomingInput()+`
`+Es+"^"},test_match:function(Xi,Es){var xa,xi,Wc;if(this.options.backtrack_lexer&&(Wc={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Wc.yylloc.range=this.yylloc.range.slice(0))),xi=Xi[0].match(/(?:\r\n?|\n).*/g),xi&&(this.yylineno+=xi.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xi?xi[xi.length-1].length-xi[xi.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Xi[0].length},this.yytext+=Xi[0],this.match+=Xi[0],this.matches=Xi,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Xi[0].length),this.matched+=Xi[0],xa=this.performAction.call(this,this.yy,this,Es,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),xa)return xa;if(this._backtrack){for(var Ce in Wc)this[Ce]=Wc[Ce];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Xi,Es,xa,xi;this._more||(this.yytext="",this.match="");for(var Wc=this._currentRules(),Ce=0;Ce<Wc.length;Ce++)if(xa=this._input.match(this.rules[Wc[Ce]]),xa&&(!Es||xa[0].length>Es[0].length)){if(Es=xa,xi=Ce,this.options.backtrack_lexer){if(Xi=this.test_match(xa,Wc[Ce]),Xi!==!1)return Xi;if(this._backtrack){Es=!1;continue}else return!1}else if(!this.options.flex)break}return Es?(Xi=this.test_match(Es,Wc[xi]),Xi!==!1?Xi:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Es=this.next();return Es||this.lex()},begin:function(Es){this.conditionStack.push(Es)},popState:function(){var Es=this.conditionStack.length-1;return Es>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Es){return Es=this.conditionStack.length-1-Math.abs(Es||0),Es>=0?this.conditionStack[Es]:"INITIAL"},pushState:function(Es){this.begin(Es)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Es,xa,xi,Wc){switch(xi){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:this.begin("callbackname");break;case 8:this.popState();break;case 9:this.popState(),this.begin("callbackargs");break;case 10:return 92;case 11:this.popState();break;case 12:return 93;case 13:return"MD_STR";case 14:this.popState();break;case 15:this.begin("md_string");break;case 16:return"STR";case 17:this.popState();break;case 18:this.pushState("string");break;case 19:return 81;case 20:return 99;case 21:return 82;case 22:return 101;case 23:return 83;case 24:return 84;case 25:return 94;case 26:this.begin("click");break;case 27:this.popState();break;case 28:return 85;case 29:return Es.lex.firstGraph()&&this.begin("dir"),12;case 30:return Es.lex.firstGraph()&&this.begin("dir"),12;case 31:return Es.lex.firstGraph()&&this.begin("dir"),12;case 32:return 27;case 33:return 32;case 34:return 95;case 35:return 95;case 36:return 95;case 37:return 95;case 38:return this.popState(),13;case 39:return this.popState(),14;case 40:return this.popState(),14;case 41:return this.popState(),14;case 42:return this.popState(),14;case 43:return this.popState(),14;case 44:return this.popState(),14;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return 118;case 50:return 119;case 51:return 120;case 52:return 121;case 53:return 102;case 54:return 108;case 55:return 44;case 56:return 58;case 57:return 42;case 58:return 8;case 59:return 103;case 60:return 112;case 61:return this.popState(),75;case 62:return this.pushState("edgeText"),73;case 63:return 116;case 64:return this.popState(),75;case 65:return this.pushState("thickEdgeText"),73;case 66:return 116;case 67:return this.popState(),75;case 68:return this.pushState("dottedEdgeText"),73;case 69:return 116;case 70:return 75;case 71:return this.popState(),51;case 72:return"TEXT";case 73:return this.pushState("ellipseText"),50;case 74:return this.popState(),53;case 75:return this.pushState("text"),52;case 76:return this.popState(),55;case 77:return this.pushState("text"),54;case 78:return 56;case 79:return this.pushState("text"),65;case 80:return this.popState(),62;case 81:return this.pushState("text"),61;case 82:return this.popState(),47;case 83:return this.pushState("text"),46;case 84:return this.popState(),67;case 85:return this.popState(),69;case 86:return 114;case 87:return this.pushState("trapText"),66;case 88:return this.pushState("trapText"),68;case 89:return 115;case 90:return 65;case 91:return 87;case 92:return"SEP";case 93:return 86;case 94:return 112;case 95:return 108;case 96:return 42;case 97:return 106;case 98:return 111;case 99:return 113;case 100:return this.popState(),60;case 101:return this.pushState("text"),60;case 102:return this.popState(),49;case 103:return this.pushState("text"),48;case 104:return this.popState(),31;case 105:return this.pushState("text"),29;case 106:return this.popState(),64;case 107:return this.pushState("text"),63;case 108:return"TEXT";case 109:return"QUOTE";case 110:return 9;case 111:return 10;case 112:return 11}},rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|(?!\)+))/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{callbackargs:{rules:[11,12,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},callbackname:{rules:[8,9,10,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},href:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},click:{rules:[15,18,27,28,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dottedEdgeText:{rules:[15,18,67,69,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},thickEdgeText:{rules:[15,18,64,66,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},edgeText:{rules:[15,18,61,63,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},trapText:{rules:[15,18,70,73,75,77,81,83,84,85,86,87,88,101,103,105,107],inclusive:!1},ellipseText:{rules:[15,18,70,71,72,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},text:{rules:[15,18,70,73,74,75,76,77,80,81,82,83,87,88,100,101,102,103,104,105,106,107,108],inclusive:!1},vertex:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dir:{rules:[15,18,38,39,40,41,42,43,44,45,46,47,48,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr_multiline:{rules:[5,6,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr:{rules:[3,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_title:{rules:[1,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},md_string:{rules:[13,14,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},string:{rules:[15,16,17,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},INITIAL:{rules:[0,2,4,7,15,18,19,20,21,22,23,24,25,26,29,30,31,32,33,34,35,36,37,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,67,68,70,73,75,77,78,79,81,83,87,88,89,90,91,92,93,94,95,96,97,98,99,101,103,105,107,109,110,111,112],inclusive:!0}}};return nf}();tf.lexer=Oc;function ef(){this.yy={}}return ef.prototype=tf,tf.Parser=ef,new ef}();jdt.parser=jdt;const $dt=jdt,DIe="flowchart-";let CNt=0,zdt=Le(),pl={},dT=[],XA={},E5=[],WW={},KW={},YW=0,qdt=!0,tv,XW,QW=[];const ZW=i=>Yr.sanitizeText(i,zdt),sP=function(i){const a=Object.keys(pl);for(const f of a)if(pl[f].id===i)return pl[f].domId;return i},_Nt=function(i,a,f,p,v,m,b={}){let E,_=i;_!==void 0&&_.trim().length!==0&&(pl[_]===void 0&&(pl[_]={id:_,labelType:"text",domId:DIe+_+"-"+CNt,styles:[],classes:[]}),CNt++,a!==void 0?(zdt=Le(),E=ZW(a.text.trim()),pl[_].labelType=a.type,E[0]==='"'&&E[E.length-1]==='"'&&(E=E.substring(1,E.length-1)),pl[_].text=E):pl[_].text===void 0&&(pl[_].text=i),f!==void 0&&(pl[_].type=f),p!=null&&p.forEach(function(L){pl[_].styles.push(L)}),v!=null&&v.forEach(function(L){pl[_].classes.push(L)}),m!==void 0&&(pl[_].dir=m),pl[_].props===void 0?pl[_].props=b:b!==void 0&&Object.assign(pl[_].props,b))},SNt=function(i,a,f){const m={start:i,end:a,type:void 0,text:"",labelType:"text"};Ut.info("abc78 Got edge...",m);const b=f.text;b!==void 0&&(m.text=ZW(b.text.trim()),m.text[0]==='"'&&m.text[m.text.length-1]==='"'&&(m.text=m.text.substring(1,m.text.length-1)),m.labelType=b.type),f!==void 0&&(m.type=f.type,m.stroke=f.stroke,m.length=f.length),dT.push(m)},ANt=function(i,a,f){Ut.info("addLink (abc78)",i,a,f);let p,v;for(p=0;p<i.length;p++)for(v=0;v<a.length;v++)SNt(i[p],a[v],f)},LNt=function(i,a){i.forEach(function(f){f==="default"?dT.defaultInterpolate=a:dT[f].interpolate=a})},MNt=function(i,a){i.forEach(function(f){f==="default"?dT.defaultStyle=a:($a.isSubstringInArray("fill",a)===-1&&a.push("fill:none"),dT[f].style=a)})},INt=function(i,a){i.split(",").forEach(function(f){XA[f]===void 0&&(XA[f]={id:f,styles:[],textStyles:[]}),a!=null&&a.forEach(function(p){if(p.match("color")){const v=p.replace("fill","bgFill").replace("color","fill");XA[f].textStyles.push(v)}XA[f].styles.push(p)})})},DNt=function(i){tv=i,tv.match(/.*</)&&(tv="RL"),tv.match(/.*\^/)&&(tv="BT"),tv.match(/.*>/)&&(tv="LR"),tv.match(/.*v/)&&(tv="TB"),tv==="TD"&&(tv="TB")},JW=function(i,a){i.split(",").forEach(function(f){let p=f;pl[p]!==void 0&&pl[p].classes.push(a),WW[p]!==void 0&&WW[p].classes.push(a)})},OIe=function(i,a){i.split(",").forEach(function(f){a!==void 0&&(KW[XW==="gen-1"?sP(f):f]=ZW(a))})},NIe=function(i,a,f){let p=sP(i);if(Le().securityLevel!=="loose"||a===void 0)return;let v=[];if(typeof f=="string"){v=f.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let m=0;m<v.length;m++){let b=v[m].trim();b.charAt(0)==='"'&&b.charAt(b.length-1)==='"'&&(b=b.substr(1,b.length-2)),v[m]=b}}v.length===0&&v.push(i),pl[i]!==void 0&&(pl[i].haveCallback=!0,QW.push(function(){const m=document.querySelector(`[id="${p}"]`);m!==null&&m.addEventListener("click",function(){$a.runFunc(a,...v)},!1)}))},ONt=function(i,a,f){i.split(",").forEach(function(p){pl[p]!==void 0&&(pl[p].link=$a.formatUrl(a,zdt),pl[p].linkTarget=f)}),JW(i,"clickable")},NNt=function(i){if(KW.hasOwnProperty(i))return KW[i]},PNt=function(i,a,f){i.split(",").forEach(function(p){NIe(p,a,f)}),JW(i,"clickable")},FNt=function(i){QW.forEach(function(a){a(i)})},BNt=function(){return tv.trim()},RNt=function(){return pl},jNt=function(){return dT},$Nt=function(){return XA},zNt=function(i){let a=yr(".mermaidTooltip");(a._groups||a)[0][0]===null&&(a=yr("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),yr(i).select("svg").selectAll("g.node").on("mouseover",function(){const v=yr(this);if(v.attr("title")===null)return;const b=this.getBoundingClientRect();a.transition().duration(200).style("opacity",".9"),a.text(v.attr("title")).style("left",window.scrollX+b.left+(b.right-b.left)/2+"px").style("top",window.scrollY+b.top-14+document.body.scrollTop+"px"),a.html(a.html().replace(/&lt;br\/&gt;/g,"<br/>")),v.classed("hover",!0)}).on("mouseout",function(){a.transition().duration(500).style("opacity",0),yr(this).classed("hover",!1)})};QW.push(zNt);const qNt=function(i="gen-1"){pl={},XA={},dT=[],QW=[zNt],E5=[],WW={},YW=0,KW={},qdt=!0,XW=i,ap()},HNt=i=>{XW=i||"gen-2"},GNt=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},VNt=function(i,a,f){let p=i.text.trim(),v=f.text;i===f&&f.text.match(/\s/)&&(p=void 0);function m(N){const B={boolean:{},number:{},string:{}},j=[];let R;return{nodeList:N.filter(function(K){const it=typeof K;return K.stmt&&K.stmt==="dir"?(R=K.value,!1):K.trim()===""?!1:it in B?B[it].hasOwnProperty(K)?!1:B[it][K]=!0:j.includes(K)?!1:j.push(K)}),dir:R}}let b=[];const{nodeList:E,dir:_}=m(b.concat.apply(b,a));if(b=E,XW==="gen-1")for(let N=0;N<b.length;N++)b[N]=sP(b[N]);p=p||"subGraph"+YW,v=v||"",v=ZW(v),YW=YW+1;const L={id:p,nodes:b,title:v.trim(),classes:[],dir:_,labelType:f.type};return Ut.info("Adding",L.id,L.nodes,L.dir),L.nodes=tPt(L,E5).nodes,E5.push(L),WW[p]=L,p},PIe=function(i){for(const[a,f]of E5.entries())if(f.id===i)return a;return-1};let aP=-1;const UNt=[],WNt=function(i,a){const f=E5[a].nodes;if(aP=aP+1,aP>2e3)return;if(UNt[aP]=a,E5[a].id===i)return{result:!0,count:0};let p=0,v=1;for(;p<f.length;){const m=PIe(f[p]);if(m>=0){const b=WNt(i,m);if(b.result)return{result:!0,count:v+b.count};v=v+b.count}p=p+1}return{result:!1,count:v}},KNt=function(i){return UNt[i]},YNt=function(){aP=-1,E5.length>0&&WNt("none",E5.length-1)},XNt=function(){return E5},QNt=()=>qdt?(qdt=!1,!0):!1,FIe=i=>{let a=i.trim(),f="arrow_open";switch(a[0]){case"<":f="arrow_point",a=a.slice(1);break;case"x":f="arrow_cross",a=a.slice(1);break;case"o":f="arrow_circle",a=a.slice(1);break}let p="normal";return a.includes("=")&&(p="thick"),a.includes(".")&&(p="dotted"),{type:f,stroke:p}},BIe=(i,a)=>{const f=a.length;let p=0;for(let v=0;v<f;++v)a[v]===i&&++p;return p},RIe=i=>{const a=i.trim();let f=a.slice(0,-1),p="arrow_open";switch(a.slice(-1)){case"x":p="arrow_cross",a[0]==="x"&&(p="double_"+p,f=f.slice(1));break;case">":p="arrow_point",a[0]==="<"&&(p="double_"+p,f=f.slice(1));break;case"o":p="arrow_circle",a[0]==="o"&&(p="double_"+p,f=f.slice(1));break}let v="normal",m=f.length-1;f[0]==="="&&(v="thick"),f[0]==="~"&&(v="invisible");let b=BIe(".",f);return b&&(v="dotted",m=b),{type:p,stroke:v,length:m}},ZNt=(i,a)=>{const f=RIe(i);let p;if(a){if(p=FIe(a),p.stroke!==f.stroke)return{type:"INVALID",stroke:"INVALID"};if(p.type==="arrow_open")p.type=f.type;else{if(p.type!==f.type)return{type:"INVALID",stroke:"INVALID"};p.type="double_"+p.type}return p.type==="double_arrow"&&(p.type="double_arrow_point"),p.length=f.length,p}return f},JNt=(i,a)=>{let f=!1;return i.forEach(p=>{p.nodes.indexOf(a)>=0&&(f=!0)}),f},tPt=(i,a)=>{const f=[];return i.nodes.forEach((p,v)=>{JNt(a,p)||f.push(i.nodes[v])}),{nodes:f}},ePt={firstGraph:QNt},gT={defaultConfig:()=>oT.flowchart,setAccTitle:cg,getAccTitle:op,getAccDescription:up,setAccDescription:cp,addVertex:_Nt,lookUpDomId:sP,addLink:ANt,updateLinkInterpolate:LNt,updateLink:MNt,addClass:INt,setDirection:DNt,setClass:JW,setTooltip:OIe,getTooltip:NNt,setClickEvent:PNt,setLink:ONt,bindFunctions:FNt,getDirection:BNt,getVertices:RNt,getEdges:jNt,getClasses:$Nt,clear:qNt,setGen:HNt,defaultStyle:GNt,addSubGraph:VNt,getDepthFirstPos:KNt,indexNodes:YNt,getSubGraphs:XNt,destructLink:ZNt,lex:ePt,exists:JNt,makeUniq:tPt,setDiagramTitle:Z2,getDiagramTitle:Db},jIe=Object.freeze(Object.defineProperty({__proto__:null,addClass:INt,addLink:ANt,addSingleLink:SNt,addSubGraph:VNt,addVertex:_Nt,bindFunctions:FNt,clear:qNt,default:gT,defaultStyle:GNt,destructLink:ZNt,firstGraph:QNt,getClasses:$Nt,getDepthFirstPos:KNt,getDirection:BNt,getEdges:jNt,getSubGraphs:XNt,getTooltip:NNt,getVertices:RNt,indexNodes:YNt,lex:ePt,lookUpDomId:sP,setClass:JW,setClickEvent:PNt,setDirection:DNt,setGen:HNt,setLink:ONt,updateLink:MNt,updateLinkInterpolate:LNt},Symbol.toStringTag,{value:"Module"}));var $Ie="[object Symbol]";function pT(i){return typeof i=="symbol"||l3(i)&&tT(i)==$Ie}function QA(i,a){for(var f=-1,p=i==null?0:i.length,v=Array(p);++f<p;)v[f]=a(i[f],f,i);return v}var zIe=1/0,nPt=Y2?Y2.prototype:void 0,rPt=nPt?nPt.toString:void 0;function iPt(i){if(typeof i=="string")return i;if(Mf(i))return QA(i,iPt)+"";if(pT(i))return rPt?rPt.call(i):"";var a=i+"";return a=="0"&&1/i==-zIe?"-0":a}var qIe=/\s/;function HIe(i){for(var a=i.length;a--&&qIe.test(i.charAt(a)););return a}var GIe=/^\s+/;function VIe(i){return i&&i.slice(0,HIe(i)+1).replace(GIe,"")}var sPt=0/0,UIe=/^[-+]0x[0-9a-f]+$/i,WIe=/^0b[01]+$/i,KIe=/^0o[0-7]+$/i,YIe=parseInt;function XIe(i){if(typeof i=="number")return i;if(pT(i))return sPt;if(Ib(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=Ib(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=VIe(i);var f=WIe.test(i);return f||KIe.test(i)?YIe(i.slice(2),f?2:8):UIe.test(i)?sPt:+i}var aPt=1/0,QIe=17976931348623157e292;function tK(i){if(!i)return i===0?i:0;if(i=XIe(i),i===aPt||i===-aPt){var a=i<0?-1:1;return a*QIe}return i===i?i:0}function ZIe(i){var a=tK(i),f=a%1;return a===a?f?a-f:a:0}function JIe(){}function oPt(i,a){for(var f=-1,p=i==null?0:i.length;++f<p&&a(i[f],f,i)!==!1;);return i}function cPt(i,a,f,p){for(var v=i.length,m=f+(p?1:-1);p?m--:++m<v;)if(a(i[m],m,i))return m;return-1}function tDe(i){return i!==i}function eDe(i,a,f){for(var p=f-1,v=i.length;++p<v;)if(i[p]===a)return p;return-1}function nDe(i,a,f){return a===a?eDe(i,a,f):cPt(i,tDe,f)}function rDe(i,a){var f=i==null?0:i.length;return!!f&&nDe(i,a,0)>-1}function Nb(i){return ek(i)?ODt(i):OOt(i)}var iDe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sDe=/^\w*$/;function Hdt(i,a){if(Mf(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||pT(i)?!0:sDe.test(i)||!iDe.test(i)||a!=null&&i in Object(a)}var aDe=500;function oDe(i){var a=PA(i,function(p){return f.size===aDe&&f.clear(),p}),f=a.cache;return a}var cDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uDe=/\\(\\)?/g,lDe=oDe(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(cDe,function(f,p,v,m){a.push(v?m.replace(uDe,"$1"):p||f)}),a});const hDe=lDe;function uPt(i){return i==null?"":iPt(i)}function eK(i,a){return Mf(i)?i:Hdt(i,a)?[i]:hDe(uPt(i))}var fDe=1/0;function oP(i){if(typeof i=="string"||pT(i))return i;var a=i+"";return a=="0"&&1/i==-fDe?"-0":a}function nK(i,a){a=eK(a,i);for(var f=0,p=a.length;i!=null&&f<p;)i=i[oP(a[f++])];return f&&f==p?i:void 0}function dDe(i,a,f){var p=i==null?void 0:nK(i,a);return p===void 0?f:p}function Gdt(i,a){for(var f=-1,p=a.length,v=i.length;++f<p;)i[v+f]=a[f];return i}var lPt=Y2?Y2.isConcatSpreadable:void 0;function gDe(i){return Mf(i)||FA(i)||!!(lPt&&i&&i[lPt])}function rK(i,a,f,p,v){var m=-1,b=i.length;for(f||(f=gDe),v||(v=[]);++m<b;){var E=i[m];a>0&&f(E)?a>1?rK(E,a-1,f,p,v):Gdt(v,E):p||(v[v.length]=E)}return v}function ZA(i){var a=i==null?0:i.length;return a?rK(i,1):[]}function pDe(i){return BDt(FDt(i,void 0,ZA),i+"")}function bDe(i,a,f,p){var v=-1,m=i==null?0:i.length;for(p&&m&&(f=i[++v]);++v<m;)f=a(f,i[v],v,i);return f}function vDe(i,a){return i&&KN(a,Nb(a),i)}function wDe(i,a){return i&&KN(a,iT(a),i)}function hPt(i,a){for(var f=-1,p=i==null?0:i.length,v=0,m=[];++f<p;){var b=i[f];a(b,f,i)&&(m[v++]=b)}return m}function fPt(){return[]}var mDe=Object.prototype,yDe=mDe.propertyIsEnumerable,dPt=Object.getOwnPropertySymbols,xDe=dPt?function(i){return i==null?[]:(i=Object(i),hPt(dPt(i),function(a){return yDe.call(i,a)}))}:fPt;const Vdt=xDe;function kDe(i,a){return KN(i,Vdt(i),a)}var EDe=Object.getOwnPropertySymbols,TDe=EDe?function(i){for(var a=[];i;)Gdt(a,Vdt(i)),i=Q1t(i);return a}:fPt;const gPt=TDe;function CDe(i,a){return KN(i,gPt(i),a)}function pPt(i,a,f){var p=a(i);return Mf(i)?p:Gdt(p,f(i))}function Udt(i){return pPt(i,Nb,Vdt)}function _De(i){return pPt(i,iT,gPt)}var SDe=Object.prototype,ADe=SDe.hasOwnProperty;function LDe(i){var a=i.length,f=new i.constructor(a);return a&&typeof i[0]=="string"&&ADe.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function MDe(i,a){var f=a?X1t(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.byteLength)}var IDe=/\w*$/;function DDe(i){var a=new i.constructor(i.source,IDe.exec(i));return a.lastIndex=i.lastIndex,a}var bPt=Y2?Y2.prototype:void 0,vPt=bPt?bPt.valueOf:void 0;function ODe(i){return vPt?Object(vPt.call(i)):{}}var NDe="[object Boolean]",PDe="[object Date]",FDe="[object Map]",BDe="[object Number]",RDe="[object RegExp]",jDe="[object Set]",$De="[object String]",zDe="[object Symbol]",qDe="[object ArrayBuffer]",HDe="[object DataView]",GDe="[object Float32Array]",VDe="[object Float64Array]",UDe="[object Int8Array]",WDe="[object Int16Array]",KDe="[object Int32Array]",YDe="[object Uint8Array]",XDe="[object Uint8ClampedArray]",QDe="[object Uint16Array]",ZDe="[object Uint32Array]";function JDe(i,a,f){var p=i.constructor;switch(a){case qDe:return X1t(i);case NDe:case PDe:return new p(+i);case HDe:return MDe(i,f);case GDe:case VDe:case UDe:case WDe:case KDe:case YDe:case XDe:case QDe:case ZDe:return wDt(i,f);case FDe:return new p;case BDe:case $De:return new p(i);case RDe:return DDe(i);case jDe:return new p;case zDe:return ODe(i)}}var tOe="[object Map]";function eOe(i){return l3(i)&&VA(i)==tOe}var wPt=RA&&RA.isMap,nOe=wPt?wW(wPt):eOe;const rOe=nOe;var iOe="[object Set]";function sOe(i){return l3(i)&&VA(i)==iOe}var mPt=RA&&RA.isSet,aOe=mPt?wW(mPt):sOe;const oOe=aOe;var cOe=1,uOe=2,lOe=4,yPt="[object Arguments]",hOe="[object Array]",fOe="[object Boolean]",dOe="[object Date]",gOe="[object Error]",xPt="[object Function]",pOe="[object GeneratorFunction]",bOe="[object Map]",vOe="[object Number]",kPt="[object Object]",wOe="[object RegExp]",mOe="[object Set]",yOe="[object String]",xOe="[object Symbol]",kOe="[object WeakMap]",EOe="[object ArrayBuffer]",TOe="[object DataView]",COe="[object Float32Array]",_Oe="[object Float64Array]",SOe="[object Int8Array]",AOe="[object Int16Array]",LOe="[object Int32Array]",MOe="[object Uint8Array]",IOe="[object Uint8ClampedArray]",DOe="[object Uint16Array]",OOe="[object Uint32Array]",nl={};nl[yPt]=nl[hOe]=nl[EOe]=nl[TOe]=nl[fOe]=nl[dOe]=nl[COe]=nl[_Oe]=nl[SOe]=nl[AOe]=nl[LOe]=nl[bOe]=nl[vOe]=nl[kPt]=nl[wOe]=nl[mOe]=nl[yOe]=nl[xOe]=nl[MOe]=nl[IOe]=nl[DOe]=nl[OOe]=!0,nl[gOe]=nl[xPt]=nl[kOe]=!1;function cP(i,a,f,p,v,m){var b,E=a&cOe,_=a&uOe,L=a&lOe;if(f&&(b=v?f(i,p,v,m):f(i)),b!==void 0)return b;if(!Ib(i))return i;var N=Mf(i);if(N){if(b=LDe(i),!E)return mDt(i,b)}else{var B=VA(i),j=B==xPt||B==pOe;if(BA(i))return vDt(i,E);if(B==kPt||B==yPt||j&&!v){if(b=_||j?{}:kDt(i),!E)return _?CDe(i,wDe(b,i)):kDe(i,vDe(b,i))}else{if(!nl[B])return v?i:{};b=JDe(i,B,E)}}m||(m=new tm);var R=m.get(i);if(R)return R;m.set(i,b),oOe(i)?i.forEach(function(it){b.add(cP(it,a,f,it,i,m))}):rOe(i)&&i.forEach(function(it,st){b.set(st,cP(it,a,f,st,i,m))});var z=L?_?_De:Udt:_?iT:Nb,K=N?void 0:z(i);return oPt(K||i,function(it,st){K&&(st=it,it=i[st]),yW(b,st,cP(it,a,f,st,i,m))}),b}var NOe=4;function POe(i){return cP(i,NOe)}var FOe=1,BOe=4;function ROe(i){return cP(i,FOe|BOe)}var jOe="__lodash_hash_undefined__";function $Oe(i){return this.__data__.set(i,jOe),this}function zOe(i){return this.__data__.has(i)}function uP(i){var a=-1,f=i==null?0:i.length;for(this.__data__=new y5;++a<f;)this.add(i[a])}uP.prototype.add=uP.prototype.push=$Oe,uP.prototype.has=zOe;function qOe(i,a){for(var f=-1,p=i==null?0:i.length;++f<p;)if(a(i[f],f,i))return!0;return!1}function EPt(i,a){return i.has(a)}var HOe=1,GOe=2;function TPt(i,a,f,p,v,m){var b=f&HOe,E=i.length,_=a.length;if(E!=_&&!(b&&_>E))return!1;var L=m.get(i),N=m.get(a);if(L&&N)return L==a&&N==i;var B=-1,j=!0,R=f&GOe?new uP:void 0;for(m.set(i,a),m.set(a,i);++B<E;){var z=i[B],K=a[B];if(p)var it=b?p(K,z,B,a,i,m):p(z,K,B,i,a,m);if(it!==void 0){if(it)continue;j=!1;break}if(R){if(!qOe(a,function(st,ut){if(!EPt(R,ut)&&(z===st||v(z,st,f,p,m)))return R.push(ut)})){j=!1;break}}else if(!(z===K||v(z,K,f,p,m))){j=!1;break}}return m.delete(i),m.delete(a),j}function VOe(i){var a=-1,f=Array(i.size);return i.forEach(function(p,v){f[++a]=[v,p]}),f}function Wdt(i){var a=-1,f=Array(i.size);return i.forEach(function(p){f[++a]=p}),f}var UOe=1,WOe=2,KOe="[object Boolean]",YOe="[object Date]",XOe="[object Error]",QOe="[object Map]",ZOe="[object Number]",JOe="[object RegExp]",tNe="[object Set]",eNe="[object String]",nNe="[object Symbol]",rNe="[object ArrayBuffer]",iNe="[object DataView]",CPt=Y2?Y2.prototype:void 0,Kdt=CPt?CPt.valueOf:void 0;function sNe(i,a,f,p,v,m,b){switch(f){case iNe:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case rNe:return!(i.byteLength!=a.byteLength||!m(new bW(i),new bW(a)));case KOe:case YOe:case ZOe:return NA(+i,+a);case XOe:return i.name==a.name&&i.message==a.message;case JOe:case eNe:return i==a+"";case QOe:var E=VOe;case tNe:var _=p&UOe;if(E||(E=Wdt),i.size!=a.size&&!_)return!1;var L=b.get(i);if(L)return L==a;p|=WOe,b.set(i,a);var N=TPt(E(i),E(a),p,v,m,b);return b.delete(i),N;case nNe:if(Kdt)return Kdt.call(i)==Kdt.call(a)}return!1}var aNe=1,oNe=Object.prototype,cNe=oNe.hasOwnProperty;function uNe(i,a,f,p,v,m){var b=f&aNe,E=Udt(i),_=E.length,L=Udt(a),N=L.length;if(_!=N&&!b)return!1;for(var B=_;B--;){var j=E[B];if(!(b?j in a:cNe.call(a,j)))return!1}var R=m.get(i),z=m.get(a);if(R&&z)return R==a&&z==i;var K=!0;m.set(i,a),m.set(a,i);for(var it=b;++B<_;){j=E[B];var st=i[j],ut=a[j];if(p)var bt=b?p(ut,st,j,a,i,m):p(st,ut,j,i,a,m);if(!(bt===void 0?st===ut||v(st,ut,f,p,m):bt)){K=!1;break}it||(it=j=="constructor")}if(K&&!it){var mt=i.constructor,yt=a.constructor;mt!=yt&&"constructor"in i&&"constructor"in a&&!(typeof mt=="function"&&mt instanceof mt&&typeof yt=="function"&&yt instanceof yt)&&(K=!1)}return m.delete(i),m.delete(a),K}var lNe=1,_Pt="[object Arguments]",SPt="[object Array]",iK="[object Object]",hNe=Object.prototype,APt=hNe.hasOwnProperty;function fNe(i,a,f,p,v,m){var b=Mf(i),E=Mf(a),_=b?SPt:VA(i),L=E?SPt:VA(a);_=_==_Pt?iK:_,L=L==_Pt?iK:L;var N=_==iK,B=L==iK,j=_==L;if(j&&BA(i)){if(!BA(a))return!1;b=!0,N=!1}if(j&&!N)return m||(m=new tm),b||mW(i)?TPt(i,a,f,p,v,m):sNe(i,a,_,f,p,v,m);if(!(f&lNe)){var R=N&&APt.call(i,"__wrapped__"),z=B&&APt.call(a,"__wrapped__");if(R||z){var K=R?i.value():i,it=z?a.value():a;return m||(m=new tm),v(K,it,f,p,m)}}return j?(m||(m=new tm),uNe(i,a,f,p,v,m)):!1}function Ydt(i,a,f,p,v){return i===a?!0:i==null||a==null||!l3(i)&&!l3(a)?i!==i&&a!==a:fNe(i,a,f,p,Ydt,v)}var dNe=1,gNe=2;function pNe(i,a,f,p){var v=f.length,m=v,b=!p;if(i==null)return!m;for(i=Object(i);v--;){var E=f[v];if(b&&E[2]?E[1]!==i[E[0]]:!(E[0]in i))return!1}for(;++v<m;){E=f[v];var _=E[0],L=i[_],N=E[1];if(b&&E[2]){if(L===void 0&&!(_ in i))return!1}else{var B=new tm;if(p)var j=p(L,N,_,i,a,B);if(!(j===void 0?Ydt(N,L,dNe|gNe,p,B):j))return!1}}return!0}function LPt(i){return i===i&&!Ib(i)}function bNe(i){for(var a=Nb(i),f=a.length;f--;){var p=a[f],v=i[p];a[f]=[p,v,LPt(v)]}return a}function MPt(i,a){return function(f){return f==null?!1:f[i]===a&&(a!==void 0||i in Object(f))}}function vNe(i){var a=bNe(i);return a.length==1&&a[0][2]?MPt(a[0][0],a[0][1]):function(f){return f===i||pNe(f,i,a)}}function wNe(i,a){return i!=null&&a in Object(i)}function IPt(i,a,f){a=eK(a,i);for(var p=-1,v=a.length,m=!1;++p<v;){var b=oP(a[p]);if(!(m=i!=null&&f(i,b)))break;i=i[b]}return m||++p!=v?m:(v=i==null?0:i.length,!!v&&Z1t(v)&&xW(b,v)&&(Mf(i)||FA(i)))}function DPt(i,a){return i!=null&&IPt(i,a,wNe)}var mNe=1,yNe=2;function xNe(i,a){return Hdt(i)&&LPt(a)?MPt(oP(i),a):function(f){var p=dDe(f,i);return p===void 0&&p===a?DPt(f,i):Ydt(a,p,mNe|yNe)}}function kNe(i){return function(a){return a==null?void 0:a[i]}}function ENe(i){return function(a){return nK(a,i)}}function TNe(i){return Hdt(i)?kNe(oP(i)):ENe(i)}function ok(i){return typeof i=="function"?i:i==null?sT:typeof i=="object"?Mf(i)?xNe(i[0],i[1]):vNe(i):TNe(i)}function Xdt(i,a){return i&&Y1t(i,a,Nb)}function CNe(i,a){return function(f,p){if(f==null)return f;if(!ek(f))return i(f,p);for(var v=f.length,m=a?v:-1,b=Object(f);(a?m--:++m<v)&&p(b[m],m,b)!==!1;);return f}}var _Ne=CNe(Xdt);const sK=_Ne;var SNe=function(){return Jw.Date.now()};const OPt=SNe;var NPt=Object.prototype,ANe=NPt.hasOwnProperty,LNe=kW(function(i,a){i=Object(i);var f=-1,p=a.length,v=p>2?a[2]:void 0;for(v&&YN(a[0],a[1],v)&&(p=1);++f<p;)for(var m=a[f],b=iT(m),E=-1,_=b.length;++E<_;){var L=b[E],N=i[L];(N===void 0||NA(N,NPt[L])&&!ANe.call(i,L))&&(i[L]=m[L])}return i});const JA=LNe;function MNe(i,a,f){for(var p=-1,v=i==null?0:i.length;++p<v;)if(f(a,i[p]))return!0;return!1}function aK(i){var a=i==null?0:i.length;return a?i[a-1]:void 0}function Qdt(i){return typeof i=="function"?i:sT}function cr(i,a){var f=Mf(i)?oPt:sK;return f(i,Qdt(a))}function INe(i,a){var f=[];return sK(i,function(p,v,m){a(p,v,m)&&f.push(p)}),f}function T5(i,a){var f=Mf(i)?hPt:INe;return f(i,ok(a))}function DNe(i){return function(a,f,p){var v=Object(a);if(!ek(a)){var m=ok(f);a=Nb(a),f=function(E){return m(v[E],E,v)}}var b=i(a,f,p);return b>-1?v[m?a[b]:b]:void 0}}var ONe=Math.max;function NNe(i,a,f){var p=i==null?0:i.length;if(!p)return-1;var v=f==null?0:ZIe(f);return v<0&&(v=ONe(p+v,0)),cPt(i,ok(a),v)}var PNe=DNe(NNe);const Zdt=PNe;function PPt(i,a){var f=-1,p=ek(i)?Array(i.length):[];return sK(i,function(v,m,b){p[++f]=a(v,m,b)}),p}function Of(i,a){var f=Mf(i)?QA:PPt;return f(i,ok(a))}function FNe(i,a){return i==null?i:Y1t(i,Qdt(a),iT)}function BNe(i,a){return i&&Xdt(i,Qdt(a))}function RNe(i,a){return i>a}var jNe=Object.prototype,$Ne=jNe.hasOwnProperty;function zNe(i,a){return i!=null&&$Ne.call(i,a)}function za(i,a){return i!=null&&IPt(i,a,zNe)}function qNe(i,a){return QA(a,function(f){return i[f]})}function C5(i){return i==null?[]:qNe(i,Nb(i))}function Xh(i){return i===void 0}function FPt(i,a){return i<a}function oK(i,a){var f={};return a=ok(a),Xdt(i,function(p,v,m){pW(f,v,a(p,v,m))}),f}function Jdt(i,a,f){for(var p=-1,v=i.length;++p<v;){var m=i[p],b=a(m);if(b!=null&&(E===void 0?b===b&&!pT(b):f(b,E)))var E=b,_=m}return _}function bT(i){return i&&i.length?Jdt(i,sT,RNe):void 0}function lP(i){return i&&i.length?Jdt(i,sT,FPt):void 0}function t0t(i,a){return i&&i.length?Jdt(i,ok(a),FPt):void 0}function HNe(i,a,f,p){if(!Ib(i))return i;a=eK(a,i);for(var v=-1,m=a.length,b=m-1,E=i;E!=null&&++v<m;){var _=oP(a[v]),L=f;if(_==="__proto__"||_==="constructor"||_==="prototype")return i;if(v!=b){var N=E[_];L=p?p(N,_,E):void 0,L===void 0&&(L=Ib(N)?N:xW(a[v+1])?[]:{})}yW(E,_,L),E=E[_]}return i}function GNe(i,a,f){for(var p=-1,v=a.length,m={};++p<v;){var b=a[p],E=nK(i,b);f(E,b)&&HNe(m,eK(b,i),E)}return m}function VNe(i,a){var f=i.length;for(i.sort(a);f--;)i[f]=i[f].value;return i}function UNe(i,a){if(i!==a){var f=i!==void 0,p=i===null,v=i===i,m=pT(i),b=a!==void 0,E=a===null,_=a===a,L=pT(a);if(!E&&!L&&!m&&i>a||m&&b&&_&&!E&&!L||p&&b&&_||!f&&_||!v)return 1;if(!p&&!m&&!L&&i<a||L&&f&&v&&!p&&!m||E&&f&&v||!b&&v||!_)return-1}return 0}function WNe(i,a,f){for(var p=-1,v=i.criteria,m=a.criteria,b=v.length,E=f.length;++p<b;){var _=UNe(v[p],m[p]);if(_){if(p>=E)return _;var L=f[p];return _*(L=="desc"?-1:1)}}return i.index-a.index}function KNe(i,a,f){a.length?a=QA(a,function(m){return Mf(m)?function(b){return nK(b,m.length===1?m[0]:m)}:m}):a=[sT];var p=-1;a=QA(a,wW(ok));var v=PPt(i,function(m,b,E){var _=QA(a,function(L){return L(m)});return{criteria:_,index:++p,value:m}});return VNe(v,function(m,b){return WNe(m,b,f)})}function YNe(i,a){return GNe(i,a,function(f,p){return DPt(i,p)})}var XNe=pDe(function(i,a){return i==null?{}:YNe(i,a)});const hP=XNe;var QNe=Math.ceil,ZNe=Math.max;function JNe(i,a,f,p){for(var v=-1,m=ZNe(QNe((a-i)/(f||1)),0),b=Array(m);m--;)b[p?m:++v]=i,i+=f;return b}function tPe(i){return function(a,f,p){return p&&typeof p!="number"&&YN(a,f,p)&&(f=p=void 0),a=tK(a),f===void 0?(f=a,a=0):f=tK(f),p=p===void 0?a<f?1:-1:tK(p),JNe(a,f,p,i)}}var ePe=tPe();const vT=ePe;function nPe(i,a,f,p,v){return v(i,function(m,b,E){f=p?(p=!1,m):a(f,m,b,E)}),f}function fP(i,a,f){var p=Mf(i)?bDe:nPe,v=arguments.length<3;return p(i,ok(a),f,v,sK)}var rPe=kW(function(i,a){if(i==null)return[];var f=a.length;return f>1&&YN(i,a[0],a[1])?a=[]:f>2&&YN(a[0],a[1],a[2])&&(a=[a[0]]),KNe(i,rK(a,1),[])});const dP=rPe;var iPe=1/0,sPe=GA&&1/Wdt(new GA([,-0]))[1]==iPe?function(i){return new GA(i)}:JIe;const aPe=sPe;var oPe=200;function cPe(i,a,f){var p=-1,v=rDe,m=i.length,b=!0,E=[],_=E;if(f)b=!1,v=MNe;else if(m>=oPe){var L=a?null:aPe(i);if(L)return Wdt(L);b=!1,v=EPt,_=new uP}else _=a?[]:E;t:for(;++p<m;){var N=i[p],B=a?a(N):N;if(N=f||N!==0?N:0,b&&B===B){for(var j=_.length;j--;)if(_[j]===B)continue t;a&&_.push(B),E.push(N)}else v(_,B,f)||(_!==E&&_.push(B),E.push(N))}return E}var uPe=kW(function(i){return cPe(rK(i,1,CDt,!0))});const lPe=uPe;var hPe=0;function cK(i){var a=++hPe;return uPt(i)+a}function fPe(i,a,f){for(var p=-1,v=i.length,m=a.length,b={};++p<v;){var E=p<m?a[p]:void 0;f(b,i[p],E)}return b}function dPe(i,a){return fPe(i||[],a||[],yW)}var gPe="\0",wT="\0",BPt="";class a1{constructor(a={}){this._isDirected=za(a,"directed")?a.directed:!0,this._isMultigraph=za(a,"multigraph")?a.multigraph:!1,this._isCompound=za(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=jA(void 0),this._defaultEdgeLabelFn=jA(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[wT]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(a){return this._label=a,this}graph(){return this._label}setDefaultNodeLabel(a){return OA(a)||(a=jA(a)),this._defaultNodeLabelFn=a,this}nodeCount(){return this._nodeCount}nodes(){return Nb(this._nodes)}sources(){var a=this;return T5(this.nodes(),function(f){return tP(a._in[f])})}sinks(){var a=this;return T5(this.nodes(),function(f){return tP(a._out[f])})}setNodes(a,f){var p=arguments,v=this;return cr(a,function(m){p.length>1?v.setNode(m,f):v.setNode(m)}),this}setNode(a,f){return za(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=f),this):(this._nodes[a]=arguments.length>1?f:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=wT,this._children[a]={},this._children[wT][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)}node(a){return this._nodes[a]}hasNode(a){return za(this._nodes,a)}removeNode(a){var f=this;if(za(this._nodes,a)){var p=function(v){f.removeEdge(f._edgeObjs[v])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],cr(this.children(a),function(v){f.setParent(v)}),delete this._children[a]),cr(Nb(this._in[a]),p),delete this._in[a],delete this._preds[a],cr(Nb(this._out[a]),p),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this}setParent(a,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Xh(f))f=wT;else{f+="";for(var p=f;!Xh(p);p=this.parent(p))if(p===a)throw new Error("Setting "+f+" as parent of "+a+" would create a cycle");this.setNode(f)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=f,this._children[f][a]=!0,this}_removeFromParentsChildList(a){delete this._children[this._parent[a]][a]}parent(a){if(this._isCompound){var f=this._parent[a];if(f!==wT)return f}}children(a){if(Xh(a)&&(a=wT),this._isCompound){var f=this._children[a];if(f)return Nb(f)}else{if(a===wT)return this.nodes();if(this.hasNode(a))return[]}}predecessors(a){var f=this._preds[a];if(f)return Nb(f)}successors(a){var f=this._sucs[a];if(f)return Nb(f)}neighbors(a){var f=this.predecessors(a);if(f)return lPe(f,this.successors(a))}isLeaf(a){var f;return this.isDirected()?f=this.successors(a):f=this.neighbors(a),f.length===0}filterNodes(a){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var p=this;cr(this._nodes,function(b,E){a(E)&&f.setNode(E,b)}),cr(this._edgeObjs,function(b){f.hasNode(b.v)&&f.hasNode(b.w)&&f.setEdge(b,p.edge(b))});var v={};function m(b){var E=p.parent(b);return E===void 0||f.hasNode(E)?(v[b]=E,E):E in v?v[E]:m(E)}return this._isCompound&&cr(f.nodes(),function(b){f.setParent(b,m(b))}),f}setDefaultEdgeLabel(a){return OA(a)||(a=jA(a)),this._defaultEdgeLabelFn=a,this}edgeCount(){return this._edgeCount}edges(){return C5(this._edgeObjs)}setPath(a,f){var p=this,v=arguments;return fP(a,function(m,b){return v.length>1?p.setEdge(m,b,f):p.setEdge(m,b),b}),this}setEdge(){var a,f,p,v,m=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(a=b.v,f=b.w,p=b.name,arguments.length===2&&(v=arguments[1],m=!0)):(a=b,f=arguments[1],p=arguments[3],arguments.length>2&&(v=arguments[2],m=!0)),a=""+a,f=""+f,Xh(p)||(p=""+p);var E=gP(this._isDirected,a,f,p);if(za(this._edgeLabels,E))return m&&(this._edgeLabels[E]=v),this;if(!Xh(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(f),this._edgeLabels[E]=m?v:this._defaultEdgeLabelFn(a,f,p);var _=pPe(this._isDirected,a,f,p);return a=_.v,f=_.w,Object.freeze(_),this._edgeObjs[E]=_,RPt(this._preds[f],a),RPt(this._sucs[a],f),this._in[f][E]=_,this._out[a][E]=_,this._edgeCount++,this}edge(a,f,p){var v=arguments.length===1?e0t(this._isDirected,arguments[0]):gP(this._isDirected,a,f,p);return this._edgeLabels[v]}hasEdge(a,f,p){var v=arguments.length===1?e0t(this._isDirected,arguments[0]):gP(this._isDirected,a,f,p);return za(this._edgeLabels,v)}removeEdge(a,f,p){var v=arguments.length===1?e0t(this._isDirected,arguments[0]):gP(this._isDirected,a,f,p),m=this._edgeObjs[v];return m&&(a=m.v,f=m.w,delete this._edgeLabels[v],delete this._edgeObjs[v],jPt(this._preds[f],a),jPt(this._sucs[a],f),delete this._in[f][v],delete this._out[a][v],this._edgeCount--),this}inEdges(a,f){var p=this._in[a];if(p){var v=C5(p);return f?T5(v,function(m){return m.v===f}):v}}outEdges(a,f){var p=this._out[a];if(p){var v=C5(p);return f?T5(v,function(m){return m.w===f}):v}}nodeEdges(a,f){var p=this.inEdges(a,f);if(p)return p.concat(this.outEdges(a,f))}}a1.prototype._nodeCount=0,a1.prototype._edgeCount=0;function RPt(i,a){i[a]?i[a]++:i[a]=1}function jPt(i,a){--i[a]||delete i[a]}function gP(i,a,f,p){var v=""+a,m=""+f;if(!i&&v>m){var b=v;v=m,m=b}return v+BPt+m+BPt+(Xh(p)?gPe:p)}function pPe(i,a,f,p){var v=""+a,m=""+f;if(!i&&v>m){var b=v;v=m,m=b}var E={v,w:m};return p&&(E.name=p),E}function e0t(i,a){return gP(i,a.v,a.w,a.name)}class bPe{constructor(){var a={};a._next=a._prev=a,this._sentinel=a}dequeue(){var a=this._sentinel,f=a._prev;if(f!==a)return $Pt(f),f}enqueue(a){var f=this._sentinel;a._prev&&a._next&&$Pt(a),a._next=f._next,f._next._prev=a,f._next=a,a._prev=f}toString(){for(var a=[],f=this._sentinel,p=f._prev;p!==f;)a.push(JSON.stringify(p,vPe)),p=p._prev;return"["+a.join(", ")+"]"}}function $Pt(i){i._prev._next=i._next,i._next._prev=i._prev,delete i._next,delete i._prev}function vPe(i,a){if(i!=="_next"&&i!=="_prev")return a}var wPe=jA(1);function mPe(i,a){if(i.nodeCount()<=1)return[];var f=xPe(i,a||wPe),p=yPe(f.graph,f.buckets,f.zeroIdx);return ZA(Of(p,function(v){return i.outEdges(v.v,v.w)}))}function yPe(i,a,f){for(var p=[],v=a[a.length-1],m=a[0],b;i.nodeCount();){for(;b=m.dequeue();)n0t(i,a,f,b);for(;b=v.dequeue();)n0t(i,a,f,b);if(i.nodeCount()){for(var E=a.length-2;E>0;--E)if(b=a[E].dequeue(),b){p=p.concat(n0t(i,a,f,b,!0));break}}}return p}function n0t(i,a,f,p,v){var m=v?[]:void 0;return cr(i.inEdges(p.v),function(b){var E=i.edge(b),_=i.node(b.v);v&&m.push({v:b.v,w:b.w}),_.out-=E,r0t(a,f,_)}),cr(i.outEdges(p.v),function(b){var E=i.edge(b),_=b.w,L=i.node(_);L.in-=E,r0t(a,f,L)}),i.removeNode(p.v),m}function xPe(i,a){var f=new a1,p=0,v=0;cr(i.nodes(),function(E){f.setNode(E,{v:E,in:0,out:0})}),cr(i.edges(),function(E){var _=f.edge(E.v,E.w)||0,L=a(E),N=_+L;f.setEdge(E.v,E.w,N),v=Math.max(v,f.node(E.v).out+=L),p=Math.max(p,f.node(E.w).in+=L)});var m=vT(v+p+3).map(function(){return new bPe}),b=p+1;return cr(f.nodes(),function(E){r0t(m,b,f.node(E))}),{graph:f,buckets:m,zeroIdx:b}}function r0t(i,a,f){f.out?f.in?i[f.out-f.in+a].enqueue(f):i[i.length-1].enqueue(f):i[0].enqueue(f)}function kPe(i){var a=i.graph().acyclicer==="greedy"?mPe(i,f(i)):EPe(i);cr(a,function(p){var v=i.edge(p);i.removeEdge(p),v.forwardName=p.name,v.reversed=!0,i.setEdge(p.w,p.v,v,cK("rev"))});function f(p){return function(v){return p.edge(v).weight}}}function EPe(i){var a=[],f={},p={};function v(m){za(p,m)||(p[m]=!0,f[m]=!0,cr(i.outEdges(m),function(b){za(f,b.w)?a.push(b):v(b.w)}),delete f[m])}return cr(i.nodes(),v),a}function TPe(i){cr(i.edges(),function(a){var f=i.edge(a);if(f.reversed){i.removeEdge(a);var p=f.forwardName;delete f.reversed,delete f.forwardName,i.setEdge(a.w,a.v,f,p)}})}function tL(i,a,f,p){var v;do v=cK(p);while(i.hasNode(v));return f.dummy=a,i.setNode(v,f),v}function CPe(i){var a=new a1().setGraph(i.graph());return cr(i.nodes(),function(f){a.setNode(f,i.node(f))}),cr(i.edges(),function(f){var p=a.edge(f.v,f.w)||{weight:0,minlen:1},v=i.edge(f);a.setEdge(f.v,f.w,{weight:p.weight+v.weight,minlen:Math.max(p.minlen,v.minlen)})}),a}function zPt(i){var a=new a1({multigraph:i.isMultigraph()}).setGraph(i.graph());return cr(i.nodes(),function(f){i.children(f).length||a.setNode(f,i.node(f))}),cr(i.edges(),function(f){a.setEdge(f,i.edge(f))}),a}function qPt(i,a){var f=i.x,p=i.y,v=a.x-f,m=a.y-p,b=i.width/2,E=i.height/2;if(!v&&!m)throw new Error("Not possible to find intersection inside of the rectangle");var _,L;return Math.abs(m)*b>Math.abs(v)*E?(m<0&&(E=-E),_=E*v/m,L=E):(v<0&&(b=-b),_=b,L=b*m/v),{x:f+_,y:p+L}}function uK(i){var a=Of(vT(GPt(i)+1),function(){return[]});return cr(i.nodes(),function(f){var p=i.node(f),v=p.rank;Xh(v)||(a[v][p.order]=f)}),a}function _Pe(i){var a=lP(Of(i.nodes(),function(f){return i.node(f).rank}));cr(i.nodes(),function(f){var p=i.node(f);za(p,"rank")&&(p.rank-=a)})}function SPe(i){var a=lP(Of(i.nodes(),function(m){return i.node(m).rank})),f=[];cr(i.nodes(),function(m){var b=i.node(m).rank-a;f[b]||(f[b]=[]),f[b].push(m)});var p=0,v=i.graph().nodeRankFactor;cr(f,function(m,b){Xh(m)&&b%v!==0?--p:p&&cr(m,function(E){i.node(E).rank+=p})})}function HPt(i,a,f,p){var v={width:0,height:0};return arguments.length>=4&&(v.rank=f,v.order=p),tL(i,"border",v,a)}function GPt(i){return bT(Of(i.nodes(),function(a){var f=i.node(a).rank;if(!Xh(f))return f}))}function APe(i,a){var f={lhs:[],rhs:[]};return cr(i,function(p){a(p)?f.lhs.push(p):f.rhs.push(p)}),f}function LPe(i,a){var f=OPt();try{return a()}finally{console.log(i+" time: "+(OPt()-f)+"ms")}}function MPe(i,a){return a()}function IPe(i){function a(f){var p=i.children(f),v=i.node(f);if(p.length&&cr(p,a),za(v,"minRank")){v.borderLeft=[],v.borderRight=[];for(var m=v.minRank,b=v.maxRank+1;m<b;++m)VPt(i,"borderLeft","_bl",f,v,m),VPt(i,"borderRight","_br",f,v,m)}}cr(i.children(),a)}function VPt(i,a,f,p,v,m){var b={width:0,height:0,rank:m,borderType:a},E=v[a][m-1],_=tL(i,"border",b,f);v[a][m]=_,i.setParent(_,p),E&&i.setEdge(E,_,{weight:1})}function DPe(i){var a=i.graph().rankdir.toLowerCase();(a==="lr"||a==="rl")&&UPt(i)}function OPe(i){var a=i.graph().rankdir.toLowerCase();(a==="bt"||a==="rl")&&NPe(i),(a==="lr"||a==="rl")&&(PPe(i),UPt(i))}function UPt(i){cr(i.nodes(),function(a){WPt(i.node(a))}),cr(i.edges(),function(a){WPt(i.edge(a))})}function WPt(i){var a=i.width;i.width=i.height,i.height=a}function NPe(i){cr(i.nodes(),function(a){i0t(i.node(a))}),cr(i.edges(),function(a){var f=i.edge(a);cr(f.points,i0t),za(f,"y")&&i0t(f)})}function i0t(i){i.y=-i.y}function PPe(i){cr(i.nodes(),function(a){s0t(i.node(a))}),cr(i.edges(),function(a){var f=i.edge(a);cr(f.points,s0t),za(f,"x")&&s0t(f)})}function s0t(i){var a=i.x;i.x=i.y,i.y=a}function FPe(i){i.graph().dummyChains=[],cr(i.edges(),function(a){BPe(i,a)})}function BPe(i,a){var f=a.v,p=i.node(f).rank,v=a.w,m=i.node(v).rank,b=a.name,E=i.edge(a),_=E.labelRank;if(m!==p+1){i.removeEdge(a);var L,N,B;for(B=0,++p;p<m;++B,++p)E.points=[],N={width:0,height:0,edgeLabel:E,edgeObj:a,rank:p},L=tL(i,"edge",N,"_d"),p===_&&(N.width=E.width,N.height=E.height,N.dummy="edge-label",N.labelpos=E.labelpos),i.setEdge(f,L,{weight:E.weight},b),B===0&&i.graph().dummyChains.push(L),f=L;i.setEdge(f,v,{weight:E.weight},b)}}function RPe(i){cr(i.graph().dummyChains,function(a){var f=i.node(a),p=f.edgeLabel,v;for(i.setEdge(f.edgeObj,p);f.dummy;)v=i.successors(a)[0],i.removeNode(a),p.points.push({x:f.x,y:f.y}),f.dummy==="edge-label"&&(p.x=f.x,p.y=f.y,p.width=f.width,p.height=f.height),a=v,f=i.node(a)})}function a0t(i){var a={};function f(p){var v=i.node(p);if(za(a,p))return v.rank;a[p]=!0;var m=lP(Of(i.outEdges(p),function(b){return f(b.w)-i.edge(b).minlen}));return(m===Number.POSITIVE_INFINITY||m===void 0||m===null)&&(m=0),v.rank=m}cr(i.sources(),f)}function pP(i,a){return i.node(a.w).rank-i.node(a.v).rank-i.edge(a).minlen}function KPt(i){var a=new a1({directed:!1}),f=i.nodes()[0],p=i.nodeCount();a.setNode(f,{});for(var v,m;jPe(a,i)<p;)v=$Pe(a,i),m=a.hasNode(v.v)?pP(i,v):-pP(i,v),zPe(a,i,m);return a}function jPe(i,a){function f(p){cr(a.nodeEdges(p),function(v){var m=v.v,b=p===m?v.w:m;!i.hasNode(b)&&!pP(a,v)&&(i.setNode(b,{}),i.setEdge(p,b,{}),f(b))})}return cr(i.nodes(),f),i.nodeCount()}function $Pe(i,a){return t0t(a.edges(),function(f){if(i.hasNode(f.v)!==i.hasNode(f.w))return pP(a,f)})}function zPe(i,a,f){cr(i.nodes(),function(p){a.node(p).rank+=f})}function qPe(){}qPe.prototype=new Error;function YPt(i,a,f){Mf(a)||(a=[a]);var p=(i.isDirected()?i.successors:i.neighbors).bind(i),v=[],m={};return cr(a,function(b){if(!i.hasNode(b))throw new Error("Graph does not have node: "+b);XPt(i,b,f==="post",m,p,v)}),v}function XPt(i,a,f,p,v,m){za(p,a)||(p[a]=!0,f||m.push(a),cr(v(a),function(b){XPt(i,b,f,p,v,m)}),f&&m.push(a))}function HPe(i,a){return YPt(i,a,"post")}function GPe(i,a){return YPt(i,a,"pre")}mT.initLowLimValues=c0t,mT.initCutValues=o0t,mT.calcCutValue=QPt,mT.leaveEdge=JPt,mT.enterEdge=tFt,mT.exchangeEdges=eFt;function mT(i){i=CPe(i),a0t(i);var a=KPt(i);c0t(a),o0t(a,i);for(var f,p;f=JPt(a);)p=tFt(a,i,f),eFt(a,i,f,p)}function o0t(i,a){var f=HPe(i,i.nodes());f=f.slice(0,f.length-1),cr(f,function(p){VPe(i,a,p)})}function VPe(i,a,f){var p=i.node(f),v=p.parent;i.edge(f,v).cutvalue=QPt(i,a,f)}function QPt(i,a,f){var p=i.node(f),v=p.parent,m=!0,b=a.edge(f,v),E=0;return b||(m=!1,b=a.edge(v,f)),E=b.weight,cr(a.nodeEdges(f),function(_){var L=_.v===f,N=L?_.w:_.v;if(N!==v){var B=L===m,j=a.edge(_).weight;if(E+=B?j:-j,WPe(i,f,N)){var R=i.edge(f,N).cutvalue;E+=B?-R:R}}}),E}function c0t(i,a){arguments.length<2&&(a=i.nodes()[0]),ZPt(i,{},1,a)}function ZPt(i,a,f,p,v){var m=f,b=i.node(p);return a[p]=!0,cr(i.neighbors(p),function(E){za(a,E)||(f=ZPt(i,a,f,E,p))}),b.low=m,b.lim=f++,v?b.parent=v:delete b.parent,f}function JPt(i){return Zdt(i.edges(),function(a){return i.edge(a).cutvalue<0})}function tFt(i,a,f){var p=f.v,v=f.w;a.hasEdge(p,v)||(p=f.w,v=f.v);var m=i.node(p),b=i.node(v),E=m,_=!1;m.lim>b.lim&&(E=b,_=!0);var L=T5(a.edges(),function(N){return _===nFt(i,i.node(N.v),E)&&_!==nFt(i,i.node(N.w),E)});return t0t(L,function(N){return pP(a,N)})}function eFt(i,a,f,p){var v=f.v,m=f.w;i.removeEdge(v,m),i.setEdge(p.v,p.w,{}),c0t(i),o0t(i,a),UPe(i,a)}function UPe(i,a){var f=Zdt(i.nodes(),function(v){return!a.node(v).parent}),p=GPe(i,f);p=p.slice(1),cr(p,function(v){var m=i.node(v).parent,b=a.edge(v,m),E=!1;b||(b=a.edge(m,v),E=!0),a.node(v).rank=a.node(m).rank+(E?b.minlen:-b.minlen)})}function WPe(i,a,f){return i.hasEdge(a,f)}function nFt(i,a,f){return f.low<=a.lim&&a.lim<=f.lim}function KPe(i){switch(i.graph().ranker){case"network-simplex":rFt(i);break;case"tight-tree":XPe(i);break;case"longest-path":YPe(i);break;default:rFt(i)}}var YPe=a0t;function XPe(i){a0t(i),KPt(i)}function rFt(i){mT(i)}function QPe(i){var a=tL(i,"root",{},"_root"),f=ZPe(i),p=bT(C5(f))-1,v=2*p+1;i.graph().nestingRoot=a,cr(i.edges(),function(b){i.edge(b).minlen*=v});var m=JPe(i)+1;cr(i.children(),function(b){iFt(i,a,v,m,p,f,b)}),i.graph().nodeRankFactor=v}function iFt(i,a,f,p,v,m,b){var E=i.children(b);if(!E.length){b!==a&&i.setEdge(a,b,{weight:0,minlen:f});return}var _=HPt(i,"_bt"),L=HPt(i,"_bb"),N=i.node(b);i.setParent(_,b),N.borderTop=_,i.setParent(L,b),N.borderBottom=L,cr(E,function(B){iFt(i,a,f,p,v,m,B);var j=i.node(B),R=j.borderTop?j.borderTop:B,z=j.borderBottom?j.borderBottom:B,K=j.borderTop?p:2*p,it=R!==z?1:v-m[b]+1;i.setEdge(_,R,{weight:K,minlen:it,nestingEdge:!0}),i.setEdge(z,L,{weight:K,minlen:it,nestingEdge:!0})}),i.parent(b)||i.setEdge(a,_,{weight:0,minlen:v+m[b]})}function ZPe(i){var a={};function f(p,v){var m=i.children(p);m&&m.length&&cr(m,function(b){f(b,v+1)}),a[p]=v}return cr(i.children(),function(p){f(p,1)}),a}function JPe(i){return fP(i.edges(),function(a,f){return a+i.edge(f).weight},0)}function tFe(i){var a=i.graph();i.removeNode(a.nestingRoot),delete a.nestingRoot,cr(i.edges(),function(f){var p=i.edge(f);p.nestingEdge&&i.removeEdge(f)})}function eFe(i,a,f){var p={},v;cr(f,function(m){for(var b=i.parent(m),E,_;b;){if(E=i.parent(b),E?(_=p[E],p[E]=b):(_=v,v=b),_&&_!==b){a.setEdge(_,b);return}b=E}})}function nFe(i,a,f){var p=rFe(i),v=new a1({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(function(m){return i.node(m)});return cr(i.nodes(),function(m){var b=i.node(m),E=i.parent(m);(b.rank===a||b.minRank<=a&&a<=b.maxRank)&&(v.setNode(m),v.setParent(m,E||p),cr(i[f](m),function(_){var L=_.v===m?_.w:_.v,N=v.edge(L,m),B=Xh(N)?0:N.weight;v.setEdge(L,m,{weight:i.edge(_).weight+B})}),za(b,"minRank")&&v.setNode(m,{borderLeft:b.borderLeft[a],borderRight:b.borderRight[a]}))}),v}function rFe(i){for(var a;i.hasNode(a=cK("_root")););return a}function iFe(i,a){for(var f=0,p=1;p<a.length;++p)f+=sFe(i,a[p-1],a[p]);return f}function sFe(i,a,f){for(var p=dPe(f,Of(f,function(L,N){return N})),v=ZA(Of(a,function(L){return dP(Of(i.outEdges(L),function(N){return{pos:p[N.w],weight:i.edge(N).weight}}),"pos")})),m=1;m<f.length;)m<<=1;var b=2*m-1;m-=1;var E=Of(new Array(b),function(){return 0}),_=0;return cr(v.forEach(function(L){var N=L.pos+m;E[N]+=L.weight;for(var B=0;N>0;)N%2&&(B+=E[N+1]),N=N-1>>1,E[N]+=L.weight;_+=L.weight*B})),_}function aFe(i){var a={},f=T5(i.nodes(),function(E){return!i.children(E).length}),p=bT(Of(f,function(E){return i.node(E).rank})),v=Of(vT(p+1),function(){return[]});function m(E){if(!za(a,E)){a[E]=!0;var _=i.node(E);v[_.rank].push(E),cr(i.successors(E),m)}}var b=dP(f,function(E){return i.node(E).rank});return cr(b,m),v}function oFe(i,a){return Of(a,function(f){var p=i.inEdges(f);if(p.length){var v=fP(p,function(m,b){var E=i.edge(b),_=i.node(b.v);return{sum:m.sum+E.weight*_.order,weight:m.weight+E.weight}},{sum:0,weight:0});return{v:f,barycenter:v.sum/v.weight,weight:v.weight}}else return{v:f}})}function cFe(i,a){var f={};cr(i,function(v,m){var b=f[v.v]={indegree:0,in:[],out:[],vs:[v.v],i:m};Xh(v.barycenter)||(b.barycenter=v.barycenter,b.weight=v.weight)}),cr(a.edges(),function(v){var m=f[v.v],b=f[v.w];!Xh(m)&&!Xh(b)&&(b.indegree++,m.out.push(f[v.w]))});var p=T5(f,function(v){return!v.indegree});return uFe(p)}function uFe(i){var a=[];function f(m){return function(b){b.merged||(Xh(b.barycenter)||Xh(m.barycenter)||b.barycenter>=m.barycenter)&&lFe(m,b)}}function p(m){return function(b){b.in.push(m),--b.indegree===0&&i.push(b)}}for(;i.length;){var v=i.pop();a.push(v),cr(v.in.reverse(),f(v)),cr(v.out,p(v))}return Of(T5(a,function(m){return!m.merged}),function(m){return hP(m,["vs","i","barycenter","weight"])})}function lFe(i,a){var f=0,p=0;i.weight&&(f+=i.barycenter*i.weight,p+=i.weight),a.weight&&(f+=a.barycenter*a.weight,p+=a.weight),i.vs=a.vs.concat(i.vs),i.barycenter=f/p,i.weight=p,i.i=Math.min(a.i,i.i),a.merged=!0}function hFe(i,a){var f=APe(i,function(N){return za(N,"barycenter")}),p=f.lhs,v=dP(f.rhs,function(N){return-N.i}),m=[],b=0,E=0,_=0;p.sort(fFe(!!a)),_=sFt(m,v,_),cr(p,function(N){_+=N.vs.length,m.push(N.vs),b+=N.barycenter*N.weight,E+=N.weight,_=sFt(m,v,_)});var L={vs:ZA(m)};return E&&(L.barycenter=b/E,L.weight=E),L}function sFt(i,a,f){for(var p;a.length&&(p=aK(a)).i<=f;)a.pop(),i.push(p.vs),f++;return f}function fFe(i){return function(a,f){return a.barycenter<f.barycenter?-1:a.barycenter>f.barycenter?1:i?f.i-a.i:a.i-f.i}}function aFt(i,a,f,p){var v=i.children(a),m=i.node(a),b=m?m.borderLeft:void 0,E=m?m.borderRight:void 0,_={};b&&(v=T5(v,function(z){return z!==b&&z!==E}));var L=oFe(i,v);cr(L,function(z){if(i.children(z.v).length){var K=aFt(i,z.v,f,p);_[z.v]=K,za(K,"barycenter")&&gFe(z,K)}});var N=cFe(L,f);dFe(N,_);var B=hFe(N,p);if(b&&(B.vs=ZA([b,B.vs,E]),i.predecessors(b).length)){var j=i.node(i.predecessors(b)[0]),R=i.node(i.predecessors(E)[0]);za(B,"barycenter")||(B.barycenter=0,B.weight=0),B.barycenter=(B.barycenter*B.weight+j.order+R.order)/(B.weight+2),B.weight+=2}return B}function dFe(i,a){cr(i,function(f){f.vs=ZA(f.vs.map(function(p){return a[p]?a[p].vs:p}))})}function gFe(i,a){Xh(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight)}function pFe(i){var a=GPt(i),f=oFt(i,vT(1,a+1),"inEdges"),p=oFt(i,vT(a-1,-1,-1),"outEdges"),v=aFe(i);cFt(i,v);for(var m=Number.POSITIVE_INFINITY,b,E=0,_=0;_<4;++E,++_){bFe(E%2?f:p,E%4>=2),v=uK(i);var L=iFe(i,v);L<m&&(_=0,b=ROe(v),m=L)}cFt(i,b)}function oFt(i,a,f){return Of(a,function(p){return nFe(i,p,f)})}function bFe(i,a){var f=new a1;cr(i,function(p){var v=p.graph().root,m=aFt(p,v,f,a);cr(m.vs,function(b,E){p.node(b).order=E}),eFe(p,f,m.vs)})}function cFt(i,a){cr(a,function(f){cr(f,function(p,v){i.node(p).order=v})})}function vFe(i){var a=mFe(i);cr(i.graph().dummyChains,function(f){for(var p=i.node(f),v=p.edgeObj,m=wFe(i,a,v.v,v.w),b=m.path,E=m.lca,_=0,L=b[_],N=!0;f!==v.w;){if(p=i.node(f),N){for(;(L=b[_])!==E&&i.node(L).maxRank<p.rank;)_++;L===E&&(N=!1)}if(!N){for(;_<b.length-1&&i.node(L=b[_+1]).minRank<=p.rank;)_++;L=b[_]}i.setParent(f,L),f=i.successors(f)[0]}})}function wFe(i,a,f,p){var v=[],m=[],b=Math.min(a[f].low,a[p].low),E=Math.max(a[f].lim,a[p].lim),_,L;_=f;do _=i.parent(_),v.push(_);while(_&&(a[_].low>b||E>a[_].lim));for(L=_,_=p;(_=i.parent(_))!==L;)m.push(_);return{path:v.concat(m.reverse()),lca:L}}function mFe(i){var a={},f=0;function p(v){var m=f;cr(i.children(v),p),a[v]={low:m,lim:f++}}return cr(i.children(),p),a}function yFe(i,a){var f={};function p(v,m){var b=0,E=0,_=v.length,L=aK(m);return cr(m,function(N,B){var j=kFe(i,N),R=j?i.node(j).order:_;(j||N===L)&&(cr(m.slice(E,B+1),function(z){cr(i.predecessors(z),function(K){var it=i.node(K),st=it.order;(st<b||R<st)&&!(it.dummy&&i.node(z).dummy)&&uFt(f,K,z)})}),E=B+1,b=R)}),m}return fP(a,p),f}function xFe(i,a){var f={};function p(m,b,E,_,L){var N;cr(vT(b,E),function(B){N=m[B],i.node(N).dummy&&cr(i.predecessors(N),function(j){var R=i.node(j);R.dummy&&(R.order<_||R.order>L)&&uFt(f,j,N)})})}function v(m,b){var E=-1,_,L=0;return cr(b,function(N,B){if(i.node(N).dummy==="border"){var j=i.predecessors(N);j.length&&(_=i.node(j[0]).order,p(b,L,B,E,_),L=B,E=_)}p(b,L,b.length,_,m.length)}),b}return fP(a,v),f}function kFe(i,a){if(i.node(a).dummy)return Zdt(i.predecessors(a),function(f){return i.node(f).dummy})}function uFt(i,a,f){if(a>f){var p=a;a=f,f=p}var v=i[a];v||(i[a]=v={}),v[f]=!0}function EFe(i,a,f){if(a>f){var p=a;a=f,f=p}return za(i[a],f)}function TFe(i,a,f,p){var v={},m={},b={};return cr(a,function(E){cr(E,function(_,L){v[_]=_,m[_]=_,b[_]=L})}),cr(a,function(E){var _=-1;cr(E,function(L){var N=p(L);if(N.length){N=dP(N,function(K){return b[K]});for(var B=(N.length-1)/2,j=Math.floor(B),R=Math.ceil(B);j<=R;++j){var z=N[j];m[L]===L&&_<b[z]&&!EFe(f,L,z)&&(m[z]=L,m[L]=v[L]=v[z],_=b[z])}}})}),{root:v,align:m}}function CFe(i,a,f,p,v){var m={},b=_Fe(i,a,f,v),E=v?"borderLeft":"borderRight";function _(B,j){for(var R=b.nodes(),z=R.pop(),K={};z;)K[z]?B(z):(K[z]=!0,R.push(z),R=R.concat(j(z))),z=R.pop()}function L(B){m[B]=b.inEdges(B).reduce(function(j,R){return Math.max(j,m[R.v]+b.edge(R))},0)}function N(B){var j=b.outEdges(B).reduce(function(z,K){return Math.min(z,m[K.w]-b.edge(K))},Number.POSITIVE_INFINITY),R=i.node(B);j!==Number.POSITIVE_INFINITY&&R.borderType!==E&&(m[B]=Math.max(m[B],j))}return _(L,b.predecessors.bind(b)),_(N,b.successors.bind(b)),cr(p,function(B){m[B]=m[f[B]]}),m}function _Fe(i,a,f,p){var v=new a1,m=i.graph(),b=IFe(m.nodesep,m.edgesep,p);return cr(a,function(E){var _;cr(E,function(L){var N=f[L];if(v.setNode(N),_){var B=f[_],j=v.edge(B,N);v.setEdge(B,N,Math.max(b(i,L,_),j||0))}_=L})}),v}function SFe(i,a){return t0t(C5(a),function(f){var p=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY;return FNe(f,function(m,b){var E=DFe(i,b)/2;p=Math.max(m+E,p),v=Math.min(m-E,v)}),p-v})}function AFe(i,a){var f=C5(a),p=lP(f),v=bT(f);cr(["u","d"],function(m){cr(["l","r"],function(b){var E=m+b,_=i[E],L;if(_!==a){var N=C5(_);L=b==="l"?p-lP(N):v-bT(N),L&&(i[E]=oK(_,function(B){return B+L}))}})})}function LFe(i,a){return oK(i.ul,function(f,p){if(a)return i[a.toLowerCase()][p];var v=dP(Of(i,p));return(v[1]+v[2])/2})}function MFe(i){var a=uK(i),f=EW(yFe(i,a),xFe(i,a)),p={},v;cr(["u","d"],function(b){v=b==="u"?a:C5(a).reverse(),cr(["l","r"],function(E){E==="r"&&(v=Of(v,function(B){return C5(B).reverse()}));var _=(b==="u"?i.predecessors:i.successors).bind(i),L=TFe(i,v,f,_),N=CFe(i,v,L.root,L.align,E==="r");E==="r"&&(N=oK(N,function(B){return-B})),p[b+E]=N})});var m=SFe(i,p);return AFe(p,m),LFe(p,i.graph().align)}function IFe(i,a,f){return function(p,v,m){var b=p.node(v),E=p.node(m),_=0,L;if(_+=b.width/2,za(b,"labelpos"))switch(b.labelpos.toLowerCase()){case"l":L=-b.width/2;break;case"r":L=b.width/2;break}if(L&&(_+=f?L:-L),L=0,_+=(b.dummy?a:i)/2,_+=(E.dummy?a:i)/2,_+=E.width/2,za(E,"labelpos"))switch(E.labelpos.toLowerCase()){case"l":L=E.width/2;break;case"r":L=-E.width/2;break}return L&&(_+=f?L:-L),L=0,_}}function DFe(i,a){return i.node(a).width}function OFe(i){i=zPt(i),NFe(i),BNe(MFe(i),function(a,f){i.node(f).x=a})}function NFe(i){var a=uK(i),f=i.graph().ranksep,p=0;cr(a,function(v){var m=bT(Of(v,function(b){return i.node(b).height}));cr(v,function(b){i.node(b).y=p+m/2}),p+=m+f})}function eL(i,a){var f=a&&a.debugTiming?LPe:MPe;f("layout",function(){var p=f("  buildLayoutGraph",function(){return VFe(i)});f("  runLayout",function(){PFe(p,f)}),f("  updateInputGraph",function(){FFe(i,p)})})}function PFe(i,a){a("    makeSpaceForEdgeLabels",function(){UFe(i)}),a("    removeSelfEdges",function(){eBe(i)}),a("    acyclic",function(){kPe(i)}),a("    nestingGraph.run",function(){QPe(i)}),a("    rank",function(){KPe(zPt(i))}),a("    injectEdgeLabelProxies",function(){WFe(i)}),a("    removeEmptyRanks",function(){SPe(i)}),a("    nestingGraph.cleanup",function(){tFe(i)}),a("    normalizeRanks",function(){_Pe(i)}),a("    assignRankMinMax",function(){KFe(i)}),a("    removeEdgeLabelProxies",function(){YFe(i)}),a("    normalize.run",function(){FPe(i)}),a("    parentDummyChains",function(){vFe(i)}),a("    addBorderSegments",function(){IPe(i)}),a("    order",function(){pFe(i)}),a("    insertSelfEdges",function(){nBe(i)}),a("    adjustCoordinateSystem",function(){DPe(i)}),a("    position",function(){OFe(i)}),a("    positionSelfEdges",function(){rBe(i)}),a("    removeBorderNodes",function(){tBe(i)}),a("    normalize.undo",function(){RPe(i)}),a("    fixupEdgeLabelCoords",function(){ZFe(i)}),a("    undoCoordinateSystem",function(){OPe(i)}),a("    translateGraph",function(){XFe(i)}),a("    assignNodeIntersects",function(){QFe(i)}),a("    reversePoints",function(){JFe(i)}),a("    acyclic.undo",function(){TPe(i)})}function FFe(i,a){cr(i.nodes(),function(f){var p=i.node(f),v=a.node(f);p&&(p.x=v.x,p.y=v.y,a.children(f).length&&(p.width=v.width,p.height=v.height))}),cr(i.edges(),function(f){var p=i.edge(f),v=a.edge(f);p.points=v.points,za(v,"x")&&(p.x=v.x,p.y=v.y)}),i.graph().width=a.graph().width,i.graph().height=a.graph().height}var BFe=["nodesep","edgesep","ranksep","marginx","marginy"],RFe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},jFe=["acyclicer","ranker","rankdir","align"],$Fe=["width","height"],zFe={width:0,height:0},qFe=["minlen","weight","width","height","labeloffset"],HFe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},GFe=["labelpos"];function VFe(i){var a=new a1({multigraph:!0,compound:!0}),f=l0t(i.graph());return a.setGraph(EW({},RFe,u0t(f,BFe),hP(f,jFe))),cr(i.nodes(),function(p){var v=l0t(i.node(p));a.setNode(p,JA(u0t(v,$Fe),zFe)),a.setParent(p,i.parent(p))}),cr(i.edges(),function(p){var v=l0t(i.edge(p));a.setEdge(p,EW({},HFe,u0t(v,qFe),hP(v,GFe)))}),a}function UFe(i){var a=i.graph();a.ranksep/=2,cr(i.edges(),function(f){var p=i.edge(f);p.minlen*=2,p.labelpos.toLowerCase()!=="c"&&(a.rankdir==="TB"||a.rankdir==="BT"?p.width+=p.labeloffset:p.height+=p.labeloffset)})}function WFe(i){cr(i.edges(),function(a){var f=i.edge(a);if(f.width&&f.height){var p=i.node(a.v),v=i.node(a.w),m={rank:(v.rank-p.rank)/2+p.rank,e:a};tL(i,"edge-proxy",m,"_ep")}})}function KFe(i){var a=0;cr(i.nodes(),function(f){var p=i.node(f);p.borderTop&&(p.minRank=i.node(p.borderTop).rank,p.maxRank=i.node(p.borderBottom).rank,a=bT(a,p.maxRank))}),i.graph().maxRank=a}function YFe(i){cr(i.nodes(),function(a){var f=i.node(a);f.dummy==="edge-proxy"&&(i.edge(f.e).labelRank=f.rank,i.removeNode(a))})}function XFe(i){var a=Number.POSITIVE_INFINITY,f=0,p=Number.POSITIVE_INFINITY,v=0,m=i.graph(),b=m.marginx||0,E=m.marginy||0;function _(L){var N=L.x,B=L.y,j=L.width,R=L.height;a=Math.min(a,N-j/2),f=Math.max(f,N+j/2),p=Math.min(p,B-R/2),v=Math.max(v,B+R/2)}cr(i.nodes(),function(L){_(i.node(L))}),cr(i.edges(),function(L){var N=i.edge(L);za(N,"x")&&_(N)}),a-=b,p-=E,cr(i.nodes(),function(L){var N=i.node(L);N.x-=a,N.y-=p}),cr(i.edges(),function(L){var N=i.edge(L);cr(N.points,function(B){B.x-=a,B.y-=p}),za(N,"x")&&(N.x-=a),za(N,"y")&&(N.y-=p)}),m.width=f-a+b,m.height=v-p+E}function QFe(i){cr(i.edges(),function(a){var f=i.edge(a),p=i.node(a.v),v=i.node(a.w),m,b;f.points?(m=f.points[0],b=f.points[f.points.length-1]):(f.points=[],m=v,b=p),f.points.unshift(qPt(p,m)),f.points.push(qPt(v,b))})}function ZFe(i){cr(i.edges(),function(a){var f=i.edge(a);if(za(f,"x"))switch((f.labelpos==="l"||f.labelpos==="r")&&(f.width-=f.labeloffset),f.labelpos){case"l":f.x-=f.width/2+f.labeloffset;break;case"r":f.x+=f.width/2+f.labeloffset;break}})}function JFe(i){cr(i.edges(),function(a){var f=i.edge(a);f.reversed&&f.points.reverse()})}function tBe(i){cr(i.nodes(),function(a){if(i.children(a).length){var f=i.node(a),p=i.node(f.borderTop),v=i.node(f.borderBottom),m=i.node(aK(f.borderLeft)),b=i.node(aK(f.borderRight));f.width=Math.abs(b.x-m.x),f.height=Math.abs(v.y-p.y),f.x=m.x+f.width/2,f.y=p.y+f.height/2}}),cr(i.nodes(),function(a){i.node(a).dummy==="border"&&i.removeNode(a)})}function eBe(i){cr(i.edges(),function(a){if(a.v===a.w){var f=i.node(a.v);f.selfEdges||(f.selfEdges=[]),f.selfEdges.push({e:a,label:i.edge(a)}),i.removeEdge(a)}})}function nBe(i){var a=uK(i);cr(a,function(f){var p=0;cr(f,function(v,m){var b=i.node(v);b.order=m+p,cr(b.selfEdges,function(E){tL(i,"selfedge",{width:E.label.width,height:E.label.height,rank:b.rank,order:m+ ++p,e:E.e,label:E.label},"_se")}),delete b.selfEdges})})}function rBe(i){cr(i.nodes(),function(a){var f=i.node(a);if(f.dummy==="selfedge"){var p=i.node(f.e.v),v=p.x+p.width/2,m=p.y,b=f.x-v,E=p.height/2;i.setEdge(f.e,f.label),i.removeNode(a),f.label.points=[{x:v+2*b/3,y:m-E},{x:v+5*b/6,y:m-E},{x:v+b,y:m},{x:v+5*b/6,y:m+E},{x:v+2*b/3,y:m+E}],f.label.x=f.x,f.label.y=f.y}})}function u0t(i,a){return oK(hP(i,a),Number)}function l0t(i){var a={};return cr(i,function(f,p){a[p.toLowerCase()]=f}),a}function lFt(i,a){return!!i.children(a).length}function hFt(i){return h0t(i.v)+":"+h0t(i.w)+":"+h0t(i.name)}var iBe=/:/g;function h0t(i){return i?String(i).replace(iBe,"\\:"):""}function p3(i,a){a&&i.attr("style",a)}function fFt(i,a,f){a&&i.attr("class",a).attr("class",f+" "+i.attr("class"))}function am(i,a){var f=a.graph();if(MDt(f)){var p=f.transition;if(OA(p))return p(i)}return i}var f0t={normal:aBe,vee:oBe,undirected:cBe};function sBe(i){f0t=i}function aBe(i,a,f,p){var v=i.append("marker").attr("id",a).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),m=v.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");p3(m,f[p+"Style"]),f[p+"Class"]&&m.attr("class",f[p+"Class"])}function oBe(i,a,f,p){var v=i.append("marker").attr("id",a).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),m=v.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");p3(m,f[p+"Style"]),f[p+"Class"]&&m.attr("class",f[p+"Class"])}function cBe(i,a,f,p){var v=i.append("marker").attr("id",a).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),m=v.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");p3(m,f[p+"Style"]),f[p+"Class"]&&m.attr("class",f[p+"Class"])}function d0t(i,a){var f=i.append("foreignObject").attr("width","100000"),p=f.append("xhtml:div");p.attr("xmlns","http://www.w3.org/1999/xhtml");var v=a.label;switch(typeof v){case"function":p.insert(v);break;case"object":p.insert(function(){return v});break;default:p.html(v)}p3(p,a.labelStyle),p.style("display","inline-block"),p.style("white-space","nowrap");var m=p.node().getBoundingClientRect();return f.attr("width",m.width).attr("height",m.height),f}function uBe(i,a){var f=i;return f.node().appendChild(a.label),p3(f,a.labelStyle),f}function lBe(i,a){for(var f=i.append("text"),p=hBe(a.label).split(`
`),v=0;v<p.length;v++)f.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(p[v]);return p3(f,a.labelStyle),f}function hBe(i){for(var a="",f=!1,p,v=0;v<i.length;++v)if(p=i[v],f){switch(p){case"n":a+=`
`;break;default:a+=p}f=!1}else p==="\\"?f=!0:a+=p;return a}function g0t(i,a,f){var p=a.label,v=i.append("g");a.labelType==="svg"?uBe(v,a):typeof p!="string"||a.labelType==="html"?d0t(v,a):lBe(v,a);var m=v.node().getBBox(),b;switch(f){case"top":b=-a.height/2;break;case"bottom":b=a.height/2-m.height;break;default:b=-m.height/2}return v.attr("transform","translate("+-m.width/2+","+b+")"),v}var p0t=function(i,a){var f=a.nodes().filter(function(m){return lFt(a,m)}),p=i.selectAll("g.cluster").data(f,function(m){return m});am(p.exit(),a).style("opacity",0).remove();var v=p.enter().append("g").attr("class","cluster").attr("id",function(m){var b=a.node(m);return b.id}).style("opacity",0).each(function(m){var b=a.node(m),E=yr(this);yr(this).append("rect");var _=E.append("g").attr("class","label");g0t(_,b,b.clusterLabelPos)});return p=p.merge(v),p=am(p,a).style("opacity",1),p.selectAll("rect").each(function(m){var b=a.node(m),E=yr(this);p3(E,b.style)}),p};function fBe(i){p0t=i}let b0t=function(i,a){var f=i.selectAll("g.edgeLabel").data(a.edges(),function(v){return hFt(v)}).classed("update",!0);f.exit().remove(),f.enter().append("g").classed("edgeLabel",!0).style("opacity",0),f=i.selectAll("g.edgeLabel"),f.each(function(v){var m=yr(this);m.select(".label").remove();var b=a.edge(v),E=g0t(m,a.edge(v),0).classed("label",!0),_=E.node().getBBox();b.labelId&&E.attr("id",b.labelId),za(b,"width")||(b.width=_.width),za(b,"height")||(b.height=_.height)});var p;return f.exit?p=f.exit():p=f.selectAll(null),am(p,a).style("opacity",0).remove(),f};function dBe(i){b0t=i}function dFt(i,a){return i.intersect(a)}var v0t=function(i,a,f){var p=i.selectAll("g.edgePath").data(a.edges(),function(b){return hFt(b)}).classed("update",!0),v=wBe(p,a);mBe(p,a);var m=p.merge!==void 0?p.merge(v):p;return am(m,a).style("opacity",1),m.each(function(b){var E=yr(this),_=a.edge(b);_.elem=this,_.id&&E.attr("id",_.id),fFt(E,_.class,(E.classed("update")?"update ":"")+"edgePath")}),m.selectAll("path.path").each(function(b){var E=a.edge(b);E.arrowheadId=cK("arrowhead");var _=yr(this).attr("marker-end",function(){return"url("+pBe(location.href,E.arrowheadId)+")"}).style("fill","none");am(_,a).attr("d",function(L){return bBe(a,L)}),p3(_,E.style)}),m.selectAll("defs *").remove(),m.selectAll("defs").each(function(b){var E=a.edge(b),_=f[E.arrowhead];_(yr(this),E.arrowheadId,E,"arrowhead")}),m};function gBe(i){v0t=i}function pBe(i,a){var f=i.split("#")[0];return f+"#"+a}function bBe(i,a){var f=i.edge(a),p=i.node(a.v),v=i.node(a.w),m=f.points.slice(1,f.points.length-1);return m.unshift(dFt(p,m[0])),m.push(dFt(v,m[m.length-1])),gFt(f,m)}function gFt(i,a){var f=(Z7||K8e.line)().x(function(p){return p.x}).y(function(p){return p.y});return(f.curve||f.interpolate)(i.curve),f(a)}function vBe(i){var a=i.getBBox(),f=i.ownerSVGElement.getScreenCTM().inverse().multiply(i.getScreenCTM()).translate(a.width/2,a.height/2);return{x:f.e,y:f.f}}function wBe(i,a){var f=i.enter().append("g").attr("class","edgePath").style("opacity",0);return f.append("path").attr("class","path").attr("d",function(p){var v=a.edge(p),m=a.node(p.v).elem,b=vT(v.points.length).map(function(){return vBe(m)});return gFt(v,b)}),f.append("defs"),f}function mBe(i,a){var f=i.exit();am(f,a).style("opacity",0).remove()}var w0t=function(i,a,f){var p=a.nodes().filter(function(b){return!lFt(a,b)}),v=i.selectAll("g.node").data(p,function(b){return b}).classed("update",!0);v.exit().remove(),v.enter().append("g").attr("class","node").style("opacity",0),v=i.selectAll("g.node"),v.each(function(b){var E=a.node(b),_=yr(this);fFt(_,E.class,(_.classed("update")?"update ":"")+"node"),_.select("g.label").remove();var L=_.append("g").attr("class","label"),N=g0t(L,E),B=f[E.shape],j=hP(N.node().getBBox(),"width","height");E.elem=this,E.id&&_.attr("id",E.id),E.labelId&&L.attr("id",E.labelId),za(E,"width")&&(j.width=E.width),za(E,"height")&&(j.height=E.height),j.width+=E.paddingLeft+E.paddingRight,j.height+=E.paddingTop+E.paddingBottom,L.attr("transform","translate("+(E.paddingLeft-E.paddingRight)/2+","+(E.paddingTop-E.paddingBottom)/2+")");var R=yr(this);R.select(".label-container").remove();var z=B(R,j,E).classed("label-container",!0);p3(z,E.style);var K=z.node().getBBox();E.width=K.width,E.height=K.height});var m;return v.exit?m=v.exit():m=v.selectAll(null),am(m,a).style("opacity",0).remove(),v};function yBe(i){w0t=i}function xBe(i,a){var f=i.filter(function(){return!yr(this).classed("update")});function p(v){var m=a.node(v);return"translate("+m.x+","+m.y+")"}f.attr("transform",p),am(i,a).style("opacity",1).attr("transform",p),am(f.selectAll("rect"),a).attr("width",function(v){return a.node(v).width}).attr("height",function(v){return a.node(v).height}).attr("x",function(v){var m=a.node(v);return-m.width/2}).attr("y",function(v){var m=a.node(v);return-m.height/2})}function kBe(i,a){var f=i.filter(function(){return!yr(this).classed("update")});function p(v){var m=a.edge(v);return za(m,"x")?"translate("+m.x+","+m.y+")":""}f.attr("transform",p),am(i,a).style("opacity",1).attr("transform",p)}function EBe(i,a){var f=i.filter(function(){return!yr(this).classed("update")});function p(v){var m=a.node(v);return"translate("+m.x+","+m.y+")"}f.attr("transform",p),am(i,a).style("opacity",1).attr("transform",p)}function pFt(i,a,f,p){var v=i.x,m=i.y,b=v-p.x,E=m-p.y,_=Math.sqrt(a*a*E*E+f*f*b*b),L=Math.abs(a*f*b/_);p.x<v&&(L=-L);var N=Math.abs(a*f*E/_);return p.y<m&&(N=-N),{x:v+L,y:m+N}}function TBe(i,a,f){return pFt(i,a,a,f)}function CBe(i,a,f,p){var v,m,b,E,_,L,N,B,j,R,z,K,it,st,ut;if(v=a.y-i.y,b=i.x-a.x,_=a.x*i.y-i.x*a.y,j=v*f.x+b*f.y+_,R=v*p.x+b*p.y+_,!(j!==0&&R!==0&&bFt(j,R))&&(m=p.y-f.y,E=f.x-p.x,L=p.x*f.y-f.x*p.y,N=m*i.x+E*i.y+L,B=m*a.x+E*a.y+L,!(N!==0&&B!==0&&bFt(N,B))&&(z=v*E-m*b,z!==0)))return K=Math.abs(z/2),it=b*L-E*_,st=it<0?(it-K)/z:(it+K)/z,it=m*_-v*L,ut=it<0?(it-K)/z:(it+K)/z,{x:st,y:ut}}function bFt(i,a){return i*a>0}function b3(i,a,f){var p=i.x,v=i.y,m=[],b=Number.POSITIVE_INFINITY,E=Number.POSITIVE_INFINITY;a.forEach(function(z){b=Math.min(b,z.x),E=Math.min(E,z.y)});for(var _=p-i.width/2-b,L=v-i.height/2-E,N=0;N<a.length;N++){var B=a[N],j=a[N<a.length-1?N+1:0],R=CBe(i,f,{x:_+B.x,y:L+B.y},{x:_+j.x,y:L+j.y});R&&m.push(R)}return m.length?(m.length>1&&m.sort(function(z,K){var it=z.x-f.x,st=z.y-f.y,ut=Math.sqrt(it*it+st*st),bt=K.x-f.x,mt=K.y-f.y,yt=Math.sqrt(bt*bt+mt*mt);return ut<yt?-1:ut===yt?0:1}),m[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",i),i)}function m0t(i,a){var f=i.x,p=i.y,v=a.x-f,m=a.y-p,b=i.width/2,E=i.height/2,_,L;return Math.abs(m)*b>Math.abs(v)*E?(m<0&&(E=-E),_=m===0?0:E*v/m,L=E):(v<0&&(b=-b),_=b,L=v===0?0:b*m/v),{x:f+_,y:p+L}}var y0t={rect:SBe,ellipse:ABe,circle:LBe,diamond:MBe};function _Be(i){y0t=i}function SBe(i,a,f){var p=i.insert("rect",":first-child").attr("rx",f.rx).attr("ry",f.ry).attr("x",-a.width/2).attr("y",-a.height/2).attr("width",a.width).attr("height",a.height);return f.intersect=function(v){return m0t(f,v)},p}function ABe(i,a,f){var p=a.width/2,v=a.height/2,m=i.insert("ellipse",":first-child").attr("x",-a.width/2).attr("y",-a.height/2).attr("rx",p).attr("ry",v);return f.intersect=function(b){return pFt(f,p,v,b)},m}function LBe(i,a,f){var p=Math.max(a.width,a.height)/2,v=i.insert("circle",":first-child").attr("x",-a.width/2).attr("y",-a.height/2).attr("r",p);return f.intersect=function(m){return TBe(f,p,m)},v}function MBe(i,a,f){var p=a.width*Math.SQRT2/2,v=a.height*Math.SQRT2/2,m=[{x:0,y:-v},{x:-p,y:0},{x:0,y:v},{x:p,y:0}],b=i.insert("polygon",":first-child").attr("points",m.map(function(E){return E.x+","+E.y}).join(" "));return f.intersect=function(E){return b3(f,m,E)},b}function IBe(){var i=function(a,f){NBe(f);var p=bP(a,"output"),v=bP(p,"clusters"),m=bP(p,"edgePaths"),b=b0t(bP(p,"edgeLabels"),f),E=w0t(bP(p,"nodes"),f,y0t);eL(f),EBe(E,f),kBe(b,f),v0t(m,f,f0t);var _=p0t(v,f);xBe(_,f),PBe(f)};return i.createNodes=function(a){return arguments.length?(yBe(a),i):w0t},i.createClusters=function(a){return arguments.length?(fBe(a),i):p0t},i.createEdgeLabels=function(a){return arguments.length?(dBe(a),i):b0t},i.createEdgePaths=function(a){return arguments.length?(gBe(a),i):v0t},i.shapes=function(a){return arguments.length?(_Be(a),i):y0t},i.arrows=function(a){return arguments.length?(sBe(a),i):f0t},i}var DBe={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},OBe={arrowhead:"normal",curve:ig};function NBe(i){i.nodes().forEach(function(a){var f=i.node(a);!za(f,"label")&&!i.children(a).length&&(f.label=a),za(f,"paddingX")&&JA(f,{paddingLeft:f.paddingX,paddingRight:f.paddingX}),za(f,"paddingY")&&JA(f,{paddingTop:f.paddingY,paddingBottom:f.paddingY}),za(f,"padding")&&JA(f,{paddingLeft:f.padding,paddingRight:f.padding,paddingTop:f.padding,paddingBottom:f.padding}),JA(f,DBe),cr(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(p){f[p]=Number(f[p])}),za(f,"width")&&(f._prevWidth=f.width),za(f,"height")&&(f._prevHeight=f.height)}),i.edges().forEach(function(a){var f=i.edge(a);za(f,"label")||(f.label=""),JA(f,OBe)})}function PBe(i){cr(i.nodes(),function(a){var f=i.node(a);za(f,"_prevWidth")?f.width=f._prevWidth:delete f.width,za(f,"_prevHeight")?f.height=f._prevHeight:delete f.height,delete f._prevWidth,delete f._prevHeight})}function bP(i,a){var f=i.select("g."+a);return f.empty()&&(f=i.append("g").attr("class",a)),f}function vFt(i,a,f){const p=a.width,v=a.height,m=(p+v)*.9,b=[{x:m/2,y:0},{x:m,y:-m/2},{x:m/2,y:-m},{x:0,y:-m/2}],E=_5(i,m,m,b);return f.intersect=function(_){return b3(f,b,_)},E}function wFt(i,a,f){const v=a.height,m=v/4,b=a.width+2*m,E=[{x:m,y:0},{x:b-m,y:0},{x:b,y:-v/2},{x:b-m,y:-v},{x:m,y:-v},{x:0,y:-v/2}],_=_5(i,b,v,E);return f.intersect=function(L){return b3(f,E,L)},_}function mFt(i,a,f){const p=a.width,v=a.height,m=[{x:-v/2,y:0},{x:p,y:0},{x:p,y:-v},{x:-v/2,y:-v},{x:0,y:-v/2}],b=_5(i,p,v,m);return f.intersect=function(E){return b3(f,m,E)},b}function yFt(i,a,f){const p=a.width,v=a.height,m=[{x:-2*v/6,y:0},{x:p-v/6,y:0},{x:p+2*v/6,y:-v},{x:v/6,y:-v}],b=_5(i,p,v,m);return f.intersect=function(E){return b3(f,m,E)},b}function xFt(i,a,f){const p=a.width,v=a.height,m=[{x:2*v/6,y:0},{x:p+v/6,y:0},{x:p-2*v/6,y:-v},{x:-v/6,y:-v}],b=_5(i,p,v,m);return f.intersect=function(E){return b3(f,m,E)},b}function kFt(i,a,f){const p=a.width,v=a.height,m=[{x:-2*v/6,y:0},{x:p+2*v/6,y:0},{x:p-v/6,y:-v},{x:v/6,y:-v}],b=_5(i,p,v,m);return f.intersect=function(E){return b3(f,m,E)},b}function EFt(i,a,f){const p=a.width,v=a.height,m=[{x:v/6,y:0},{x:p-v/6,y:0},{x:p+2*v/6,y:-v},{x:-2*v/6,y:-v}],b=_5(i,p,v,m);return f.intersect=function(E){return b3(f,m,E)},b}function TFt(i,a,f){const p=a.width,v=a.height,m=[{x:0,y:0},{x:p+v/2,y:0},{x:p,y:-v/2},{x:p+v/2,y:-v},{x:0,y:-v}],b=_5(i,p,v,m);return f.intersect=function(E){return b3(f,m,E)},b}function CFt(i,a,f){const p=a.height,v=a.width+p/4,m=i.insert("rect",":first-child").attr("rx",p/2).attr("ry",p/2).attr("x",-v/2).attr("y",-p/2).attr("width",v).attr("height",p);return f.intersect=function(b){return m0t(f,b)},m}function _Ft(i,a,f){const p=a.width,v=a.height,m=[{x:0,y:0},{x:p,y:0},{x:p,y:-v},{x:0,y:-v},{x:0,y:0},{x:-8,y:0},{x:p+8,y:0},{x:p+8,y:-v},{x:-8,y:-v},{x:-8,y:0}],b=_5(i,p,v,m);return f.intersect=function(E){return b3(f,m,E)},b}function SFt(i,a,f){const p=a.width,v=p/2,m=v/(2.5+p/50),b=a.height+m,E="M 0,"+m+" a "+v+","+m+" 0,0,0 "+p+" 0 a "+v+","+m+" 0,0,0 "+-p+" 0 l 0,"+b+" a "+v+","+m+" 0,0,0 "+p+" 0 l 0,"+-b,_=i.attr("label-offset-y",m).insert("path",":first-child").attr("d",E).attr("transform","translate("+-p/2+","+-(b/2+m)+")");return f.intersect=function(L){const N=m0t(f,L),B=N.x-f.x;if(v!=0&&(Math.abs(B)<f.width/2||Math.abs(B)==f.width/2&&Math.abs(N.y-f.y)>f.height/2-m)){let j=m*m*(1-B*B/(v*v));j!=0&&(j=Math.sqrt(j)),j=m-j,L.y-f.y>0&&(j=-j),N.y+=j}return N},_}function FBe(i){i.shapes().question=vFt,i.shapes().hexagon=wFt,i.shapes().stadium=CFt,i.shapes().subroutine=_Ft,i.shapes().cylinder=SFt,i.shapes().rect_left_inv_arrow=mFt,i.shapes().lean_right=yFt,i.shapes().lean_left=xFt,i.shapes().trapezoid=kFt,i.shapes().inv_trapezoid=EFt,i.shapes().rect_right_inv_arrow=TFt}function BBe(i){i({question:vFt}),i({hexagon:wFt}),i({stadium:CFt}),i({subroutine:_Ft}),i({cylinder:SFt}),i({rect_left_inv_arrow:mFt}),i({lean_right:yFt}),i({lean_left:xFt}),i({trapezoid:kFt}),i({inv_trapezoid:EFt}),i({rect_right_inv_arrow:TFt})}function _5(i,a,f,p){return i.insert("polygon",":first-child").attr("points",p.map(function(v){return v.x+","+v.y}).join(" ")).attr("transform","translate("+-a/2+","+f/2+")")}const RBe={addToRender:FBe,addToRenderV2:BBe},AFt={},jBe=function(i){const a=Object.keys(i);for(const f of a)AFt[f]=i[f]},LFt=function(i,a,f,p,v,m){const b=p?p.select(`[id="${f}"]`):yr(`[id="${f}"]`),E=v||document;Object.keys(i).forEach(function(L){const N=i[L];let B="default";N.classes.length>0&&(B=N.classes.join(" "));const j=em(N.styles);let R=N.text!==void 0?N.text:N.id,z;if(s1(Le().flowchart.htmlLabels)){const st={label:R.replace(/fa[blrs]?:fa-[\w-]+/g,ut=>`<i class='${ut.replace(":"," ")}'></i>`)};z=d0t(b,st).node(),z.parentNode.removeChild(z)}else{const st=E.createElementNS("http://www.w3.org/2000/svg","text");st.setAttribute("style",j.labelStyle.replace("color:","fill:"));const ut=R.split(Yr.lineBreakRegex);for(const bt of ut){const mt=E.createElementNS("http://www.w3.org/2000/svg","tspan");mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),mt.setAttribute("dy","1em"),mt.setAttribute("x","1"),mt.textContent=bt,st.appendChild(mt)}z=st}let K=0,it="";switch(N.type){case"round":K=5,it="rect";break;case"square":it="rect";break;case"diamond":it="question";break;case"hexagon":it="hexagon";break;case"odd":it="rect_left_inv_arrow";break;case"lean_right":it="lean_right";break;case"lean_left":it="lean_left";break;case"trapezoid":it="trapezoid";break;case"inv_trapezoid":it="inv_trapezoid";break;case"odd_right":it="rect_left_inv_arrow";break;case"circle":it="circle";break;case"ellipse":it="ellipse";break;case"stadium":it="stadium";break;case"subroutine":it="subroutine";break;case"cylinder":it="cylinder";break;case"group":it="rect";break;default:it="rect"}Ut.warn("Adding node",N.id,N.domId),a.setNode(m.db.lookUpDomId(N.id),{labelType:"svg",labelStyle:j.labelStyle,shape:it,label:z,rx:K,ry:K,class:B,style:j.style,id:m.db.lookUpDomId(N.id)})})},MFt=function(i,a,f){let p=0,v,m;if(i.defaultStyle!==void 0){const b=em(i.defaultStyle);v=b.style,m=b.labelStyle}i.forEach(function(b){p++;const E="L-"+b.start+"-"+b.end,_="LS-"+b.start,L="LE-"+b.end,N={};b.type==="arrow_open"?N.arrowhead="none":N.arrowhead="normal";let B="",j="";if(b.style!==void 0){const R=em(b.style);B=R.style,j=R.labelStyle}else switch(b.stroke){case"normal":B="fill:none",v!==void 0&&(B=v),m!==void 0&&(j=m);break;case"dotted":B="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":B=" stroke-width: 3.5px;fill:none";break}N.style=B,N.labelStyle=j,b.interpolate!==void 0?N.curve=X2(b.interpolate,ig):i.defaultInterpolate!==void 0?N.curve=X2(i.defaultInterpolate,ig):N.curve=X2(AFt.curve,ig),b.text===void 0?b.style!==void 0&&(N.arrowheadStyle="fill: #333"):(N.arrowheadStyle="fill: #333",N.labelpos="c",s1(Le().flowchart.htmlLabels)?(N.labelType="html",N.label=`<span id="L-${E}" class="edgeLabel L-${_}' L-${L}" style="${N.labelStyle}">${b.text.replace(/fa[blrs]?:fa-[\w-]+/g,R=>`<i class='${R.replace(":"," ")}'></i>`)}</span>`):(N.labelType="text",N.label=b.text.replace(Yr.lineBreakRegex,`
`),b.style===void 0&&(N.style=N.style||"stroke: #333; stroke-width: 1.5px;fill:none"),N.labelStyle=N.labelStyle.replace("color:","fill:"))),N.id=E,N.class=_+" "+L,N.minlen=b.length||1,a.setEdge(f.db.lookUpDomId(b.start),f.db.lookUpDomId(b.end),N,p)})},$Be={setConf:jBe,addVertices:LFt,addEdges:MFt,getClasses:function(i,a){return Ut.info("Extracting classes"),a.db.getClasses()},draw:function(i,a,f,p){Ut.info("Drawing flowchart");const{securityLevel:v,flowchart:m}=Le();let b;v==="sandbox"&&(b=yr("#i"+a));const E=yr(v==="sandbox"?b.nodes()[0].contentDocument.body:"body"),_=v==="sandbox"?b.nodes()[0].contentDocument:document;let L=p.db.getDirection();L===void 0&&(L="TD");const N=m.nodeSpacing||50,B=m.rankSpacing||50,j=new a1({multigraph:!0,compound:!0}).setGraph({rankdir:L,nodesep:N,ranksep:B,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let R;const z=p.db.getSubGraphs();for(let dt=z.length-1;dt>=0;dt--)R=z[dt],p.db.addVertex(R.id,R.title,"group",void 0,R.classes);const K=p.db.getVertices();Ut.warn("Get vertices",K);const it=p.db.getEdges();let st=0;for(st=z.length-1;st>=0;st--){R=z[st],ZLt("cluster").append("text");for(let dt=0;dt<R.nodes.length;dt++)Ut.warn("Setting subgraph",R.nodes[dt],p.db.lookUpDomId(R.nodes[dt]),p.db.lookUpDomId(R.id)),j.setParent(p.db.lookUpDomId(R.nodes[dt]),p.db.lookUpDomId(R.id))}LFt(K,j,a,E,_,p),MFt(it,j,p);const ut=new IBe;RBe.addToRender(ut),ut.arrows().none=function(ht,wt,X,pt){const xt=ht.append("marker").attr("id",wt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");p3(xt,X[pt+"Style"])},ut.arrows().normal=function(ht,wt){ht.append("marker").attr("id",wt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const bt=E.select(`[id="${a}"]`),mt=E.select("#"+a+" g");for(ut(mt,j),mt.selectAll("g.node").attr("title",function(){return p.db.getTooltip(this.id)}),p.db.indexNodes("subGraph"+st),st=0;st<z.length;st++)if(R=z[st],R.title!=="undefined"){const dt=_.querySelectorAll("#"+a+' [id="'+p.db.lookUpDomId(R.id)+'"] rect'),ht=_.querySelectorAll("#"+a+' [id="'+p.db.lookUpDomId(R.id)+'"]'),wt=dt[0].x.baseVal.value,X=dt[0].y.baseVal.value,pt=dt[0].width.baseVal.value,xt=yr(ht[0]).select(".label");xt.attr("transform",`translate(${wt+pt/2}, ${X+14})`),xt.attr("id",a+"Text");for(let nt=0;nt<R.classes.length;nt++)ht[0].classList.add(R.classes[nt])}if(!m.htmlLabels){const dt=_.querySelectorAll('[id="'+a+'"] .edgeLabel .label');for(const ht of dt){const wt=ht.getBBox(),X=_.createElementNS("http://www.w3.org/2000/svg","rect");X.setAttribute("rx",0),X.setAttribute("ry",0),X.setAttribute("width",wt.width),X.setAttribute("height",wt.height),ht.insertBefore(X,ht.firstChild)}}cT(j,bt,m.diagramPadding,m.useMaxWidth),Object.keys(K).forEach(function(dt){const ht=K[dt];if(ht.link){const wt=E.select("#"+a+' [id="'+p.db.lookUpDomId(dt)+'"]');if(wt){const X=_.createElementNS("http://www.w3.org/2000/svg","a");X.setAttributeNS("http://www.w3.org/2000/svg","class",ht.classes.join(" ")),X.setAttributeNS("http://www.w3.org/2000/svg","href",ht.link),X.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),v==="sandbox"?X.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):ht.linkTarget&&X.setAttributeNS("http://www.w3.org/2000/svg","target",ht.linkTarget);const pt=wt.insert(function(){return X},":first-child"),U=wt.select(".label-container");U&&pt.append(function(){return U.node()});const xt=wt.select(".label");xt&&pt.append(function(){return xt.node()})}}})}};function S5(i){var a={options:{directed:i.isDirected(),multigraph:i.isMultigraph(),compound:i.isCompound()},nodes:zBe(i),edges:qBe(i)};return Xh(i.graph())||(a.value=POe(i.graph())),a}function zBe(i){return Of(i.nodes(),function(a){var f=i.node(a),p=i.parent(a),v={v:a};return Xh(f)||(v.value=f),Xh(p)||(v.parent=p),v})}function qBe(i){return Of(i.edges(),function(a){var f=i.edge(a),p={v:a.v,w:a.w};return Xh(a.name)||(p.name=a.name),Xh(f)||(p.value=f),p})}const HBe=(i,a,f,p)=>{a.forEach(v=>{GBe[v](i,f,p)})},GBe={extension:(i,a,f)=>{Ut.trace("Making markers for ",f),i.append("defs").append("marker").attr("id",f+"_"+a+"-extensionStart").attr("class","marker extension "+a).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),i.append("defs").append("marker").attr("id",f+"_"+a+"-extensionEnd").attr("class","marker extension "+a).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(i,a,f)=>{i.append("defs").append("marker").attr("id",f+"_"+a+"-compositionStart").attr("class","marker composition "+a).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id",f+"_"+a+"-compositionEnd").attr("class","marker composition "+a).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(i,a,f)=>{i.append("defs").append("marker").attr("id",f+"_"+a+"-aggregationStart").attr("class","marker aggregation "+a).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id",f+"_"+a+"-aggregationEnd").attr("class","marker aggregation "+a).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(i,a,f)=>{i.append("defs").append("marker").attr("id",f+"_"+a+"-dependencyStart").attr("class","marker dependency "+a).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id",f+"_"+a+"-dependencyEnd").attr("class","marker dependency "+a).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(i,a,f)=>{i.append("defs").append("marker").attr("id",f+"_"+a+"-lollipopStart").attr("class","marker lollipop "+a).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),i.append("defs").append("marker").attr("id",f+"_"+a+"-lollipopEnd").attr("class","marker lollipop "+a).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},point:(i,a,f)=>{i.append("marker").attr("id",f+"_"+a+"-pointEnd").attr("class","marker "+a).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),i.append("marker").attr("id",f+"_"+a+"-pointStart").attr("class","marker "+a).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(i,a,f)=>{i.append("marker").attr("id",f+"_"+a+"-circleEnd").attr("class","marker "+a).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),i.append("marker").attr("id",f+"_"+a+"-circleStart").attr("class","marker "+a).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(i,a,f)=>{i.append("marker").attr("id",f+"_"+a+"-crossEnd").attr("class","marker cross "+a).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),i.append("marker").attr("id",f+"_"+a+"-crossStart").attr("class","marker cross "+a).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(i,a,f)=>{i.append("defs").append("marker").attr("id",f+"_"+a+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},IFt=HBe;function VBe(i,a){a&&i.attr("style",a)}function UBe(i){const a=yr(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),f=a.append("xhtml:div"),p=i.label,v=i.isNode?"nodeLabel":"edgeLabel";return f.html('<span class="'+v+'" '+(i.labelStyle?'style="'+i.labelStyle+'"':"")+">"+p+"</span>"),VBe(f,i.labelStyle),f.style("display","inline-block"),f.style("white-space","nowrap"),f.attr("xmlns","http://www.w3.org/1999/xhtml"),a.node()}const hp=(i,a,f,p)=>{let v=i||"";if(typeof v=="object"&&(v=v[0]),s1(Le().flowchart.htmlLabels)){v=v.replace(/\\n|\n/g,"<br />"),Ut.info("vertexText"+v);const m={isNode:p,label:nP(v).replace(/fa[blrs]?:fa-[\w-]+/g,E=>`<i class='${E.replace(":"," ")}'></i>`),labelStyle:a.replace("fill:","color:")};return UBe(m)}else{const m=document.createElementNS("http://www.w3.org/2000/svg","text");m.setAttribute("style",a.replace("color:","fill:"));let b=[];typeof v=="string"?b=v.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(v)?b=v:b=[];for(const E of b){const _=document.createElementNS("http://www.w3.org/2000/svg","tspan");_.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),_.setAttribute("dy","1em"),_.setAttribute("x","0"),f?_.setAttribute("class","title-row"):_.setAttribute("class","row"),_.textContent=E.trim(),m.appendChild(_)}return m}};function WBe(i,a){var{includeImageAlt:f=!0}=a||{};return DFt(i,f)}function DFt(i,a){return i&&typeof i=="object"&&(i.value||(a?i.alt:"")||"children"in i&&OFt(i.children,a)||Array.isArray(i)&&OFt(i,a))||""}function OFt(i,a){for(var f=[],p=-1;++p<i.length;)f[p]=DFt(i[p],a);return f.join("")}function v3(i,a,f,p){const v=i.length;let m=0,b;if(a<0?a=-a>v?0:v+a:a=a>v?v:a,f=f>0?f:0,p.length<1e4)b=Array.from(p),b.unshift(a,f),[].splice.apply(i,b);else for(f&&[].splice.apply(i,[a,f]);m<p.length;)b=p.slice(m,m+1e4),b.unshift(a,0),[].splice.apply(i,b),m+=1e4,a+=1e4}function ev(i,a){return i.length>0?(v3(i,i.length,0,a),i):a}const NFt={}.hasOwnProperty;function KBe(i){const a={};let f=-1;for(;++f<i.length;)YBe(a,i[f]);return a}function YBe(i,a){let f;for(f in a){const v=(NFt.call(i,f)?i[f]:void 0)||(i[f]={}),m=a[f];let b;for(b in m){NFt.call(v,b)||(v[b]=[]);const E=m[b];XBe(v[b],Array.isArray(E)?E:E?[E]:[])}}}function XBe(i,a){let f=-1;const p=[];for(;++f<a.length;)(a[f].add==="after"?i:p).push(a[f]);v3(i,0,0,p)}const QBe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,w3=ck(/[A-Za-z]/),x0t=ck(/\d/),ZBe=ck(/[\dA-Fa-f]/),om=ck(/[\dA-Za-z]/),JBe=ck(/[!-/:-@[-`{-~]/),PFt=ck(/[#-'*+\--9=?A-Z^-~]/);function k0t(i){return i!==null&&(i<32||i===127)}function nv(i){return i!==null&&(i<0||i===32)}function Na(i){return i!==null&&i<-2}function Nf(i){return i===-2||i===-1||i===32}const tRe=ck(/\s/),eRe=ck(QBe);function ck(i){return a;function a(f){return f!==null&&i.test(String.fromCharCode(f))}}function Gu(i,a,f,p){const v=p?p-1:Number.POSITIVE_INFINITY;let m=0;return b;function b(_){return Nf(_)?(i.enter(f),E(_)):a(_)}function E(_){return Nf(_)&&m++<v?(i.consume(_),E):(i.exit(f),a(_))}}const nRe={tokenize:rRe};function rRe(i){const a=i.attempt(this.parser.constructs.contentInitial,p,v);let f;return a;function p(E){if(E===null){i.consume(E);return}return i.enter("lineEnding"),i.consume(E),i.exit("lineEnding"),Gu(i,a,"linePrefix")}function v(E){return i.enter("paragraph"),m(E)}function m(E){const _=i.enter("chunkText",{contentType:"text",previous:f});return f&&(f.next=_),f=_,b(E)}function b(E){if(E===null){i.exit("chunkText"),i.exit("paragraph"),i.consume(E);return}return Na(E)?(i.consume(E),i.exit("chunkText"),m):(i.consume(E),b)}}const iRe={tokenize:sRe},FFt={tokenize:aRe};function sRe(i){const a=this,f=[];let p=0,v,m,b;return E;function E(bt){if(p<f.length){const mt=f[p];return a.containerState=mt[1],i.attempt(mt[0].continuation,_,L)(bt)}return L(bt)}function _(bt){if(p++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,v&&ut();const mt=a.events.length;let yt=mt,dt;for(;yt--;)if(a.events[yt][0]==="exit"&&a.events[yt][1].type==="chunkFlow"){dt=a.events[yt][1].end;break}st(p);let ht=mt;for(;ht<a.events.length;)a.events[ht][1].end=Object.assign({},dt),ht++;return v3(a.events,yt+1,0,a.events.slice(mt)),a.events.length=ht,L(bt)}return E(bt)}function L(bt){if(p===f.length){if(!v)return j(bt);if(v.currentConstruct&&v.currentConstruct.concrete)return z(bt);a.interrupt=!!(v.currentConstruct&&!v._gfmTableDynamicInterruptHack)}return a.containerState={},i.check(FFt,N,B)(bt)}function N(bt){return v&&ut(),st(p),j(bt)}function B(bt){return a.parser.lazy[a.now().line]=p!==f.length,b=a.now().offset,z(bt)}function j(bt){return a.containerState={},i.attempt(FFt,R,z)(bt)}function R(bt){return p++,f.push([a.currentConstruct,a.containerState]),j(bt)}function z(bt){if(bt===null){v&&ut(),st(0),i.consume(bt);return}return v=v||a.parser.flow(a.now()),i.enter("chunkFlow",{contentType:"flow",previous:m,_tokenizer:v}),K(bt)}function K(bt){if(bt===null){it(i.exit("chunkFlow"),!0),st(0),i.consume(bt);return}return Na(bt)?(i.consume(bt),it(i.exit("chunkFlow")),p=0,a.interrupt=void 0,E):(i.consume(bt),K)}function it(bt,mt){const yt=a.sliceStream(bt);if(mt&&yt.push(null),bt.previous=m,m&&(m.next=bt),m=bt,v.defineSkip(bt.start),v.write(yt),a.parser.lazy[bt.start.line]){let dt=v.events.length;for(;dt--;)if(v.events[dt][1].start.offset<b&&(!v.events[dt][1].end||v.events[dt][1].end.offset>b))return;const ht=a.events.length;let wt=ht,X,pt;for(;wt--;)if(a.events[wt][0]==="exit"&&a.events[wt][1].type==="chunkFlow"){if(X){pt=a.events[wt][1].end;break}X=!0}for(st(p),dt=ht;dt<a.events.length;)a.events[dt][1].end=Object.assign({},pt),dt++;v3(a.events,wt+1,0,a.events.slice(ht)),a.events.length=dt}}function st(bt){let mt=f.length;for(;mt-- >bt;){const yt=f[mt];a.containerState=yt[1],yt[0].exit.call(a,i)}f.length=bt}function ut(){v.write([null]),m=void 0,v=void 0,a.containerState._closeFlow=void 0}}function aRe(i,a,f){return Gu(i,i.attempt(this.parser.constructs.document,a,f),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function BFt(i){if(i===null||nv(i)||tRe(i))return 1;if(eRe(i))return 2}function E0t(i,a,f){const p=[];let v=-1;for(;++v<i.length;){const m=i[v].resolveAll;m&&!p.includes(m)&&(a=m(a,f),p.push(m))}return a}const T0t={name:"attention",tokenize:cRe,resolveAll:oRe};function oRe(i,a){let f=-1,p,v,m,b,E,_,L,N;for(;++f<i.length;)if(i[f][0]==="enter"&&i[f][1].type==="attentionSequence"&&i[f][1]._close){for(p=f;p--;)if(i[p][0]==="exit"&&i[p][1].type==="attentionSequence"&&i[p][1]._open&&a.sliceSerialize(i[p][1]).charCodeAt(0)===a.sliceSerialize(i[f][1]).charCodeAt(0)){if((i[p][1]._close||i[f][1]._open)&&(i[f][1].end.offset-i[f][1].start.offset)%3&&!((i[p][1].end.offset-i[p][1].start.offset+i[f][1].end.offset-i[f][1].start.offset)%3))continue;_=i[p][1].end.offset-i[p][1].start.offset>1&&i[f][1].end.offset-i[f][1].start.offset>1?2:1;const B=Object.assign({},i[p][1].end),j=Object.assign({},i[f][1].start);RFt(B,-_),RFt(j,_),b={type:_>1?"strongSequence":"emphasisSequence",start:B,end:Object.assign({},i[p][1].end)},E={type:_>1?"strongSequence":"emphasisSequence",start:Object.assign({},i[f][1].start),end:j},m={type:_>1?"strongText":"emphasisText",start:Object.assign({},i[p][1].end),end:Object.assign({},i[f][1].start)},v={type:_>1?"strong":"emphasis",start:Object.assign({},b.start),end:Object.assign({},E.end)},i[p][1].end=Object.assign({},b.start),i[f][1].start=Object.assign({},E.end),L=[],i[p][1].end.offset-i[p][1].start.offset&&(L=ev(L,[["enter",i[p][1],a],["exit",i[p][1],a]])),L=ev(L,[["enter",v,a],["enter",b,a],["exit",b,a],["enter",m,a]]),L=ev(L,E0t(a.parser.constructs.insideSpan.null,i.slice(p+1,f),a)),L=ev(L,[["exit",m,a],["enter",E,a],["exit",E,a],["exit",v,a]]),i[f][1].end.offset-i[f][1].start.offset?(N=2,L=ev(L,[["enter",i[f][1],a],["exit",i[f][1],a]])):N=0,v3(i,p-1,f-p+3,L),f=p+L.length-N-2;break}}for(f=-1;++f<i.length;)i[f][1].type==="attentionSequence"&&(i[f][1].type="data");return i}function cRe(i,a){const f=this.parser.constructs.attentionMarkers.null,p=this.previous,v=BFt(p);let m;return b;function b(_){return i.enter("attentionSequence"),m=_,E(_)}function E(_){if(_===m)return i.consume(_),E;const L=i.exit("attentionSequence"),N=BFt(_),B=!N||N===2&&v||f.includes(_),j=!v||v===2&&N||f.includes(p);return L._open=!!(m===42?B:B&&(v||!j)),L._close=!!(m===42?j:j&&(N||!B)),a(_)}}function RFt(i,a){i.column+=a,i.offset+=a,i._bufferIndex+=a}const uRe={name:"autolink",tokenize:lRe};function lRe(i,a,f){let p=1;return v;function v(z){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(z),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),m}function m(z){return w3(z)?(i.consume(z),b):PFt(z)?L(z):f(z)}function b(z){return z===43||z===45||z===46||om(z)?E(z):L(z)}function E(z){return z===58?(i.consume(z),_):(z===43||z===45||z===46||om(z))&&p++<32?(i.consume(z),E):L(z)}function _(z){return z===62?(i.exit("autolinkProtocol"),R(z)):z===null||z===32||z===60||k0t(z)?f(z):(i.consume(z),_)}function L(z){return z===64?(i.consume(z),p=0,N):PFt(z)?(i.consume(z),L):f(z)}function N(z){return om(z)?B(z):f(z)}function B(z){return z===46?(i.consume(z),p=0,N):z===62?(i.exit("autolinkProtocol").type="autolinkEmail",R(z)):j(z)}function j(z){return(z===45||om(z))&&p++<63?(i.consume(z),z===45?j:B):f(z)}function R(z){return i.enter("autolinkMarker"),i.consume(z),i.exit("autolinkMarker"),i.exit("autolink"),a}}const lK={tokenize:hRe,partial:!0};function hRe(i,a,f){return Gu(i,p,"linePrefix");function p(v){return v===null||Na(v)?a(v):f(v)}}const jFt={name:"blockQuote",tokenize:fRe,continuation:{tokenize:dRe},exit:gRe};function fRe(i,a,f){const p=this;return v;function v(b){if(b===62){const E=p.containerState;return E.open||(i.enter("blockQuote",{_container:!0}),E.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(b),i.exit("blockQuoteMarker"),m}return f(b)}function m(b){return Nf(b)?(i.enter("blockQuotePrefixWhitespace"),i.consume(b),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),a):(i.exit("blockQuotePrefix"),a(b))}}function dRe(i,a,f){return Gu(i,i.attempt(jFt,a,f),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gRe(i){i.exit("blockQuote")}const $Ft={name:"characterEscape",tokenize:pRe};function pRe(i,a,f){return p;function p(m){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(m),i.exit("escapeMarker"),v}function v(m){return JBe(m)?(i.enter("characterEscapeValue"),i.consume(m),i.exit("characterEscapeValue"),i.exit("characterEscape"),a):f(m)}}const zFt=document.createElement("i");function C0t(i){const a="&"+i+";";zFt.innerHTML=a;const f=zFt.textContent;return f.charCodeAt(f.length-1)===59&&i!=="semi"||f===a?!1:f}const qFt={name:"characterReference",tokenize:bRe};function bRe(i,a,f){const p=this;let v=0,m,b;return E;function E(B){return i.enter("characterReference"),i.enter("characterReferenceMarker"),i.consume(B),i.exit("characterReferenceMarker"),_}function _(B){return B===35?(i.enter("characterReferenceMarkerNumeric"),i.consume(B),i.exit("characterReferenceMarkerNumeric"),L):(i.enter("characterReferenceValue"),m=31,b=om,N(B))}function L(B){return B===88||B===120?(i.enter("characterReferenceMarkerHexadecimal"),i.consume(B),i.exit("characterReferenceMarkerHexadecimal"),i.enter("characterReferenceValue"),m=6,b=ZBe,N):(i.enter("characterReferenceValue"),m=7,b=x0t,N(B))}function N(B){let j;return B===59&&v?(j=i.exit("characterReferenceValue"),b===om&&!C0t(p.sliceSerialize(j))?f(B):(i.enter("characterReferenceMarker"),i.consume(B),i.exit("characterReferenceMarker"),i.exit("characterReference"),a)):b(B)&&v++<m?(i.consume(B),N):f(B)}}const HFt={name:"codeFenced",tokenize:vRe,concrete:!0};function vRe(i,a,f){const p=this,v={tokenize:yt,partial:!0},m={tokenize:mt,partial:!0},b=this.events[this.events.length-1],E=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0;let _=0,L;return N;function N(dt){return i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),L=dt,B(dt)}function B(dt){return dt===L?(i.consume(dt),_++,B):(i.exit("codeFencedFenceSequence"),_<3?f(dt):Gu(i,j,"whitespace")(dt))}function j(dt){return dt===null||Na(dt)?it(dt):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),R(dt))}function R(dt){return dt===null||nv(dt)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),Gu(i,z,"whitespace")(dt)):dt===96&&dt===L?f(dt):(i.consume(dt),R)}function z(dt){return dt===null||Na(dt)?it(dt):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),K(dt))}function K(dt){return dt===null||Na(dt)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),it(dt)):dt===96&&dt===L?f(dt):(i.consume(dt),K)}function it(dt){return i.exit("codeFencedFence"),p.interrupt?a(dt):st(dt)}function st(dt){return dt===null?bt(dt):Na(dt)?i.attempt(m,i.attempt(v,bt,E?Gu(i,st,"linePrefix",E+1):st),bt)(dt):(i.enter("codeFlowValue"),ut(dt))}function ut(dt){return dt===null||Na(dt)?(i.exit("codeFlowValue"),st(dt)):(i.consume(dt),ut)}function bt(dt){return i.exit("codeFenced"),a(dt)}function mt(dt,ht,wt){const X=this;return pt;function pt(xt){return dt.enter("lineEnding"),dt.consume(xt),dt.exit("lineEnding"),U}function U(xt){return X.parser.lazy[X.now().line]?wt(xt):ht(xt)}}function yt(dt,ht,wt){let X=0;return Gu(dt,pt,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function pt(nt){return dt.enter("codeFencedFence"),dt.enter("codeFencedFenceSequence"),U(nt)}function U(nt){return nt===L?(dt.consume(nt),X++,U):X<_?wt(nt):(dt.exit("codeFencedFenceSequence"),Gu(dt,xt,"whitespace")(nt))}function xt(nt){return nt===null||Na(nt)?(dt.exit("codeFencedFence"),ht(nt)):wt(nt)}}}const _0t={name:"codeIndented",tokenize:mRe},wRe={tokenize:yRe,partial:!0};function mRe(i,a,f){const p=this;return v;function v(L){return i.enter("codeIndented"),Gu(i,m,"linePrefix",4+1)(L)}function m(L){const N=p.events[p.events.length-1];return N&&N[1].type==="linePrefix"&&N[2].sliceSerialize(N[1],!0).length>=4?b(L):f(L)}function b(L){return L===null?_(L):Na(L)?i.attempt(wRe,b,_)(L):(i.enter("codeFlowValue"),E(L))}function E(L){return L===null||Na(L)?(i.exit("codeFlowValue"),b(L)):(i.consume(L),E)}function _(L){return i.exit("codeIndented"),a(L)}}function yRe(i,a,f){const p=this;return v;function v(b){return p.parser.lazy[p.now().line]?f(b):Na(b)?(i.enter("lineEnding"),i.consume(b),i.exit("lineEnding"),v):Gu(i,m,"linePrefix",4+1)(b)}function m(b){const E=p.events[p.events.length-1];return E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?a(b):Na(b)?v(b):f(b)}}const xRe={name:"codeText",tokenize:TRe,resolve:kRe,previous:ERe};function kRe(i){let a=i.length-4,f=3,p,v;if((i[f][1].type==="lineEnding"||i[f][1].type==="space")&&(i[a][1].type==="lineEnding"||i[a][1].type==="space")){for(p=f;++p<a;)if(i[p][1].type==="codeTextData"){i[f][1].type="codeTextPadding",i[a][1].type="codeTextPadding",f+=2,a-=2;break}}for(p=f-1,a++;++p<=a;)v===void 0?p!==a&&i[p][1].type!=="lineEnding"&&(v=p):(p===a||i[p][1].type==="lineEnding")&&(i[v][1].type="codeTextData",p!==v+2&&(i[v][1].end=i[p-1][1].end,i.splice(v+2,p-v-2),a-=p-v-2,p=v+2),v=void 0);return i}function ERe(i){return i!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TRe(i,a,f){let p=0,v,m;return b;function b(B){return i.enter("codeText"),i.enter("codeTextSequence"),E(B)}function E(B){return B===96?(i.consume(B),p++,E):(i.exit("codeTextSequence"),_(B))}function _(B){return B===null?f(B):B===96?(m=i.enter("codeTextSequence"),v=0,N(B)):B===32?(i.enter("space"),i.consume(B),i.exit("space"),_):Na(B)?(i.enter("lineEnding"),i.consume(B),i.exit("lineEnding"),_):(i.enter("codeTextData"),L(B))}function L(B){return B===null||B===32||B===96||Na(B)?(i.exit("codeTextData"),_(B)):(i.consume(B),L)}function N(B){return B===96?(i.consume(B),v++,N):v===p?(i.exit("codeTextSequence"),i.exit("codeText"),a(B)):(m.type="codeTextData",L(B))}}function GFt(i){const a={};let f=-1,p,v,m,b,E,_,L;for(;++f<i.length;){for(;f in a;)f=a[f];if(p=i[f],f&&p[1].type==="chunkFlow"&&i[f-1][1].type==="listItemPrefix"&&(_=p[1]._tokenizer.events,m=0,m<_.length&&_[m][1].type==="lineEndingBlank"&&(m+=2),m<_.length&&_[m][1].type==="content"))for(;++m<_.length&&_[m][1].type!=="content";)_[m][1].type==="chunkText"&&(_[m][1]._isInFirstContentOfListItem=!0,m++);if(p[0]==="enter")p[1].contentType&&(Object.assign(a,CRe(i,f)),f=a[f],L=!0);else if(p[1]._container){for(m=f,v=void 0;m--&&(b=i[m],b[1].type==="lineEnding"||b[1].type==="lineEndingBlank");)b[0]==="enter"&&(v&&(i[v][1].type="lineEndingBlank"),b[1].type="lineEnding",v=m);v&&(p[1].end=Object.assign({},i[v][1].start),E=i.slice(v,f),E.unshift(p),v3(i,v,f-v+1,E))}}return!L}function CRe(i,a){const f=i[a][1],p=i[a][2];let v=a-1;const m=[],b=f._tokenizer||p.parser[f.contentType](f.start),E=b.events,_=[],L={};let N,B,j=-1,R=f,z=0,K=0;const it=[K];for(;R;){for(;i[++v][1]!==R;);m.push(v),R._tokenizer||(N=p.sliceStream(R),R.next||N.push(null),B&&b.defineSkip(R.start),R._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=!0),b.write(N),R._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=void 0)),B=R,R=R.next}for(R=f;++j<E.length;)E[j][0]==="exit"&&E[j-1][0]==="enter"&&E[j][1].type===E[j-1][1].type&&E[j][1].start.line!==E[j][1].end.line&&(K=j+1,it.push(K),R._tokenizer=void 0,R.previous=void 0,R=R.next);for(b.events=[],R?(R._tokenizer=void 0,R.previous=void 0):it.pop(),j=it.length;j--;){const st=E.slice(it[j],it[j+1]),ut=m.pop();_.unshift([ut,ut+st.length-1]),v3(i,ut,2,st)}for(j=-1;++j<_.length;)L[z+_[j][0]]=z+_[j][1],z+=_[j][1]-_[j][0]-1;return L}const _Re={tokenize:LRe,resolve:ARe},SRe={tokenize:MRe,partial:!0};function ARe(i){return GFt(i),i}function LRe(i,a){let f;return p;function p(E){return i.enter("content"),f=i.enter("chunkContent",{contentType:"content"}),v(E)}function v(E){return E===null?m(E):Na(E)?i.check(SRe,b,m)(E):(i.consume(E),v)}function m(E){return i.exit("chunkContent"),i.exit("content"),a(E)}function b(E){return i.consume(E),i.exit("chunkContent"),f.next=i.enter("chunkContent",{contentType:"content",previous:f}),f=f.next,v}}function MRe(i,a,f){const p=this;return v;function v(b){return i.exit("chunkContent"),i.enter("lineEnding"),i.consume(b),i.exit("lineEnding"),Gu(i,m,"linePrefix")}function m(b){if(b===null||Na(b))return f(b);const E=p.events[p.events.length-1];return!p.parser.constructs.disable.null.includes("codeIndented")&&E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?a(b):i.interrupt(p.parser.constructs.flow,f,a)(b)}}function VFt(i,a,f,p,v,m,b,E,_){const L=_||Number.POSITIVE_INFINITY;let N=0;return B;function B(st){return st===60?(i.enter(p),i.enter(v),i.enter(m),i.consume(st),i.exit(m),j):st===null||st===41||k0t(st)?f(st):(i.enter(p),i.enter(b),i.enter(E),i.enter("chunkString",{contentType:"string"}),K(st))}function j(st){return st===62?(i.enter(m),i.consume(st),i.exit(m),i.exit(v),i.exit(p),a):(i.enter(E),i.enter("chunkString",{contentType:"string"}),R(st))}function R(st){return st===62?(i.exit("chunkString"),i.exit(E),j(st)):st===null||st===60||Na(st)?f(st):(i.consume(st),st===92?z:R)}function z(st){return st===60||st===62||st===92?(i.consume(st),R):R(st)}function K(st){return st===40?++N>L?f(st):(i.consume(st),K):st===41?N--?(i.consume(st),K):(i.exit("chunkString"),i.exit(E),i.exit(b),i.exit(p),a(st)):st===null||nv(st)?N?f(st):(i.exit("chunkString"),i.exit(E),i.exit(b),i.exit(p),a(st)):k0t(st)?f(st):(i.consume(st),st===92?it:K)}function it(st){return st===40||st===41||st===92?(i.consume(st),K):K(st)}}function UFt(i,a,f,p,v,m){const b=this;let E=0,_;return L;function L(R){return i.enter(p),i.enter(v),i.consume(R),i.exit(v),i.enter(m),N}function N(R){return R===null||R===91||R===93&&!_||R===94&&!E&&"_hiddenFootnoteSupport"in b.parser.constructs||E>999?f(R):R===93?(i.exit(m),i.enter(v),i.consume(R),i.exit(v),i.exit(p),a):Na(R)?(i.enter("lineEnding"),i.consume(R),i.exit("lineEnding"),N):(i.enter("chunkString",{contentType:"string"}),B(R))}function B(R){return R===null||R===91||R===93||Na(R)||E++>999?(i.exit("chunkString"),N(R)):(i.consume(R),_=_||!Nf(R),R===92?j:B)}function j(R){return R===91||R===92||R===93?(i.consume(R),E++,B):B(R)}}function WFt(i,a,f,p,v,m){let b;return E;function E(j){return i.enter(p),i.enter(v),i.consume(j),i.exit(v),b=j===40?41:j,_}function _(j){return j===b?(i.enter(v),i.consume(j),i.exit(v),i.exit(p),a):(i.enter(m),L(j))}function L(j){return j===b?(i.exit(m),_(b)):j===null?f(j):Na(j)?(i.enter("lineEnding"),i.consume(j),i.exit("lineEnding"),Gu(i,L,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),N(j))}function N(j){return j===b||j===null||Na(j)?(i.exit("chunkString"),L(j)):(i.consume(j),j===92?B:N)}function B(j){return j===b||j===92?(i.consume(j),N):N(j)}}function vP(i,a){let f;return p;function p(v){return Na(v)?(i.enter("lineEnding"),i.consume(v),i.exit("lineEnding"),f=!0,p):Nf(v)?Gu(i,p,f?"linePrefix":"lineSuffix")(v):a(v)}}function nL(i){return i.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const IRe={name:"definition",tokenize:ORe},DRe={tokenize:NRe,partial:!0};function ORe(i,a,f){const p=this;let v;return m;function m(_){return i.enter("definition"),UFt.call(p,i,b,f,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function b(_){return v=nL(p.sliceSerialize(p.events[p.events.length-1][1]).slice(1,-1)),_===58?(i.enter("definitionMarker"),i.consume(_),i.exit("definitionMarker"),vP(i,VFt(i,i.attempt(DRe,Gu(i,E,"whitespace"),Gu(i,E,"whitespace")),f,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):f(_)}function E(_){return _===null||Na(_)?(i.exit("definition"),p.parser.defined.includes(v)||p.parser.defined.push(v),a(_)):f(_)}}function NRe(i,a,f){return p;function p(b){return nv(b)?vP(i,v)(b):f(b)}function v(b){return b===34||b===39||b===40?WFt(i,Gu(i,m,"whitespace"),f,"definitionTitle","definitionTitleMarker","definitionTitleString")(b):f(b)}function m(b){return b===null||Na(b)?a(b):f(b)}}const PRe={name:"hardBreakEscape",tokenize:FRe};function FRe(i,a,f){return p;function p(m){return i.enter("hardBreakEscape"),i.enter("escapeMarker"),i.consume(m),v}function v(m){return Na(m)?(i.exit("escapeMarker"),i.exit("hardBreakEscape"),a(m)):f(m)}}const BRe={name:"headingAtx",tokenize:jRe,resolve:RRe};function RRe(i,a){let f=i.length-2,p=3,v,m;return i[p][1].type==="whitespace"&&(p+=2),f-2>p&&i[f][1].type==="whitespace"&&(f-=2),i[f][1].type==="atxHeadingSequence"&&(p===f-1||f-4>p&&i[f-2][1].type==="whitespace")&&(f-=p+1===f?2:4),f>p&&(v={type:"atxHeadingText",start:i[p][1].start,end:i[f][1].end},m={type:"chunkText",start:i[p][1].start,end:i[f][1].end,contentType:"text"},v3(i,p,f-p+1,[["enter",v,a],["enter",m,a],["exit",m,a],["exit",v,a]])),i}function jRe(i,a,f){const p=this;let v=0;return m;function m(N){return i.enter("atxHeading"),i.enter("atxHeadingSequence"),b(N)}function b(N){return N===35&&v++<6?(i.consume(N),b):N===null||nv(N)?(i.exit("atxHeadingSequence"),p.interrupt?a(N):E(N)):f(N)}function E(N){return N===35?(i.enter("atxHeadingSequence"),_(N)):N===null||Na(N)?(i.exit("atxHeading"),a(N)):Nf(N)?Gu(i,E,"whitespace")(N):(i.enter("atxHeadingText"),L(N))}function _(N){return N===35?(i.consume(N),_):(i.exit("atxHeadingSequence"),E(N))}function L(N){return N===null||N===35||nv(N)?(i.exit("atxHeadingText"),E(N)):(i.consume(N),L)}}const $Re=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KFt=["pre","script","style","textarea"],zRe={name:"htmlFlow",tokenize:GRe,resolveTo:HRe,concrete:!0},qRe={tokenize:VRe,partial:!0};function HRe(i){let a=i.length;for(;a--&&!(i[a][0]==="enter"&&i[a][1].type==="htmlFlow"););return a>1&&i[a-2][1].type==="linePrefix"&&(i[a][1].start=i[a-2][1].start,i[a+1][1].start=i[a-2][1].start,i.splice(a-2,2)),i}function GRe(i,a,f){const p=this;let v,m,b,E,_;return L;function L(Ft){return i.enter("htmlFlow"),i.enter("htmlFlowData"),i.consume(Ft),N}function N(Ft){return Ft===33?(i.consume(Ft),B):Ft===47?(i.consume(Ft),z):Ft===63?(i.consume(Ft),v=3,p.interrupt?a:Tt):w3(Ft)?(i.consume(Ft),b=String.fromCharCode(Ft),m=!0,K):f(Ft)}function B(Ft){return Ft===45?(i.consume(Ft),v=2,j):Ft===91?(i.consume(Ft),v=5,b="CDATA[",E=0,R):w3(Ft)?(i.consume(Ft),v=4,p.interrupt?a:Tt):f(Ft)}function j(Ft){return Ft===45?(i.consume(Ft),p.interrupt?a:Tt):f(Ft)}function R(Ft){return Ft===b.charCodeAt(E++)?(i.consume(Ft),E===b.length?p.interrupt?a:U:R):f(Ft)}function z(Ft){return w3(Ft)?(i.consume(Ft),b=String.fromCharCode(Ft),K):f(Ft)}function K(Ft){return Ft===null||Ft===47||Ft===62||nv(Ft)?Ft!==47&&m&&KFt.includes(b.toLowerCase())?(v=1,p.interrupt?a(Ft):U(Ft)):$Re.includes(b.toLowerCase())?(v=6,Ft===47?(i.consume(Ft),it):p.interrupt?a(Ft):U(Ft)):(v=7,p.interrupt&&!p.parser.lazy[p.now().line]?f(Ft):m?ut(Ft):st(Ft)):Ft===45||om(Ft)?(i.consume(Ft),b+=String.fromCharCode(Ft),K):f(Ft)}function it(Ft){return Ft===62?(i.consume(Ft),p.interrupt?a:U):f(Ft)}function st(Ft){return Nf(Ft)?(i.consume(Ft),st):X(Ft)}function ut(Ft){return Ft===47?(i.consume(Ft),X):Ft===58||Ft===95||w3(Ft)?(i.consume(Ft),bt):Nf(Ft)?(i.consume(Ft),ut):X(Ft)}function bt(Ft){return Ft===45||Ft===46||Ft===58||Ft===95||om(Ft)?(i.consume(Ft),bt):mt(Ft)}function mt(Ft){return Ft===61?(i.consume(Ft),yt):Nf(Ft)?(i.consume(Ft),mt):ut(Ft)}function yt(Ft){return Ft===null||Ft===60||Ft===61||Ft===62||Ft===96?f(Ft):Ft===34||Ft===39?(i.consume(Ft),_=Ft,dt):Nf(Ft)?(i.consume(Ft),yt):(_=null,ht(Ft))}function dt(Ft){return Ft===null||Na(Ft)?f(Ft):Ft===_?(i.consume(Ft),wt):(i.consume(Ft),dt)}function ht(Ft){return Ft===null||Ft===34||Ft===39||Ft===60||Ft===61||Ft===62||Ft===96||nv(Ft)?mt(Ft):(i.consume(Ft),ht)}function wt(Ft){return Ft===47||Ft===62||Nf(Ft)?ut(Ft):f(Ft)}function X(Ft){return Ft===62?(i.consume(Ft),pt):f(Ft)}function pt(Ft){return Nf(Ft)?(i.consume(Ft),pt):Ft===null||Na(Ft)?U(Ft):f(Ft)}function U(Ft){return Ft===45&&v===2?(i.consume(Ft),Nt):Ft===60&&v===1?(i.consume(Ft),qt):Ft===62&&v===4?(i.consume(Ft),Ht):Ft===63&&v===3?(i.consume(Ft),Tt):Ft===93&&v===5?(i.consume(Ft),Z):Na(Ft)&&(v===6||v===7)?i.check(qRe,Ht,xt)(Ft):Ft===null||Na(Ft)?xt(Ft):(i.consume(Ft),U)}function xt(Ft){return i.exit("htmlFlowData"),nt(Ft)}function nt(Ft){return Ft===null?It(Ft):Na(Ft)?i.attempt({tokenize:Ot,partial:!0},nt,It)(Ft):(i.enter("htmlFlowData"),U(Ft))}function Ot(Ft,ke,pn){return Me;function Me(Ge){return Ft.enter("lineEnding"),Ft.consume(Ge),Ft.exit("lineEnding"),ve}function ve(Ge){return p.parser.lazy[p.now().line]?pn(Ge):ke(Ge)}}function Nt(Ft){return Ft===45?(i.consume(Ft),Tt):U(Ft)}function qt(Ft){return Ft===47?(i.consume(Ft),b="",Ct):U(Ft)}function Ct(Ft){return Ft===62&&KFt.includes(b.toLowerCase())?(i.consume(Ft),Ht):w3(Ft)&&b.length<8?(i.consume(Ft),b+=String.fromCharCode(Ft),Ct):U(Ft)}function Z(Ft){return Ft===93?(i.consume(Ft),Tt):U(Ft)}function Tt(Ft){return Ft===62?(i.consume(Ft),Ht):Ft===45&&v===2?(i.consume(Ft),Tt):U(Ft)}function Ht(Ft){return Ft===null||Na(Ft)?(i.exit("htmlFlowData"),It(Ft)):(i.consume(Ft),Ht)}function It(Ft){return i.exit("htmlFlow"),a(Ft)}}function VRe(i,a,f){return p;function p(v){return i.exit("htmlFlowData"),i.enter("lineEndingBlank"),i.consume(v),i.exit("lineEndingBlank"),i.attempt(lK,a,f)}}const URe={name:"htmlText",tokenize:WRe};function WRe(i,a,f){const p=this;let v,m,b,E;return _;function _(It){return i.enter("htmlText"),i.enter("htmlTextData"),i.consume(It),L}function L(It){return It===33?(i.consume(It),N):It===47?(i.consume(It),ht):It===63?(i.consume(It),yt):w3(It)?(i.consume(It),pt):f(It)}function N(It){return It===45?(i.consume(It),B):It===91?(i.consume(It),m="CDATA[",b=0,it):w3(It)?(i.consume(It),mt):f(It)}function B(It){return It===45?(i.consume(It),j):f(It)}function j(It){return It===null||It===62?f(It):It===45?(i.consume(It),R):z(It)}function R(It){return It===null||It===62?f(It):z(It)}function z(It){return It===null?f(It):It===45?(i.consume(It),K):Na(It)?(E=z,Z(It)):(i.consume(It),z)}function K(It){return It===45?(i.consume(It),Ht):z(It)}function it(It){return It===m.charCodeAt(b++)?(i.consume(It),b===m.length?st:it):f(It)}function st(It){return It===null?f(It):It===93?(i.consume(It),ut):Na(It)?(E=st,Z(It)):(i.consume(It),st)}function ut(It){return It===93?(i.consume(It),bt):st(It)}function bt(It){return It===62?Ht(It):It===93?(i.consume(It),bt):st(It)}function mt(It){return It===null||It===62?Ht(It):Na(It)?(E=mt,Z(It)):(i.consume(It),mt)}function yt(It){return It===null?f(It):It===63?(i.consume(It),dt):Na(It)?(E=yt,Z(It)):(i.consume(It),yt)}function dt(It){return It===62?Ht(It):yt(It)}function ht(It){return w3(It)?(i.consume(It),wt):f(It)}function wt(It){return It===45||om(It)?(i.consume(It),wt):X(It)}function X(It){return Na(It)?(E=X,Z(It)):Nf(It)?(i.consume(It),X):Ht(It)}function pt(It){return It===45||om(It)?(i.consume(It),pt):It===47||It===62||nv(It)?U(It):f(It)}function U(It){return It===47?(i.consume(It),Ht):It===58||It===95||w3(It)?(i.consume(It),xt):Na(It)?(E=U,Z(It)):Nf(It)?(i.consume(It),U):Ht(It)}function xt(It){return It===45||It===46||It===58||It===95||om(It)?(i.consume(It),xt):nt(It)}function nt(It){return It===61?(i.consume(It),Ot):Na(It)?(E=nt,Z(It)):Nf(It)?(i.consume(It),nt):U(It)}function Ot(It){return It===null||It===60||It===61||It===62||It===96?f(It):It===34||It===39?(i.consume(It),v=It,Nt):Na(It)?(E=Ot,Z(It)):Nf(It)?(i.consume(It),Ot):(i.consume(It),v=void 0,Ct)}function Nt(It){return It===v?(i.consume(It),qt):It===null?f(It):Na(It)?(E=Nt,Z(It)):(i.consume(It),Nt)}function qt(It){return It===62||It===47||nv(It)?U(It):f(It)}function Ct(It){return It===null||It===34||It===39||It===60||It===61||It===96?f(It):It===62||nv(It)?U(It):(i.consume(It),Ct)}function Z(It){return i.exit("htmlTextData"),i.enter("lineEnding"),i.consume(It),i.exit("lineEnding"),Gu(i,Tt,"linePrefix",p.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Tt(It){return i.enter("htmlTextData"),E(It)}function Ht(It){return It===62?(i.consume(It),i.exit("htmlTextData"),i.exit("htmlText"),a):f(It)}}const S0t={name:"labelEnd",tokenize:JRe,resolveTo:ZRe,resolveAll:QRe},KRe={tokenize:tje},YRe={tokenize:eje},XRe={tokenize:nje};function QRe(i){let a=-1,f;for(;++a<i.length;)f=i[a][1],(f.type==="labelImage"||f.type==="labelLink"||f.type==="labelEnd")&&(i.splice(a+1,f.type==="labelImage"?4:2),f.type="data",a++);return i}function ZRe(i,a){let f=i.length,p=0,v,m,b,E;for(;f--;)if(v=i[f][1],m){if(v.type==="link"||v.type==="labelLink"&&v._inactive)break;i[f][0]==="enter"&&v.type==="labelLink"&&(v._inactive=!0)}else if(b){if(i[f][0]==="enter"&&(v.type==="labelImage"||v.type==="labelLink")&&!v._balanced&&(m=f,v.type!=="labelLink")){p=2;break}}else v.type==="labelEnd"&&(b=f);const _={type:i[m][1].type==="labelLink"?"link":"image",start:Object.assign({},i[m][1].start),end:Object.assign({},i[i.length-1][1].end)},L={type:"label",start:Object.assign({},i[m][1].start),end:Object.assign({},i[b][1].end)},N={type:"labelText",start:Object.assign({},i[m+p+2][1].end),end:Object.assign({},i[b-2][1].start)};return E=[["enter",_,a],["enter",L,a]],E=ev(E,i.slice(m+1,m+p+3)),E=ev(E,[["enter",N,a]]),E=ev(E,E0t(a.parser.constructs.insideSpan.null,i.slice(m+p+4,b-3),a)),E=ev(E,[["exit",N,a],i[b-2],i[b-1],["exit",L,a]]),E=ev(E,i.slice(b+1)),E=ev(E,[["exit",_,a]]),v3(i,m,i.length,E),i}function JRe(i,a,f){const p=this;let v=p.events.length,m,b;for(;v--;)if((p.events[v][1].type==="labelImage"||p.events[v][1].type==="labelLink")&&!p.events[v][1]._balanced){m=p.events[v][1];break}return E;function E(N){return m?m._inactive?L(N):(b=p.parser.defined.includes(nL(p.sliceSerialize({start:m.end,end:p.now()}))),i.enter("labelEnd"),i.enter("labelMarker"),i.consume(N),i.exit("labelMarker"),i.exit("labelEnd"),_):f(N)}function _(N){return N===40?i.attempt(KRe,a,b?a:L)(N):N===91?i.attempt(YRe,a,b?i.attempt(XRe,a,L):L)(N):b?a(N):L(N)}function L(N){return m._balanced=!0,f(N)}}function tje(i,a,f){return p;function p(_){return i.enter("resource"),i.enter("resourceMarker"),i.consume(_),i.exit("resourceMarker"),vP(i,v)}function v(_){return _===41?E(_):VFt(i,m,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function m(_){return nv(_)?vP(i,b)(_):E(_)}function b(_){return _===34||_===39||_===40?WFt(i,vP(i,E),f,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):E(_)}function E(_){return _===41?(i.enter("resourceMarker"),i.consume(_),i.exit("resourceMarker"),i.exit("resource"),a):f(_)}}function eje(i,a,f){const p=this;return v;function v(b){return UFt.call(p,i,m,f,"reference","referenceMarker","referenceString")(b)}function m(b){return p.parser.defined.includes(nL(p.sliceSerialize(p.events[p.events.length-1][1]).slice(1,-1)))?a(b):f(b)}}function nje(i,a,f){return p;function p(m){return i.enter("reference"),i.enter("referenceMarker"),i.consume(m),i.exit("referenceMarker"),v}function v(m){return m===93?(i.enter("referenceMarker"),i.consume(m),i.exit("referenceMarker"),i.exit("reference"),a):f(m)}}const rje={name:"labelStartImage",tokenize:ije,resolveAll:S0t.resolveAll};function ije(i,a,f){const p=this;return v;function v(E){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(E),i.exit("labelImageMarker"),m}function m(E){return E===91?(i.enter("labelMarker"),i.consume(E),i.exit("labelMarker"),i.exit("labelImage"),b):f(E)}function b(E){return E===94&&"_hiddenFootnoteSupport"in p.parser.constructs?f(E):a(E)}}const sje={name:"labelStartLink",tokenize:aje,resolveAll:S0t.resolveAll};function aje(i,a,f){const p=this;return v;function v(b){return i.enter("labelLink"),i.enter("labelMarker"),i.consume(b),i.exit("labelMarker"),i.exit("labelLink"),m}function m(b){return b===94&&"_hiddenFootnoteSupport"in p.parser.constructs?f(b):a(b)}}const A0t={name:"lineEnding",tokenize:oje};function oje(i,a){return f;function f(p){return i.enter("lineEnding"),i.consume(p),i.exit("lineEnding"),Gu(i,a,"linePrefix")}}const hK={name:"thematicBreak",tokenize:cje};function cje(i,a,f){let p=0,v;return m;function m(_){return i.enter("thematicBreak"),v=_,b(_)}function b(_){return _===v?(i.enter("thematicBreakSequence"),E(_)):Nf(_)?Gu(i,b,"whitespace")(_):p<3||_!==null&&!Na(_)?f(_):(i.exit("thematicBreak"),a(_))}function E(_){return _===v?(i.consume(_),p++,E):(i.exit("thematicBreakSequence"),b(_))}}const fp={name:"list",tokenize:hje,continuation:{tokenize:fje},exit:gje},uje={tokenize:pje,partial:!0},lje={tokenize:dje,partial:!0};function hje(i,a,f){const p=this,v=p.events[p.events.length-1];let m=v&&v[1].type==="linePrefix"?v[2].sliceSerialize(v[1],!0).length:0,b=0;return E;function E(R){const z=p.containerState.type||(R===42||R===43||R===45?"listUnordered":"listOrdered");if(z==="listUnordered"?!p.containerState.marker||R===p.containerState.marker:x0t(R)){if(p.containerState.type||(p.containerState.type=z,i.enter(z,{_container:!0})),z==="listUnordered")return i.enter("listItemPrefix"),R===42||R===45?i.check(hK,f,L)(R):L(R);if(!p.interrupt||R===49)return i.enter("listItemPrefix"),i.enter("listItemValue"),_(R)}return f(R)}function _(R){return x0t(R)&&++b<10?(i.consume(R),_):(!p.interrupt||b<2)&&(p.containerState.marker?R===p.containerState.marker:R===41||R===46)?(i.exit("listItemValue"),L(R)):f(R)}function L(R){return i.enter("listItemMarker"),i.consume(R),i.exit("listItemMarker"),p.containerState.marker=p.containerState.marker||R,i.check(lK,p.interrupt?f:N,i.attempt(uje,j,B))}function N(R){return p.containerState.initialBlankLine=!0,m++,j(R)}function B(R){return Nf(R)?(i.enter("listItemPrefixWhitespace"),i.consume(R),i.exit("listItemPrefixWhitespace"),j):f(R)}function j(R){return p.containerState.size=m+p.sliceSerialize(i.exit("listItemPrefix"),!0).length,a(R)}}function fje(i,a,f){const p=this;return p.containerState._closeFlow=void 0,i.check(lK,v,m);function v(E){return p.containerState.furtherBlankLines=p.containerState.furtherBlankLines||p.containerState.initialBlankLine,Gu(i,a,"listItemIndent",p.containerState.size+1)(E)}function m(E){return p.containerState.furtherBlankLines||!Nf(E)?(p.containerState.furtherBlankLines=void 0,p.containerState.initialBlankLine=void 0,b(E)):(p.containerState.furtherBlankLines=void 0,p.containerState.initialBlankLine=void 0,i.attempt(lje,a,b)(E))}function b(E){return p.containerState._closeFlow=!0,p.interrupt=void 0,Gu(i,i.attempt(fp,a,f),"linePrefix",p.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E)}}function dje(i,a,f){const p=this;return Gu(i,v,"listItemIndent",p.containerState.size+1);function v(m){const b=p.events[p.events.length-1];return b&&b[1].type==="listItemIndent"&&b[2].sliceSerialize(b[1],!0).length===p.containerState.size?a(m):f(m)}}function gje(i){i.exit(this.containerState.type)}function pje(i,a,f){const p=this;return Gu(i,v,"listItemPrefixWhitespace",p.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function v(m){const b=p.events[p.events.length-1];return!Nf(m)&&b&&b[1].type==="listItemPrefixWhitespace"?a(m):f(m)}}const YFt={name:"setextUnderline",tokenize:vje,resolveTo:bje};function bje(i,a){let f=i.length,p,v,m;for(;f--;)if(i[f][0]==="enter"){if(i[f][1].type==="content"){p=f;break}i[f][1].type==="paragraph"&&(v=f)}else i[f][1].type==="content"&&i.splice(f,1),!m&&i[f][1].type==="definition"&&(m=f);const b={type:"setextHeading",start:Object.assign({},i[v][1].start),end:Object.assign({},i[i.length-1][1].end)};return i[v][1].type="setextHeadingText",m?(i.splice(v,0,["enter",b,a]),i.splice(m+1,0,["exit",i[p][1],a]),i[p][1].end=Object.assign({},i[m][1].end)):i[p][1]=b,i.push(["exit",b,a]),i}function vje(i,a,f){const p=this;let v=p.events.length,m,b;for(;v--;)if(p.events[v][1].type!=="lineEnding"&&p.events[v][1].type!=="linePrefix"&&p.events[v][1].type!=="content"){b=p.events[v][1].type==="paragraph";break}return E;function E(N){return!p.parser.lazy[p.now().line]&&(p.interrupt||b)?(i.enter("setextHeadingLine"),i.enter("setextHeadingLineSequence"),m=N,_(N)):f(N)}function _(N){return N===m?(i.consume(N),_):(i.exit("setextHeadingLineSequence"),Gu(i,L,"lineSuffix")(N))}function L(N){return N===null||Na(N)?(i.exit("setextHeadingLine"),a(N)):f(N)}}const wje={tokenize:mje};function mje(i){const a=this,f=i.attempt(lK,p,i.attempt(this.parser.constructs.flowInitial,v,Gu(i,i.attempt(this.parser.constructs.flow,v,i.attempt(_Re,v)),"linePrefix")));return f;function p(m){if(m===null){i.consume(m);return}return i.enter("lineEndingBlank"),i.consume(m),i.exit("lineEndingBlank"),a.currentConstruct=void 0,f}function v(m){if(m===null){i.consume(m);return}return i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),a.currentConstruct=void 0,f}}const yje={resolveAll:QFt()},xje=XFt("string"),kje=XFt("text");function XFt(i){return{tokenize:a,resolveAll:QFt(i==="text"?Eje:void 0)};function a(f){const p=this,v=this.parser.constructs[i],m=f.attempt(v,b,E);return b;function b(N){return L(N)?m(N):E(N)}function E(N){if(N===null){f.consume(N);return}return f.enter("data"),f.consume(N),_}function _(N){return L(N)?(f.exit("data"),m(N)):(f.consume(N),_)}function L(N){if(N===null)return!0;const B=v[N];let j=-1;if(B)for(;++j<B.length;){const R=B[j];if(!R.previous||R.previous.call(p,p.previous))return!0}return!1}}}function QFt(i){return a;function a(f,p){let v=-1,m;for(;++v<=f.length;)m===void 0?f[v]&&f[v][1].type==="data"&&(m=v,v++):(!f[v]||f[v][1].type!=="data")&&(v!==m+2&&(f[m][1].end=f[v-1][1].end,f.splice(m+2,v-m-2),v=m+2),m=void 0);return i?i(f,p):f}}function Eje(i,a){let f=0;for(;++f<=i.length;)if((f===i.length||i[f][1].type==="lineEnding")&&i[f-1][1].type==="data"){const p=i[f-1][1],v=a.sliceStream(p);let m=v.length,b=-1,E=0,_;for(;m--;){const L=v[m];if(typeof L=="string"){for(b=L.length;L.charCodeAt(b-1)===32;)E++,b--;if(b)break;b=-1}else if(L===-2)_=!0,E++;else if(L!==-1){m++;break}}if(E){const L={type:f===i.length||_||E<2?"lineSuffix":"hardBreakTrailing",start:{line:p.end.line,column:p.end.column-E,offset:p.end.offset-E,_index:p.start._index+m,_bufferIndex:m?b:p.start._bufferIndex+b},end:Object.assign({},p.end)};p.end=Object.assign({},L.start),p.start.offset===p.end.offset?Object.assign(p,L):(i.splice(f,0,["enter",L,a],["exit",L,a]),f+=2)}f++}return i}function Tje(i,a,f){let p=Object.assign(f?Object.assign({},f):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const v={},m=[];let b=[],E=[];const _={consume:ut,enter:bt,exit:mt,attempt:ht(yt),check:ht(dt),interrupt:ht(dt,{interrupt:!0})},L={previous:null,code:null,containerState:{},events:[],parser:i,sliceStream:R,sliceSerialize:j,now:z,defineSkip:K,write:B};let N=a.tokenize.call(L,_);return a.resolveAll&&m.push(a),L;function B(U){return b=ev(b,U),it(),b[b.length-1]!==null?[]:(wt(a,0),L.events=E0t(m,L.events,L),L.events)}function j(U,xt){return _je(R(U),xt)}function R(U){return Cje(b,U)}function z(){return Object.assign({},p)}function K(U){v[U.line]=U.column,pt()}function it(){let U;for(;p._index<b.length;){const xt=b[p._index];if(typeof xt=="string")for(U=p._index,p._bufferIndex<0&&(p._bufferIndex=0);p._index===U&&p._bufferIndex<xt.length;)st(xt.charCodeAt(p._bufferIndex));else st(xt)}}function st(U){N=N(U)}function ut(U){Na(U)?(p.line++,p.column=1,p.offset+=U===-3?2:1,pt()):U!==-1&&(p.column++,p.offset++),p._bufferIndex<0?p._index++:(p._bufferIndex++,p._bufferIndex===b[p._index].length&&(p._bufferIndex=-1,p._index++)),L.previous=U}function bt(U,xt){const nt=xt||{};return nt.type=U,nt.start=z(),L.events.push(["enter",nt,L]),E.push(nt),nt}function mt(U){const xt=E.pop();return xt.end=z(),L.events.push(["exit",xt,L]),xt}function yt(U,xt){wt(U,xt.from)}function dt(U,xt){xt.restore()}function ht(U,xt){return nt;function nt(Ot,Nt,qt){let Ct,Z,Tt,Ht;return Array.isArray(Ot)?Ft(Ot):"tokenize"in Ot?Ft([Ot]):It(Ot);function It(ve){return Ge;function Ge(Ke){const we=Ke!==null&&ve[Ke],_e=Ke!==null&&ve.null,$t=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return Ft($t)(Ke)}}function Ft(ve){return Ct=ve,Z=0,ve.length===0?qt:ke(ve[Z])}function ke(ve){return Ge;function Ge(Ke){return Ht=X(),Tt=ve,ve.partial||(L.currentConstruct=ve),ve.name&&L.parser.constructs.disable.null.includes(ve.name)?Me():ve.tokenize.call(xt?Object.assign(Object.create(L),xt):L,_,pn,Me)(Ke)}}function pn(ve){return U(Tt,Ht),Nt}function Me(ve){return Ht.restore(),++Z<Ct.length?ke(Ct[Z]):qt}}}function wt(U,xt){U.resolveAll&&!m.includes(U)&&m.push(U),U.resolve&&v3(L.events,xt,L.events.length-xt,U.resolve(L.events.slice(xt),L)),U.resolveTo&&(L.events=U.resolveTo(L.events,L))}function X(){const U=z(),xt=L.previous,nt=L.currentConstruct,Ot=L.events.length,Nt=Array.from(E);return{restore:qt,from:Ot};function qt(){p=U,L.previous=xt,L.currentConstruct=nt,L.events.length=Ot,E=Nt,pt()}}function pt(){p.line in v&&p.column<2&&(p.column=v[p.line],p.offset+=v[p.line]-1)}}function Cje(i,a){const f=a.start._index,p=a.start._bufferIndex,v=a.end._index,m=a.end._bufferIndex;let b;return f===v?b=[i[f].slice(p,m)]:(b=i.slice(f,v),p>-1&&(b[0]=b[0].slice(p)),m>0&&b.push(i[v].slice(0,m))),b}function _je(i,a){let f=-1;const p=[];let v;for(;++f<i.length;){const m=i[f];let b;if(typeof m=="string")b=m;else switch(m){case-5:{b="\r";break}case-4:{b=`
`;break}case-3:{b=`\r
`;break}case-2:{b=a?" ":"	";break}case-1:{if(!a&&v)continue;b=" ";break}default:b=String.fromCharCode(m)}v=m===-2,p.push(b)}return p.join("")}const Sje={[42]:fp,[43]:fp,[45]:fp,[48]:fp,[49]:fp,[50]:fp,[51]:fp,[52]:fp,[53]:fp,[54]:fp,[55]:fp,[56]:fp,[57]:fp,[62]:jFt},Aje={[91]:IRe},Lje={[-2]:_0t,[-1]:_0t,[32]:_0t},Mje=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:Aje,disable:{null:[]},document:Sje,flow:{[35]:BRe,[42]:hK,[45]:[YFt,hK],[60]:zRe,[61]:YFt,[95]:hK,[96]:HFt,[126]:HFt},flowInitial:Lje,insideSpan:{null:[T0t,yje]},string:{[38]:qFt,[92]:$Ft},text:{[-5]:A0t,[-4]:A0t,[-3]:A0t,[33]:rje,[38]:qFt,[42]:T0t,[60]:[uRe,URe],[91]:sje,[92]:[PRe,$Ft],[93]:S0t,[95]:T0t,[96]:xRe}},Symbol.toStringTag,{value:"Module"}));function Ije(i={}){const a=KBe([Mje].concat(i.extensions||[])),f={defined:[],lazy:{},constructs:a,content:p(nRe),document:p(iRe),flow:p(wje),string:p(xje),text:p(kje)};return f;function p(v){return m;function m(b){return Tje(f,v,b)}}}const ZFt=/[\0\t\n\r]/g;function Dje(){let i=1,a="",f=!0,p;return v;function v(m,b,E){const _=[];let L,N,B,j,R;for(m=a+m.toString(b),B=0,a="",f&&(m.charCodeAt(0)===65279&&B++,f=void 0);B<m.length;){if(ZFt.lastIndex=B,L=ZFt.exec(m),j=L&&L.index!==void 0?L.index:m.length,R=m.charCodeAt(j),!L){a=m.slice(B);break}if(R===10&&B===j&&p)_.push(-3),p=void 0;else switch(p&&(_.push(-5),p=void 0),B<j&&(_.push(m.slice(B,j)),i+=j-B),R){case 0:{_.push(65533),i++;break}case 9:{for(N=Math.ceil(i/4)*4,_.push(-2);i++<N;)_.push(-1);break}case 10:{_.push(-4),i=1;break}default:p=!0,i=1}B=j+1}return E&&(p&&_.push(-5),a&&_.push(a),_.push(null)),_}}function Oje(i){for(;!GFt(i););return i}function JFt(i,a){const f=Number.parseInt(i,a);return f<9||f===11||f>13&&f<32||f>126&&f<160||f>55295&&f<57344||f>64975&&f<65008||(f&65535)===65535||(f&65535)===65534||f>1114111?"":String.fromCharCode(f)}const Nje=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pje(i){return i.replace(Nje,Fje)}function Fje(i,a,f){if(a)return a;if(f.charCodeAt(0)===35){const v=f.charCodeAt(1),m=v===120||v===88;return JFt(f.slice(m?2:1),m?16:10)}return C0t(f)||i}function fK(i){return!i||typeof i!="object"?"":"position"in i||"type"in i?tBt(i.position):"start"in i||"end"in i?tBt(i):"line"in i||"column"in i?L0t(i):""}function L0t(i){return eBt(i&&i.line)+":"+eBt(i&&i.column)}function tBt(i){return L0t(i&&i.start)+"-"+L0t(i&&i.end)}function eBt(i){return i&&typeof i=="number"?i:1}const nBt={}.hasOwnProperty,rBt=function(i,a,f){return typeof a!="string"&&(f=a,a=void 0),Bje(f)(Oje(Ije(f).document().write(Dje()(i,a,!0))))};function Bje(i){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:E(ya),autolinkProtocol:U,autolinkEmail:U,atxHeading:E(Ne),blockQuote:E($t),characterEscape:U,characterReference:U,codeFenced:E(re),codeFencedFenceInfo:_,codeFencedFenceMeta:_,codeIndented:E(re,_),codeText:E(ie,_),codeTextData:U,data:U,codeFlowValue:U,definition:E(Oe),definitionDestinationString:_,definitionLabelString:_,definitionTitleString:_,emphasis:E(oe),hardBreakEscape:E(me),hardBreakTrailing:E(me),htmlFlow:E(cn,_),htmlFlowData:U,htmlText:E(cn,_),htmlTextData:U,image:E(li),label:_,link:E(ya),listItem:E(Oo),listItemValue:z,listOrdered:E(da,R),listUnordered:E(da),paragraph:E(ds),reference:Me,referenceString:_,resourceDestinationString:_,resourceTitleString:_,setextHeading:E(Ne),strong:E(Dr),thematicBreak:E(di)},exit:{atxHeading:N(),atxHeadingSequence:ht,autolink:N(),autolinkEmail:_e,autolinkProtocol:we,blockQuote:N(),characterEscapeValue:xt,characterReferenceMarkerHexadecimal:Ge,characterReferenceMarkerNumeric:Ge,characterReferenceValue:Ke,codeFenced:N(ut),codeFencedFence:st,codeFencedFenceInfo:K,codeFencedFenceMeta:it,codeFlowValue:xt,codeIndented:N(bt),codeText:N(Ct),codeTextData:xt,data:xt,definition:N(),definitionDestinationString:dt,definitionLabelString:mt,definitionTitleString:yt,emphasis:N(),hardBreakEscape:N(Ot),hardBreakTrailing:N(Ot),htmlFlow:N(Nt),htmlFlowData:xt,htmlText:N(qt),htmlTextData:xt,image:N(Tt),label:It,labelText:Ht,lineEnding:nt,link:N(Z),listItem:N(),listOrdered:N(),listUnordered:N(),paragraph:N(),referenceString:ve,resourceDestinationString:Ft,resourceTitleString:ke,resource:pn,setextHeading:N(pt),setextHeadingLineSequence:X,setextHeadingText:wt,strong:N(),thematicBreak:N()}};iBt(a,(i||{}).mdastExtensions||[]);const f={};return p;function p(Ee){let Yn={type:"root",children:[]};const He={stack:[Yn],tokenStack:[],config:a,enter:L,exit:B,buffer:_,resume:j,setData:m,getData:b},Ti=[];let gn=-1;for(;++gn<Ee.length;)if(Ee[gn][1].type==="listOrdered"||Ee[gn][1].type==="listUnordered")if(Ee[gn][0]==="enter")Ti.push(gn);else{const ks=Ti.pop();gn=v(Ee,ks,gn)}for(gn=-1;++gn<Ee.length;){const ks=a[Ee[gn][0]];nBt.call(ks,Ee[gn][1].type)&&ks[Ee[gn][1].type].call(Object.assign({sliceSerialize:Ee[gn][2].sliceSerialize},He),Ee[gn][1])}if(He.tokenStack.length>0){const ks=He.tokenStack[He.tokenStack.length-1];(ks[1]||sBt).call(He,void 0,ks[0])}for(Yn.position={start:uk(Ee.length>0?Ee[0][1].start:{line:1,column:1,offset:0}),end:uk(Ee.length>0?Ee[Ee.length-2][1].end:{line:1,column:1,offset:0})},gn=-1;++gn<a.transforms.length;)Yn=a.transforms[gn](Yn)||Yn;return Yn}function v(Ee,Yn,He){let Ti=Yn-1,gn=-1,ks=!1,qa,La,Gs,No;for(;++Ti<=He;){const vs=Ee[Ti];if(vs[1].type==="listUnordered"||vs[1].type==="listOrdered"||vs[1].type==="blockQuote"?(vs[0]==="enter"?gn++:gn--,No=void 0):vs[1].type==="lineEndingBlank"?vs[0]==="enter"&&(qa&&!No&&!gn&&!Gs&&(Gs=Ti),No=void 0):vs[1].type==="linePrefix"||vs[1].type==="listItemValue"||vs[1].type==="listItemMarker"||vs[1].type==="listItemPrefix"||vs[1].type==="listItemPrefixWhitespace"||(No=void 0),!gn&&vs[0]==="enter"&&vs[1].type==="listItemPrefix"||gn===-1&&vs[0]==="exit"&&(vs[1].type==="listUnordered"||vs[1].type==="listOrdered")){if(qa){let nu=Ti;for(La=void 0;nu--;){const $s=Ee[nu];if($s[1].type==="lineEnding"||$s[1].type==="lineEndingBlank"){if($s[0]==="exit")continue;La&&(Ee[La][1].type="lineEndingBlank",ks=!0),$s[1].type="lineEnding",La=nu}else if(!($s[1].type==="linePrefix"||$s[1].type==="blockQuotePrefix"||$s[1].type==="blockQuotePrefixWhitespace"||$s[1].type==="blockQuoteMarker"||$s[1].type==="listItemIndent"))break}Gs&&(!La||Gs<La)&&(qa._spread=!0),qa.end=Object.assign({},La?Ee[La][1].start:vs[1].end),Ee.splice(La||Ti,0,["exit",qa,vs[2]]),Ti++,He++}vs[1].type==="listItemPrefix"&&(qa={type:"listItem",_spread:!1,start:Object.assign({},vs[1].start)},Ee.splice(Ti,0,["enter",qa,vs[2]]),Ti++,He++,Gs=void 0,No=!0)}}return Ee[Yn][1]._spread=ks,He}function m(Ee,Yn){f[Ee]=Yn}function b(Ee){return f[Ee]}function E(Ee,Yn){return He;function He(Ti){L.call(this,Ee(Ti),Ti),Yn&&Yn.call(this,Ti)}}function _(){this.stack.push({type:"fragment",children:[]})}function L(Ee,Yn,He){return this.stack[this.stack.length-1].children.push(Ee),this.stack.push(Ee),this.tokenStack.push([Yn,He]),Ee.position={start:uk(Yn.start)},Ee}function N(Ee){return Yn;function Yn(He){Ee&&Ee.call(this,He),B.call(this,He)}}function B(Ee,Yn){const He=this.stack.pop(),Ti=this.tokenStack.pop();if(Ti)Ti[0].type!==Ee.type&&(Yn?Yn.call(this,Ee,Ti[0]):(Ti[1]||sBt).call(this,Ee,Ti[0]));else throw new Error("Cannot close `"+Ee.type+"` ("+fK({start:Ee.start,end:Ee.end})+"): its not open");return He.position.end=uk(Ee.end),He}function j(){return WBe(this.stack.pop())}function R(){m("expectingFirstListItemValue",!0)}function z(Ee){if(b("expectingFirstListItemValue")){const Yn=this.stack[this.stack.length-2];Yn.start=Number.parseInt(this.sliceSerialize(Ee),10),m("expectingFirstListItemValue")}}function K(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.lang=Ee}function it(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.meta=Ee}function st(){b("flowCodeInside")||(this.buffer(),m("flowCodeInside",!0))}function ut(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.value=Ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),m("flowCodeInside")}function bt(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.value=Ee.replace(/(\r?\n|\r)$/g,"")}function mt(Ee){const Yn=this.resume(),He=this.stack[this.stack.length-1];He.label=Yn,He.identifier=nL(this.sliceSerialize(Ee)).toLowerCase()}function yt(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.title=Ee}function dt(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.url=Ee}function ht(Ee){const Yn=this.stack[this.stack.length-1];if(!Yn.depth){const He=this.sliceSerialize(Ee).length;Yn.depth=He}}function wt(){m("setextHeadingSlurpLineEnding",!0)}function X(Ee){const Yn=this.stack[this.stack.length-1];Yn.depth=this.sliceSerialize(Ee).charCodeAt(0)===61?1:2}function pt(){m("setextHeadingSlurpLineEnding")}function U(Ee){const Yn=this.stack[this.stack.length-1];let He=Yn.children[Yn.children.length-1];(!He||He.type!=="text")&&(He=nr(),He.position={start:uk(Ee.start)},Yn.children.push(He)),this.stack.push(He)}function xt(Ee){const Yn=this.stack.pop();Yn.value+=this.sliceSerialize(Ee),Yn.position.end=uk(Ee.end)}function nt(Ee){const Yn=this.stack[this.stack.length-1];if(b("atHardBreak")){const He=Yn.children[Yn.children.length-1];He.position.end=uk(Ee.end),m("atHardBreak");return}!b("setextHeadingSlurpLineEnding")&&a.canContainEols.includes(Yn.type)&&(U.call(this,Ee),xt.call(this,Ee))}function Ot(){m("atHardBreak",!0)}function Nt(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.value=Ee}function qt(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.value=Ee}function Ct(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.value=Ee}function Z(){const Ee=this.stack[this.stack.length-1];if(b("inReference")){const Yn=b("referenceType")||"shortcut";Ee.type+="Reference",Ee.referenceType=Yn,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;m("referenceType")}function Tt(){const Ee=this.stack[this.stack.length-1];if(b("inReference")){const Yn=b("referenceType")||"shortcut";Ee.type+="Reference",Ee.referenceType=Yn,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;m("referenceType")}function Ht(Ee){const Yn=this.sliceSerialize(Ee),He=this.stack[this.stack.length-2];He.label=Pje(Yn),He.identifier=nL(Yn).toLowerCase()}function It(){const Ee=this.stack[this.stack.length-1],Yn=this.resume(),He=this.stack[this.stack.length-1];if(m("inReference",!0),He.type==="link"){const Ti=Ee.children;He.children=Ti}else He.alt=Yn}function Ft(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.url=Ee}function ke(){const Ee=this.resume(),Yn=this.stack[this.stack.length-1];Yn.title=Ee}function pn(){m("inReference")}function Me(){m("referenceType","collapsed")}function ve(Ee){const Yn=this.resume(),He=this.stack[this.stack.length-1];He.label=Yn,He.identifier=nL(this.sliceSerialize(Ee)).toLowerCase(),m("referenceType","full")}function Ge(Ee){m("characterReferenceType",Ee.type)}function Ke(Ee){const Yn=this.sliceSerialize(Ee),He=b("characterReferenceType");let Ti;He?(Ti=JFt(Yn,He==="characterReferenceMarkerNumeric"?10:16),m("characterReferenceType")):Ti=C0t(Yn);const gn=this.stack.pop();gn.value+=Ti,gn.position.end=uk(Ee.end)}function we(Ee){xt.call(this,Ee);const Yn=this.stack[this.stack.length-1];Yn.url=this.sliceSerialize(Ee)}function _e(Ee){xt.call(this,Ee);const Yn=this.stack[this.stack.length-1];Yn.url="mailto:"+this.sliceSerialize(Ee)}function $t(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oe(){return{type:"emphasis",children:[]}}function Ne(){return{type:"heading",depth:void 0,children:[]}}function me(){return{type:"break"}}function cn(){return{type:"html",value:""}}function li(){return{type:"image",title:null,url:"",alt:null}}function ya(){return{type:"link",title:null,url:"",children:[]}}function da(Ee){return{type:"list",ordered:Ee.type==="listOrdered",start:null,spread:Ee._spread,children:[]}}function Oo(Ee){return{type:"listItem",spread:Ee._spread,checked:null,children:[]}}function ds(){return{type:"paragraph",children:[]}}function Dr(){return{type:"strong",children:[]}}function nr(){return{type:"text",value:""}}function di(){return{type:"thematicBreak"}}}function uk(i){return{line:i.line,column:i.column,offset:i.offset}}function iBt(i,a){let f=-1;for(;++f<a.length;){const p=a[f];Array.isArray(p)?iBt(i,p):Rje(i,p)}}function Rje(i,a){let f;for(f in a)if(nBt.call(a,f)){if(f==="canContainEols"){const p=a[f];p&&i[f].push(...p)}else if(f==="transforms"){const p=a[f];p&&i[f].push(...p)}else if(f==="enter"||f==="exit"){const p=a[f];p&&Object.assign(i[f],p)}}}function sBt(i,a){throw i?new Error("Cannot close `"+i.type+"` ("+fK({start:i.start,end:i.end})+"): a different token (`"+a.type+"`, "+fK({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+fK({start:a.start,end:a.end})+") is still open")}function jje(i){const a=i.replace(/\n{2,}/g,`
`);return wA(a)}function $je(i){const a=jje(i),{children:f}=rBt(a),p=[[]];let v=0;function m(b,E="normal"){b.type==="text"?b.value.split(`
`).forEach((L,N)=>{N!==0&&(v++,p.push([])),L.split(" ").forEach(B=>{B&&p[v].push({content:B,type:E})})}):(b.type==="strong"||b.type==="emphasis")&&b.children.forEach(_=>{m(_,b.type)})}return f.forEach(b=>{b.type==="paragraph"&&b.children.forEach(E=>{m(E)})}),p}function zje(i){const{children:a}=rBt(i);function f(p){return p.type==="text"?p.value.replace(/\n/g,"<br/>"):p.type==="strong"?`<strong>${p.children.map(f).join("")}</strong>`:p.type==="emphasis"?`<em>${p.children.map(f).join("")}</em>`:p.type==="paragraph"?`<p>${p.children.map(f).join("")}</p>`:`Unsupported markdown: ${p.type}`}return a.map(f).join("")}function qje(i){return Intl.Segmenter?[...new Intl.Segmenter().segment(i)].map(a=>a.segment):[...i]}function Hje(i,a){const f=qje(a.content);return aBt(i,[],f,a.type)}function aBt(i,a,f,p){if(f.length===0)return[{content:a.join(""),type:p},{content:"",type:p}];const[v,...m]=f,b=[...a,v];return i([{content:b.join(""),type:p}])?aBt(i,b,m,p):(a.length===0&&v&&(a.push(v),f.shift()),[{content:a.join(""),type:p},{content:f.join(""),type:p}])}function Gje(i,a){if(i.some(({content:f})=>f.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return M0t(i,a)}function M0t(i,a,f=[],p=[]){if(i.length===0)return p.length>0&&f.push(p),f.length>0?f:[];let v="";i[0].content===" "&&(v=" ",i.shift());const m=i.shift()??{content:" ",type:"normal"},b=[...p];if(v!==""&&b.push({content:v,type:"normal"}),b.push(m),a(b))return M0t(i,a,f,b);if(p.length>0)f.push(p),i.unshift(m);else if(m.content){const[E,_]=Hje(a,m);f.push([E]),_.content&&i.unshift(_)}return M0t(i,a,f)}function Vje(i,a){a&&i.attr("style",a)}function Uje(i,a,f,p,v=!1){const m=i.append("foreignObject"),b=m.append("xhtml:div"),E=a.label,_=a.isNode?"nodeLabel":"edgeLabel";b.html(`
    <span class="${_} ${p}" `+(a.labelStyle?'style="'+a.labelStyle+'"':"")+">"+E+"</span>"),Vje(b,a.labelStyle),b.style("display","table-cell"),b.style("white-space","nowrap"),b.style("max-width",f+"px"),b.attr("xmlns","http://www.w3.org/1999/xhtml"),v&&b.attr("class","labelBkg");let L=b.node().getBoundingClientRect();return L.width===f&&(b.style("display","table"),b.style("white-space","break-spaces"),b.style("width",f+"px"),L=b.node().getBoundingClientRect()),m.style("width",L.width),m.style("height",L.height),m.node()}function oBt(i,a,f){return i.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",a*f-.1+"em").attr("dy",f+"em")}function Wje(i,a,f){const p=i.append("text"),v=oBt(p,1,a);cBt(v,f);const m=v.node().getComputedTextLength();return p.remove(),m}function Kje(i,a,f,p=!1){const m=a.append("g"),b=m.insert("rect").attr("class","background"),E=m.append("text").attr("y","-10.1");let _=0;for(const L of f){const N=j=>Wje(m,1.1,j)<=i,B=N(L)?[L]:Gje(L,N);for(const j of B){const R=oBt(E,_,1.1);cBt(R,j),_++}}if(p){const L=E.node().getBBox(),N=2;return b.attr("x",-N).attr("y",-N).attr("width",L.width+2*N).attr("height",L.height+2*N),m.node()}else return E.node()}function cBt(i,a){i.text(""),a.forEach((f,p)=>{const v=i.append("tspan").attr("font-style",f.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",f.type==="strong"?"bold":"normal");p===0?v.text(f.content):v.text(" "+f.content)})}const dK=(i,a="",{style:f="",isTitle:p=!1,classes:v="",useHtmlLabels:m=!0,isNode:b=!0,width:E=200,addSvgBackground:_=!1}={})=>{if(Ut.info("createText",a,f,p,v,m,b,_),m){const L=zje(a),N={isNode:b,label:nP(L).replace(/fa[blrs]?:fa-[\w-]+/g,j=>`<i class='${j.replace(":"," ")}'></i>`),labelStyle:f.replace("fill:","color:")};return Uje(i,N,E,v,_)}else{const L=$je(a);return Kje(E,i,L,_)}},Od=async(i,a,f,p)=>{let v;const m=a.useHtmlLabels||s1(Le().flowchart.htmlLabels);f?v=f:v="node default";const b=i.insert("g").attr("class",v).attr("id",a.domId||a.id),E=b.insert("g").attr("class","label").attr("style",a.labelStyle);let _;a.labelText===void 0?_="":_=typeof a.labelText=="string"?a.labelText:a.labelText[0];const L=E.node();let N;a.labelType==="markdown"?N=dK(E,Dd(nP(_),Le()),{useHtmlLabels:m,width:a.width||Le().flowchart.wrappingWidth,classes:"markdown-node-label"}):N=L.appendChild(hp(Dd(nP(_),Le()),a.labelStyle,!1,p));let B=N.getBBox();const j=a.padding/2;if(s1(Le().flowchart.htmlLabels)){const R=N.children[0],z=yr(N),K=R.getElementsByTagName("img");if(K){const it=_.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...K].map(st=>new Promise(ut=>{function bt(){if(st.style.display="flex",st.style.flexDirection="column",it){const mt=Le().fontSize?Le().fontSize:window.getComputedStyle(document.body).fontSize,yt=5;st.style.width=parseInt(mt,10)*yt+"px"}else st.style.width="100%";ut(st)}setTimeout(()=>{st.complete&&bt()}),st.addEventListener("error",bt),st.addEventListener("load",bt)})))}B=R.getBoundingClientRect(),z.attr("width",B.width),z.attr("height",B.height)}return m?E.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"):E.attr("transform","translate(0, "+-B.height/2+")"),a.centerLabel&&E.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),E.insert("rect",":first-child"),{shapeSvg:b,bbox:B,halfPadding:j,label:E}},Qh=(i,a)=>{const f=a.node().getBBox();i.width=f.width,i.height=f.height};function A5(i,a,f,p){return i.insert("polygon",":first-child").attr("points",p.map(function(v){return v.x+","+v.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-a/2+","+f/2+")")}let Ho={},cm={},uBt={};const Yje=()=>{cm={},uBt={},Ho={}},gK=(i,a)=>(Ut.trace("In isDecendant",a," ",i," = ",cm[a].includes(i)),!!cm[a].includes(i)),Xje=(i,a)=>(Ut.info("Decendants of ",a," is ",cm[a]),Ut.info("Edge is ",i),i.v===a||i.w===a?!1:cm[a]?cm[a].includes(i.v)||gK(i.v,a)||gK(i.w,a)||cm[a].includes(i.w):(Ut.debug("Tilt, ",a,",not in decendants"),!1)),lBt=(i,a,f,p)=>{Ut.warn("Copying children of ",i,"root",p,"data",a.node(i),p);const v=a.children(i)||[];i!==p&&v.push(i),Ut.warn("Copying (nodes) clusterId",i,"nodes",v),v.forEach(m=>{if(a.children(m).length>0)lBt(m,a,f,p);else{const b=a.node(m);Ut.info("cp ",m," to ",p," with parent ",i),f.setNode(m,b),p!==a.parent(m)&&(Ut.warn("Setting parent",m,a.parent(m)),f.setParent(m,a.parent(m))),i!==p&&m!==i?(Ut.debug("Setting parent",m,i),f.setParent(m,i)):(Ut.info("In copy ",i,"root",p,"data",a.node(i),p),Ut.debug("Not Setting parent for node=",m,"cluster!==rootId",i!==p,"node!==clusterId",m!==i));const E=a.edges(m);Ut.debug("Copying Edges",E),E.forEach(_=>{Ut.info("Edge",_);const L=a.edge(_.v,_.w,_.name);Ut.info("Edge data",L,p);try{Xje(_,p)?(Ut.info("Copying as ",_.v,_.w,L,_.name),f.setEdge(_.v,_.w,L,_.name),Ut.info("newGraph edges ",f.edges(),f.edge(f.edges()[0]))):Ut.info("Skipping copy of edge ",_.v,"-->",_.w," rootId: ",p," clusterId:",i)}catch(N){Ut.error(N)}})}Ut.debug("Removing node",m),a.removeNode(m)})},hBt=(i,a)=>{const f=a.children(i);let p=[...f];for(const v of f)uBt[v]=i,p=[...p,...hBt(v,a)];return p},wP=(i,a)=>{Ut.trace("Searching",i);const f=a.children(i);if(Ut.trace("Searching children of id ",i,f),f.length<1)return Ut.trace("This is a valid node",i),i;for(const p of f){const v=wP(p,a);if(v)return Ut.trace("Found replacement for",i," => ",v),v}},pK=i=>!Ho[i]||!Ho[i].externalConnections?i:Ho[i]?Ho[i].id:i,Qje=(i,a)=>{if(!i||a>10){Ut.debug("Opting out, no graph ");return}else Ut.debug("Opting in, graph ");i.nodes().forEach(function(f){i.children(f).length>0&&(Ut.warn("Cluster identified",f," Replacement id in edges: ",wP(f,i)),cm[f]=hBt(f,i),Ho[f]={id:wP(f,i),clusterData:i.node(f)})}),i.nodes().forEach(function(f){const p=i.children(f),v=i.edges();p.length>0?(Ut.debug("Cluster identified",f,cm),v.forEach(m=>{if(m.v!==f&&m.w!==f){const b=gK(m.v,f),E=gK(m.w,f);b^E&&(Ut.warn("Edge: ",m," leaves cluster ",f),Ut.warn("Decendants of XXX ",f,": ",cm[f]),Ho[f].externalConnections=!0)}})):Ut.debug("Not a cluster ",f,cm)}),i.edges().forEach(function(f){const p=i.edge(f);Ut.warn("Edge "+f.v+" -> "+f.w+": "+JSON.stringify(f)),Ut.warn("Edge "+f.v+" -> "+f.w+": "+JSON.stringify(i.edge(f)));let v=f.v,m=f.w;if(Ut.warn("Fix XXX",Ho,"ids:",f.v,f.w,"Translating: ",Ho[f.v]," --- ",Ho[f.w]),Ho[f.v]&&Ho[f.w]&&Ho[f.v]===Ho[f.w]){Ut.warn("Fixing and trixing link to self - removing XXX",f.v,f.w,f.name),Ut.warn("Fixing and trixing - removing XXX",f.v,f.w,f.name),v=pK(f.v),m=pK(f.w),i.removeEdge(f.v,f.w,f.name);const b=f.w+"---"+f.v;i.setNode(b,{domId:b,id:b,labelStyle:"",labelText:p.label,padding:0,shape:"labelRect",style:""});const E=structuredClone(p),_=structuredClone(p);E.label="",E.arrowTypeEnd="none",_.label="",E.fromCluster=f.v,_.toCluster=f.v,i.setEdge(v,b,E,f.name+"-cyclic-special"),i.setEdge(b,m,_,f.name+"-cyclic-special")}else(Ho[f.v]||Ho[f.w])&&(Ut.warn("Fixing and trixing - removing XXX",f.v,f.w,f.name),v=pK(f.v),m=pK(f.w),i.removeEdge(f.v,f.w,f.name),v!==f.v&&(p.fromCluster=f.v),m!==f.w&&(p.toCluster=f.w),Ut.warn("Fix Replacing with XXX",v,m,f.name),i.setEdge(v,m,p,f.name))}),Ut.warn("Adjusted Graph",S5(i)),fBt(i,0),Ut.trace(Ho)},fBt=(i,a)=>{if(Ut.warn("extractor - ",a,S5(i),i.children("D")),a>10){Ut.error("Bailing out");return}let f=i.nodes(),p=!1;for(const v of f){const m=i.children(v);p=p||m.length>0}if(!p){Ut.debug("Done, no node has children",i.nodes());return}Ut.debug("Nodes = ",f,a);for(const v of f)if(Ut.debug("Extracting node",v,Ho,Ho[v]&&!Ho[v].externalConnections,!i.parent(v),i.node(v),i.children("D")," Depth ",a),!Ho[v])Ut.debug("Not a cluster",v,a);else if(!Ho[v].externalConnections&&i.children(v)&&i.children(v).length>0){Ut.warn("Cluster without external connections, without a parent and with children",v,a);let b=i.graph().rankdir==="TB"?"LR":"TB";Ho[v]&&Ho[v].clusterData&&Ho[v].clusterData.dir&&(b=Ho[v].clusterData.dir,Ut.warn("Fixing dir",Ho[v].clusterData.dir,b));const E=new a1({multigraph:!0,compound:!0}).setGraph({rankdir:b,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Ut.warn("Old graph before copy",S5(i)),lBt(v,i,E,v),i.setNode(v,{clusterNode:!0,id:v,clusterData:Ho[v].clusterData,labelText:Ho[v].labelText,graph:E}),Ut.warn("New graph after copy node: (",v,")",S5(E)),Ut.debug("Old graph after copy",S5(i))}else Ut.warn("Cluster ** ",v," **not meeting the criteria !externalConnections:",!Ho[v].externalConnections," no parent: ",!i.parent(v)," children ",i.children(v)&&i.children(v).length>0,i.children("D"),a),Ut.debug(Ho);f=i.nodes(),Ut.warn("New list of nodes",f);for(const v of f){const m=i.node(v);Ut.warn(" Now next level",v,m),m.clusterNode&&fBt(m.graph,a+1)}},dBt=(i,a)=>{if(a.length===0)return[];let f=Object.assign(a);return a.forEach(p=>{const v=i.children(p),m=dBt(i,v);f=[...f,...m]}),f},Zje=i=>dBt(i,i.children());function Jje(i,a){return i.intersect(a)}function gBt(i,a,f,p){var v=i.x,m=i.y,b=v-p.x,E=m-p.y,_=Math.sqrt(a*a*E*E+f*f*b*b),L=Math.abs(a*f*b/_);p.x<v&&(L=-L);var N=Math.abs(a*f*E/_);return p.y<m&&(N=-N),{x:v+L,y:m+N}}function t$e(i,a,f){return gBt(i,a,a,f)}function e$e(i,a,f,p){var v,m,b,E,_,L,N,B,j,R,z,K,it,st,ut;if(v=a.y-i.y,b=i.x-a.x,_=a.x*i.y-i.x*a.y,j=v*f.x+b*f.y+_,R=v*p.x+b*p.y+_,!(j!==0&&R!==0&&pBt(j,R))&&(m=p.y-f.y,E=f.x-p.x,L=p.x*f.y-f.x*p.y,N=m*i.x+E*i.y+L,B=m*a.x+E*a.y+L,!(N!==0&&B!==0&&pBt(N,B))&&(z=v*E-m*b,z!==0)))return K=Math.abs(z/2),it=b*L-E*_,st=it<0?(it-K)/z:(it+K)/z,it=m*_-v*L,ut=it<0?(it-K)/z:(it+K)/z,{x:st,y:ut}}function pBt(i,a){return i*a>0}function n$e(i,a,f){var p=i.x,v=i.y,m=[],b=Number.POSITIVE_INFINITY,E=Number.POSITIVE_INFINITY;typeof a.forEach=="function"?a.forEach(function(z){b=Math.min(b,z.x),E=Math.min(E,z.y)}):(b=Math.min(b,a.x),E=Math.min(E,a.y));for(var _=p-i.width/2-b,L=v-i.height/2-E,N=0;N<a.length;N++){var B=a[N],j=a[N<a.length-1?N+1:0],R=e$e(i,f,{x:_+B.x,y:L+B.y},{x:_+j.x,y:L+j.y});R&&m.push(R)}return m.length?(m.length>1&&m.sort(function(z,K){var it=z.x-f.x,st=z.y-f.y,ut=Math.sqrt(it*it+st*st),bt=K.x-f.x,mt=K.y-f.y,yt=Math.sqrt(bt*bt+mt*mt);return ut<yt?-1:ut===yt?0:1}),m[0]):i}const mP=(i,a)=>{var f=i.x,p=i.y,v=a.x-f,m=a.y-p,b=i.width/2,E=i.height/2,_,L;return Math.abs(m)*b>Math.abs(v)*E?(m<0&&(E=-E),_=m===0?0:E*v/m,L=E):(v<0&&(b=-b),_=b,L=v===0?0:b*m/v),{x:f+_,y:p+L}},yh={node:Jje,circle:t$e,ellipse:gBt,polygon:n$e,rect:mP},r$e=async(i,a)=>{a.useHtmlLabels||Le().flowchart.htmlLabels||(a.centerLabel=!0);const{shapeSvg:p,bbox:v,halfPadding:m}=await Od(i,a,"node "+a.classes,!0);Ut.info("Classes = ",a.classes);const b=p.insert("rect",":first-child");return b.attr("rx",a.rx).attr("ry",a.ry).attr("x",-v.width/2-m).attr("y",-v.height/2-m).attr("width",v.width+a.padding).attr("height",v.height+a.padding),Qh(a,b),a.intersect=function(E){return yh.rect(a,E)},p},bBt=i=>i?" "+i:"",Pb=(i,a)=>`${a||"node default"}${bBt(i.classes)} ${bBt(i.class)}`,vBt=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=p.height+a.padding,b=v+m,E=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}];Ut.info("Question main (Circle)");const _=A5(f,b,b,E);return _.attr("style",a.style),Qh(a,_),a.intersect=function(L){return Ut.warn("Intersect called"),yh.polygon(a,E,L)},f},i$e=(i,a)=>{const f=i.insert("g").attr("class","node default").attr("id",a.domId||a.id),p=28,v=[{x:0,y:p/2},{x:p/2,y:0},{x:0,y:-p/2},{x:-p/2,y:0}];return f.insert("polygon",":first-child").attr("points",v.map(function(b){return b.x+","+b.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),a.width=28,a.height=28,a.intersect=function(b){return yh.circle(a,14,b)},f},s$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=4,m=p.height+a.padding,b=m/v,E=p.width+2*b+a.padding,_=[{x:b,y:0},{x:E-b,y:0},{x:E,y:-m/2},{x:E-b,y:-m},{x:b,y:-m},{x:0,y:-m/2}],L=A5(f,E,m,_);return L.attr("style",a.style),Qh(a,L),a.intersect=function(N){return yh.polygon(a,_,N)},f},a$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=p.height+a.padding,b=[{x:-m/2,y:0},{x:v,y:0},{x:v,y:-m},{x:-m/2,y:-m},{x:0,y:-m/2}];return A5(f,v,m,b).attr("style",a.style),a.width=v+m,a.height=m,a.intersect=function(_){return yh.polygon(a,b,_)},f},o$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a),!0),v=p.width+a.padding,m=p.height+a.padding,b=[{x:-2*m/6,y:0},{x:v-m/6,y:0},{x:v+2*m/6,y:-m},{x:m/6,y:-m}],E=A5(f,v,m,b);return E.attr("style",a.style),Qh(a,E),a.intersect=function(_){return yh.polygon(a,b,_)},f},c$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=p.height+a.padding,b=[{x:2*m/6,y:0},{x:v+m/6,y:0},{x:v-2*m/6,y:-m},{x:-m/6,y:-m}],E=A5(f,v,m,b);return E.attr("style",a.style),Qh(a,E),a.intersect=function(_){return yh.polygon(a,b,_)},f},u$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=p.height+a.padding,b=[{x:-2*m/6,y:0},{x:v+2*m/6,y:0},{x:v-m/6,y:-m},{x:m/6,y:-m}],E=A5(f,v,m,b);return E.attr("style",a.style),Qh(a,E),a.intersect=function(_){return yh.polygon(a,b,_)},f},l$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=p.height+a.padding,b=[{x:m/6,y:0},{x:v-m/6,y:0},{x:v+2*m/6,y:-m},{x:-2*m/6,y:-m}],E=A5(f,v,m,b);return E.attr("style",a.style),Qh(a,E),a.intersect=function(_){return yh.polygon(a,b,_)},f},h$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=p.height+a.padding,b=[{x:0,y:0},{x:v+m/2,y:0},{x:v,y:-m/2},{x:v+m/2,y:-m},{x:0,y:-m}],E=A5(f,v,m,b);return E.attr("style",a.style),Qh(a,E),a.intersect=function(_){return yh.polygon(a,b,_)},f},f$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=v/2,b=m/(2.5+v/50),E=p.height+b+a.padding,_="M 0,"+b+" a "+m+","+b+" 0,0,0 "+v+" 0 a "+m+","+b+" 0,0,0 "+-v+" 0 l 0,"+E+" a "+m+","+b+" 0,0,0 "+v+" 0 l 0,"+-E,L=f.attr("label-offset-y",b).insert("path",":first-child").attr("style",a.style).attr("d",_).attr("transform","translate("+-v/2+","+-(E/2+b)+")");return Qh(a,L),a.intersect=function(N){const B=yh.rect(a,N),j=B.x-a.x;if(m!=0&&(Math.abs(j)<a.width/2||Math.abs(j)==a.width/2&&Math.abs(B.y-a.y)>a.height/2-b)){let R=b*b*(1-j*j/(m*m));R!=0&&(R=Math.sqrt(R)),R=b-R,N.y-a.y>0&&(R=-R),B.y+=R}return B},f},d$e=async(i,a)=>{const{shapeSvg:f,bbox:p,halfPadding:v}=await Od(i,a,"node "+a.classes+" "+a.class,!0),m=f.insert("rect",":first-child"),b=p.width+a.padding,E=p.height+a.padding;if(m.attr("class","basic label-container").attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("x",-p.width/2-v).attr("y",-p.height/2-v).attr("width",b).attr("height",E),a.props){const _=new Set(Object.keys(a.props));a.props.borders&&(wBt(m,a.props.borders,b,E),_.delete("borders")),_.forEach(L=>{Ut.warn(`Unknown node property ${L}`)})}return Qh(a,m),a.intersect=function(_){return yh.rect(a,_)},f},g$e=async(i,a)=>{const{shapeSvg:f}=await Od(i,a,"label",!0);Ut.trace("Classes = ",a.class);const p=f.insert("rect",":first-child"),v=0,m=0;if(p.attr("width",v).attr("height",m),f.attr("class","label edgeLabel"),a.props){const b=new Set(Object.keys(a.props));a.props.borders&&(wBt(p,a.props.borders,v,m),b.delete("borders")),b.forEach(E=>{Ut.warn(`Unknown node property ${E}`)})}return Qh(a,p),a.intersect=function(b){return yh.rect(a,b)},f};function wBt(i,a,f,p){const v=[],m=E=>{v.push(E,0)},b=E=>{v.push(0,E)};a.includes("t")?(Ut.debug("add top border"),m(f)):b(f),a.includes("r")?(Ut.debug("add right border"),m(p)):b(p),a.includes("b")?(Ut.debug("add bottom border"),m(f)):b(f),a.includes("l")?(Ut.debug("add left border"),m(p)):b(p),i.attr("stroke-dasharray",v.join(" "))}const p$e=(i,a)=>{let f;a.classes?f="node "+a.classes:f="node default";const p=i.insert("g").attr("class",f).attr("id",a.domId||a.id),v=p.insert("rect",":first-child"),m=p.insert("line"),b=p.insert("g").attr("class","label"),E=a.labelText.flat?a.labelText.flat():a.labelText;let _="";typeof E=="object"?_=E[0]:_=E,Ut.info("Label text abc79",_,E,typeof E=="object");const L=b.node().appendChild(hp(_,a.labelStyle,!0,!0));let N={width:0,height:0};if(s1(Le().flowchart.htmlLabels)){const K=L.children[0],it=yr(L);N=K.getBoundingClientRect(),it.attr("width",N.width),it.attr("height",N.height)}Ut.info("Text 2",E);const B=E.slice(1,E.length);let j=L.getBBox();const R=b.node().appendChild(hp(B.join?B.join("<br/>"):B,a.labelStyle,!0,!0));if(s1(Le().flowchart.htmlLabels)){const K=R.children[0],it=yr(R);N=K.getBoundingClientRect(),it.attr("width",N.width),it.attr("height",N.height)}const z=a.padding/2;return yr(R).attr("transform","translate( "+(N.width>j.width?0:(j.width-N.width)/2)+", "+(j.height+z+5)+")"),yr(L).attr("transform","translate( "+(N.width<j.width?0:-(j.width-N.width)/2)+", 0)"),N=b.node().getBBox(),b.attr("transform","translate("+-N.width/2+", "+(-N.height/2-z+3)+")"),v.attr("class","outer title-state").attr("x",-N.width/2-z).attr("y",-N.height/2-z).attr("width",N.width+a.padding).attr("height",N.height+a.padding),m.attr("class","divider").attr("x1",-N.width/2-z).attr("x2",N.width/2+z).attr("y1",-N.height/2-z+j.height+z).attr("y2",-N.height/2-z+j.height+z),Qh(a,v),a.intersect=function(K){return yh.rect(a,K)},p},b$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.height+a.padding,m=p.width+v/4+a.padding,b=f.insert("rect",":first-child").attr("style",a.style).attr("rx",v/2).attr("ry",v/2).attr("x",-m/2).attr("y",-v/2).attr("width",m).attr("height",v);return Qh(a,b),a.intersect=function(E){return yh.rect(a,E)},f},v$e=async(i,a)=>{const{shapeSvg:f,bbox:p,halfPadding:v}=await Od(i,a,Pb(a,void 0),!0),m=f.insert("circle",":first-child");return m.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("r",p.width/2+v).attr("width",p.width+a.padding).attr("height",p.height+a.padding),Ut.info("Circle main"),Qh(a,m),a.intersect=function(b){return Ut.info("Circle intersect",a,p.width/2+v,b),yh.circle(a,p.width/2+v,b)},f},w$e=async(i,a)=>{const{shapeSvg:f,bbox:p,halfPadding:v}=await Od(i,a,Pb(a,void 0),!0),m=5,b=f.insert("g",":first-child"),E=b.insert("circle"),_=b.insert("circle");return b.attr("class",a.class),E.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("r",p.width/2+v+m).attr("width",p.width+a.padding+m*2).attr("height",p.height+a.padding+m*2),_.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("r",p.width/2+v).attr("width",p.width+a.padding).attr("height",p.height+a.padding),Ut.info("DoubleCircle main"),Qh(a,E),a.intersect=function(L){return Ut.info("DoubleCircle intersect",a,p.width/2+v+m,L),yh.circle(a,p.width/2+v+m,L)},f},m$e=async(i,a)=>{const{shapeSvg:f,bbox:p}=await Od(i,a,Pb(a,void 0),!0),v=p.width+a.padding,m=p.height+a.padding,b=[{x:0,y:0},{x:v,y:0},{x:v,y:-m},{x:0,y:-m},{x:0,y:0},{x:-8,y:0},{x:v+8,y:0},{x:v+8,y:-m},{x:-8,y:-m},{x:-8,y:0}],E=A5(f,v,m,b);return E.attr("style",a.style),Qh(a,E),a.intersect=function(_){return yh.polygon(a,b,_)},f},y$e=(i,a)=>{const f=i.insert("g").attr("class","node default").attr("id",a.domId||a.id),p=f.insert("circle",":first-child");return p.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Qh(a,p),a.intersect=function(v){return yh.circle(a,7,v)},f},mBt=(i,a,f)=>{const p=i.insert("g").attr("class","node default").attr("id",a.domId||a.id);let v=70,m=10;f==="LR"&&(v=10,m=70);const b=p.append("rect").attr("x",-1*v/2).attr("y",-1*m/2).attr("width",v).attr("height",m).attr("class","fork-join");return Qh(a,b),a.height=a.height+a.padding/2,a.width=a.width+a.padding/2,a.intersect=function(E){return yh.rect(a,E)},p},yBt={rhombus:vBt,question:vBt,rect:d$e,labelRect:g$e,rectWithTitle:p$e,choice:i$e,circle:v$e,doublecircle:w$e,stadium:b$e,hexagon:s$e,rect_left_inv_arrow:a$e,lean_right:o$e,lean_left:c$e,trapezoid:u$e,inv_trapezoid:l$e,rect_right_inv_arrow:h$e,cylinder:f$e,start:y$e,end:(i,a)=>{const f=i.insert("g").attr("class","node default").attr("id",a.domId||a.id),p=f.insert("circle",":first-child"),v=f.insert("circle",":first-child");return v.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),p.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Qh(a,v),a.intersect=function(m){return yh.circle(a,7,m)},f},note:r$e,subroutine:m$e,fork:mBt,join:mBt,class_box:(i,a)=>{const f=a.padding/2,p=4,v=8;let m;a.classes?m="node "+a.classes:m="node default";const b=i.insert("g").attr("class",m).attr("id",a.domId||a.id),E=b.insert("rect",":first-child"),_=b.insert("line"),L=b.insert("line");let N=0,B=p;const j=b.insert("g").attr("class","label");let R=0;const z=a.classData.annotations&&a.classData.annotations[0],K=a.classData.annotations[0]?""+a.classData.annotations[0]+"":"",it=j.node().appendChild(hp(K,a.labelStyle,!0,!0));let st=it.getBBox();if(s1(Le().flowchart.htmlLabels)){const wt=it.children[0],X=yr(it);st=wt.getBoundingClientRect(),X.attr("width",st.width),X.attr("height",st.height)}a.classData.annotations[0]&&(B+=st.height+p,N+=st.width);let ut=a.classData.label;a.classData.type!==void 0&&a.classData.type!==""&&(Le().flowchart.htmlLabels?ut+="&lt;"+a.classData.type+"&gt;":ut+="<"+a.classData.type+">");const bt=j.node().appendChild(hp(ut,a.labelStyle,!0,!0));yr(bt).attr("class","classTitle");let mt=bt.getBBox();if(s1(Le().flowchart.htmlLabels)){const wt=bt.children[0],X=yr(bt);mt=wt.getBoundingClientRect(),X.attr("width",mt.width),X.attr("height",mt.height)}B+=mt.height+p,mt.width>N&&(N=mt.width);const yt=[];a.classData.members.forEach(wt=>{const X=wt.getDisplayDetails();let pt=X.displayText;Le().flowchart.htmlLabels&&(pt=pt.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const U=j.node().appendChild(hp(pt,X.cssStyle?X.cssStyle:a.labelStyle,!0,!0));let xt=U.getBBox();if(s1(Le().flowchart.htmlLabels)){const nt=U.children[0],Ot=yr(U);xt=nt.getBoundingClientRect(),Ot.attr("width",xt.width),Ot.attr("height",xt.height)}xt.width>N&&(N=xt.width),B+=xt.height+p,yt.push(U)}),B+=v;const dt=[];if(a.classData.methods.forEach(wt=>{const X=wt.getDisplayDetails();let pt=X.displayText;Le().flowchart.htmlLabels&&(pt=pt.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const U=j.node().appendChild(hp(pt,X.cssStyle?X.cssStyle:a.labelStyle,!0,!0));let xt=U.getBBox();if(s1(Le().flowchart.htmlLabels)){const nt=U.children[0],Ot=yr(U);xt=nt.getBoundingClientRect(),Ot.attr("width",xt.width),Ot.attr("height",xt.height)}xt.width>N&&(N=xt.width),B+=xt.height+p,dt.push(U)}),B+=v,z){let wt=(N-st.width)/2;yr(it).attr("transform","translate( "+(-1*N/2+wt)+", "+-1*B/2+")"),R=st.height+p}let ht=(N-mt.width)/2;return yr(bt).attr("transform","translate( "+(-1*N/2+ht)+", "+(-1*B/2+R)+")"),R+=mt.height+p,_.attr("class","divider").attr("x1",-N/2-f).attr("x2",N/2+f).attr("y1",-B/2-f+v+R).attr("y2",-B/2-f+v+R),R+=v,yt.forEach(wt=>{yr(wt).attr("transform","translate( "+-N/2+", "+(-1*B/2+R+v/2)+")");const X=wt==null?void 0:wt.getBBox();R+=((X==null?void 0:X.height)??0)+p}),R+=v,L.attr("class","divider").attr("x1",-N/2-f).attr("x2",N/2+f).attr("y1",-B/2-f+v+R).attr("y2",-B/2-f+v+R),R+=v,dt.forEach(wt=>{yr(wt).attr("transform","translate( "+-N/2+", "+(-1*B/2+R)+")");const X=wt==null?void 0:wt.getBBox();R+=((X==null?void 0:X.height)??0)+p}),E.attr("class","outer title-state").attr("x",-N/2-f).attr("y",-(B/2)-f).attr("width",N+a.padding).attr("height",B+a.padding),Qh(a,E),a.intersect=function(wt){return yh.rect(a,wt)},b}};let rL={};const xBt=async(i,a,f)=>{let p,v;if(a.link){let m;Le().securityLevel==="sandbox"?m="_top":a.linkTarget&&(m=a.linkTarget||"_blank"),p=i.insert("svg:a").attr("xlink:href",a.link).attr("target",m),v=await yBt[a.shape](p,a,f)}else v=await yBt[a.shape](i,a,f),p=v;return a.tooltip&&v.attr("title",a.tooltip),a.class&&v.attr("class","node default "+a.class),rL[a.id]=p,a.haveCallback&&rL[a.id].attr("class",rL[a.id].attr("class")+" clickable"),p},x$e=(i,a)=>{rL[a.id]=i},k$e=()=>{rL={}},kBt=i=>{const a=rL[i.id];Ut.trace("Transforming node",i.diff,i,"translate("+(i.x-i.width/2-5)+", "+i.width/2+")");const f=8,p=i.diff||0;return i.clusterNode?a.attr("transform","translate("+(i.x+p-i.width/2)+", "+(i.y-i.height/2-f)+")"):a.attr("transform","translate("+i.x+", "+i.y+")"),p},E$e={rect:(i,a)=>{Ut.info("Creating subgraph rect for ",a.id,a);const f=i.insert("g").attr("class","cluster"+(a.class?" "+a.class:"")).attr("id",a.id),p=f.insert("rect",":first-child"),v=s1(Le().flowchart.htmlLabels),m=f.insert("g").attr("class","cluster-label"),b=a.labelType==="markdown"?dK(m,a.labelText,{style:a.labelStyle,useHtmlLabels:v}):m.node().appendChild(hp(a.labelText,a.labelStyle,void 0,!0));let E=b.getBBox();if(s1(Le().flowchart.htmlLabels)){const j=b.children[0],R=yr(b);E=j.getBoundingClientRect(),R.attr("width",E.width),R.attr("height",E.height)}const _=0*a.padding,L=_/2,N=a.width<=E.width+_?E.width+_:a.width;a.width<=E.width+_?a.diff=(E.width-a.width)/2-a.padding/2:a.diff=-a.padding/2,Ut.trace("Data ",a,JSON.stringify(a)),p.attr("style",a.style).attr("rx",a.rx).attr("ry",a.ry).attr("x",a.x-N/2).attr("y",a.y-a.height/2-L).attr("width",N).attr("height",a.height+_),v?m.attr("transform","translate("+(a.x-E.width/2)+", "+(a.y-a.height/2)+")"):m.attr("transform","translate("+a.x+", "+(a.y-a.height/2)+")");const B=p.node().getBBox();return a.width=B.width,a.height=B.height,a.intersect=function(j){return mP(a,j)},f},roundedWithTitle:(i,a)=>{const f=i.insert("g").attr("class",a.classes).attr("id",a.id),p=f.insert("rect",":first-child"),v=f.insert("g").attr("class","cluster-label"),m=f.append("rect"),b=v.node().appendChild(hp(a.labelText,a.labelStyle,void 0,!0));let E=b.getBBox();if(s1(Le().flowchart.htmlLabels)){const j=b.children[0],R=yr(b);E=j.getBoundingClientRect(),R.attr("width",E.width),R.attr("height",E.height)}E=b.getBBox();const _=0*a.padding,L=_/2,N=a.width<=E.width+a.padding?E.width+a.padding:a.width;a.width<=E.width+a.padding?a.diff=(E.width+a.padding*0-a.width)/2:a.diff=-a.padding/2,p.attr("class","outer").attr("x",a.x-N/2-L).attr("y",a.y-a.height/2-L).attr("width",N+_).attr("height",a.height+_),m.attr("class","inner").attr("x",a.x-N/2-L).attr("y",a.y-a.height/2-L+E.height-1).attr("width",N+_).attr("height",a.height+_-E.height-3),v.attr("transform","translate("+(a.x-E.width/2)+", "+(a.y-a.height/2-a.padding/3+(s1(Le().flowchart.htmlLabels)?5:3))+")");const B=p.node().getBBox();return a.height=B.height,a.intersect=function(j){return mP(a,j)},f},noteGroup:(i,a)=>{const f=i.insert("g").attr("class","note-cluster").attr("id",a.id),p=f.insert("rect",":first-child"),v=0*a.padding,m=v/2;p.attr("rx",a.rx).attr("ry",a.ry).attr("x",a.x-a.width/2-m).attr("y",a.y-a.height/2-m).attr("width",a.width+v).attr("height",a.height+v).attr("fill","none");const b=p.node().getBBox();return a.width=b.width,a.height=b.height,a.intersect=function(E){return mP(a,E)},f},divider:(i,a)=>{const f=i.insert("g").attr("class",a.classes).attr("id",a.id),p=f.insert("rect",":first-child"),v=0*a.padding,m=v/2;p.attr("class","divider").attr("x",a.x-a.width/2-m).attr("y",a.y-a.height/2).attr("width",a.width+v).attr("height",a.height+v);const b=p.node().getBBox();return a.width=b.width,a.height=b.height,a.diff=-a.padding/2,a.intersect=function(E){return mP(a,E)},f}};let EBt={};const T$e=(i,a)=>{Ut.trace("Inserting cluster");const f=a.shape||"rect";EBt[a.id]=E$e[f](i,a)},C$e=()=>{EBt={}},lk={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:5.3};function bK(i,a){i=vK(i),a=vK(a);const[f,p]=[i.x,i.y],[v,m]=[a.x,a.y],b=v-f,E=m-p;return{angle:Math.atan(E/b),deltaX:b,deltaY:E}}const vK=i=>Array.isArray(i)?{x:i[0],y:i[1]}:i,TBt=i=>({x:function(a,f,p){let v=0;if(f===0&&Object.hasOwn(lk,i.arrowTypeStart)){const{angle:m,deltaX:b}=bK(p[0],p[1]);v=lk[i.arrowTypeStart]*Math.cos(m)*(b>=0?1:-1)}else if(f===p.length-1&&Object.hasOwn(lk,i.arrowTypeEnd)){const{angle:m,deltaX:b}=bK(p[p.length-1],p[p.length-2]);v=lk[i.arrowTypeEnd]*Math.cos(m)*(b>=0?1:-1)}return vK(a).x+v},y:function(a,f,p){let v=0;if(f===0&&Object.hasOwn(lk,i.arrowTypeStart)){const{angle:m,deltaY:b}=bK(p[0],p[1]);v=lk[i.arrowTypeStart]*Math.abs(Math.sin(m))*(b>=0?1:-1)}else if(f===p.length-1&&Object.hasOwn(lk,i.arrowTypeEnd)){const{angle:m,deltaY:b}=bK(p[p.length-1],p[p.length-2]);v=lk[i.arrowTypeEnd]*Math.abs(Math.sin(m))*(b>=0?1:-1)}return vK(a).y+v}});let wK={},Nd={};const _$e=()=>{wK={},Nd={}},CBt=(i,a)=>{const f=s1(Le().flowchart.htmlLabels),p=a.labelType==="markdown"?dK(i,a.label,{style:a.labelStyle,useHtmlLabels:f,addSvgBackground:!0}):hp(a.label,a.labelStyle);Ut.info("abc82",a,a.labelType);const v=i.insert("g").attr("class","edgeLabel"),m=v.insert("g").attr("class","label");m.node().appendChild(p);let b=p.getBBox();if(f){const _=p.children[0],L=yr(p);b=_.getBoundingClientRect(),L.attr("width",b.width),L.attr("height",b.height)}m.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),wK[a.id]=v,a.width=b.width,a.height=b.height;let E;if(a.startLabelLeft){const _=hp(a.startLabelLeft,a.labelStyle),L=i.insert("g").attr("class","edgeTerminals"),N=L.insert("g").attr("class","inner");E=N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),Nd[a.id]||(Nd[a.id]={}),Nd[a.id].startLeft=L,mK(E,a.startLabelLeft)}if(a.startLabelRight){const _=hp(a.startLabelRight,a.labelStyle),L=i.insert("g").attr("class","edgeTerminals"),N=L.insert("g").attr("class","inner");E=L.node().appendChild(_),N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),Nd[a.id]||(Nd[a.id]={}),Nd[a.id].startRight=L,mK(E,a.startLabelRight)}if(a.endLabelLeft){const _=hp(a.endLabelLeft,a.labelStyle),L=i.insert("g").attr("class","edgeTerminals"),N=L.insert("g").attr("class","inner");E=N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),L.node().appendChild(_),Nd[a.id]||(Nd[a.id]={}),Nd[a.id].endLeft=L,mK(E,a.endLabelLeft)}if(a.endLabelRight){const _=hp(a.endLabelRight,a.labelStyle),L=i.insert("g").attr("class","edgeTerminals"),N=L.insert("g").attr("class","inner");E=N.node().appendChild(_);const B=_.getBBox();N.attr("transform","translate("+-B.width/2+", "+-B.height/2+")"),L.node().appendChild(_),Nd[a.id]||(Nd[a.id]={}),Nd[a.id].endRight=L,mK(E,a.endLabelRight)}return p};function mK(i,a){Le().flowchart.htmlLabels&&i&&(i.style.width=a.length*9+"px",i.style.height="12px")}const S$e=(i,a)=>{Ut.info("Moving label abc78 ",i.id,i.label,wK[i.id]);let f=a.updatedPath?a.updatedPath:a.originalPath;if(i.label){const p=wK[i.id];let v=i.x,m=i.y;if(f){const b=$a.calcLabelPosition(f);Ut.info("Moving label "+i.label+" from (",v,",",m,") to (",b.x,",",b.y,") abc78"),a.updatedPath&&(v=b.x,m=b.y)}p.attr("transform","translate("+v+", "+m+")")}if(i.startLabelLeft){const p=Nd[i.id].startLeft;let v=i.x,m=i.y;if(f){const b=$a.calcTerminalLabelPosition(i.arrowTypeStart?10:0,"start_left",f);v=b.x,m=b.y}p.attr("transform","translate("+v+", "+m+")")}if(i.startLabelRight){const p=Nd[i.id].startRight;let v=i.x,m=i.y;if(f){const b=$a.calcTerminalLabelPosition(i.arrowTypeStart?10:0,"start_right",f);v=b.x,m=b.y}p.attr("transform","translate("+v+", "+m+")")}if(i.endLabelLeft){const p=Nd[i.id].endLeft;let v=i.x,m=i.y;if(f){const b=$a.calcTerminalLabelPosition(i.arrowTypeEnd?10:0,"end_left",f);v=b.x,m=b.y}p.attr("transform","translate("+v+", "+m+")")}if(i.endLabelRight){const p=Nd[i.id].endRight;let v=i.x,m=i.y;if(f){const b=$a.calcTerminalLabelPosition(i.arrowTypeEnd?10:0,"end_right",f);v=b.x,m=b.y}p.attr("transform","translate("+v+", "+m+")")}},A$e=(i,a)=>{const f=i.x,p=i.y,v=Math.abs(a.x-f),m=Math.abs(a.y-p),b=i.width/2,E=i.height/2;return v>=b||m>=E},L$e=(i,a,f)=>{Ut.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(a)}
  insidePoint : ${JSON.stringify(f)}
  node        : x:${i.x} y:${i.y} w:${i.width} h:${i.height}`);const p=i.x,v=i.y,m=Math.abs(p-f.x),b=i.width/2;let E=f.x<a.x?b-m:b+m;const _=i.height/2,L=Math.abs(a.y-f.y),N=Math.abs(a.x-f.x);if(Math.abs(v-a.y)*b>Math.abs(p-a.x)*_){let B=f.y<a.y?a.y-_-v:v-_-a.y;E=N*B/L;const j={x:f.x<a.x?f.x+E:f.x-N+E,y:f.y<a.y?f.y+L-B:f.y-L+B};return E===0&&(j.x=a.x,j.y=a.y),N===0&&(j.x=a.x),L===0&&(j.y=a.y),Ut.warn(`abc89 topp/bott calc, Q ${L}, q ${B}, R ${N}, r ${E}`,j),j}else{f.x<a.x?E=a.x-b-p:E=p-b-a.x;let B=L*E/N,j=f.x<a.x?f.x+N-E:f.x-N+E,R=f.y<a.y?f.y+B:f.y-B;return Ut.warn(`sides calc abc89, Q ${L}, q ${B}, R ${N}, r ${E}`,{_x:j,_y:R}),E===0&&(j=a.x,R=a.y),N===0&&(j=a.x),L===0&&(R=a.y),{x:j,y:R}}},_Bt=(i,a)=>{Ut.warn("abc88 cutPathAtIntersect",i,a);let f=[],p=i[0],v=!1;return i.forEach(m=>{if(Ut.info("abc88 checking point",m,a),!A$e(a,m)&&!v){const b=L$e(a,p,m);Ut.warn("abc88 inside",m,p,b),Ut.warn("abc88 intersection",b);let E=!1;f.forEach(_=>{E=E||_.x===b.x&&_.y===b.y}),f.some(_=>_.x===b.x&&_.y===b.y)?Ut.warn("abc88 no intersect",b,f):f.push(b),v=!0}else Ut.warn("abc88 outside",m,p),p=m,v||f.push(m)}),Ut.warn("abc88 returning points",f),f},M$e=function(i,a,f,p,v,m,b){let E=f.points,_=!1;const L=m.node(a.v);var N=m.node(a.w);Ut.info("abc88 InsertEdge: ",f),N.intersect&&L.intersect&&(E=E.slice(1,f.points.length-1),E.unshift(L.intersect(E[0])),Ut.info("Last point",E[E.length-1],N,N.intersect(E[E.length-1])),E.push(N.intersect(E[E.length-1]))),f.toCluster&&(Ut.info("to cluster abc88",p[f.toCluster]),E=_Bt(f.points,p[f.toCluster].node),_=!0),f.fromCluster&&(Ut.info("from cluster abc88",p[f.fromCluster]),E=_Bt(E.reverse(),p[f.fromCluster].node).reverse(),_=!0);const B=E.filter(mt=>!Number.isNaN(mt.y));let j=FN;f.curve&&(v==="graph"||v==="flowchart")&&(j=f.curve);const{x:R,y:z}=TBt(f),K=Z7().x(R).y(z).curve(j);let it;switch(f.thickness){case"normal":it="edge-thickness-normal";break;case"thick":it="edge-thickness-thick";break;case"invisible":it="edge-thickness-thick";break;default:it=""}switch(f.pattern){case"solid":it+=" edge-pattern-solid";break;case"dotted":it+=" edge-pattern-dotted";break;case"dashed":it+=" edge-pattern-dashed";break}const st=i.append("path").attr("d",K(B)).attr("id",f.id).attr("class"," "+it+(f.classes?" "+f.classes:"")).attr("style",f.style);let ut="";switch((Le().flowchart.arrowMarkerAbsolute||Le().state.arrowMarkerAbsolute)&&(ut=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,ut=ut.replace(/\(/g,"\\("),ut=ut.replace(/\)/g,"\\)")),Ut.info("arrowTypeStart",f.arrowTypeStart),Ut.info("arrowTypeEnd",f.arrowTypeEnd),f.arrowTypeStart){case"arrow_cross":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-crossStart)");break;case"arrow_point":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-pointStart)");break;case"arrow_barb":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-barbStart)");break;case"arrow_circle":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-circleStart)");break;case"aggregation":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-aggregationStart)");break;case"extension":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-extensionStart)");break;case"composition":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-compositionStart)");break;case"dependency":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-dependencyStart)");break;case"lollipop":st.attr("marker-start","url("+ut+"#"+b+"_"+v+"-lollipopStart)");break}switch(f.arrowTypeEnd){case"arrow_cross":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-crossEnd)");break;case"arrow_point":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-pointEnd)");break;case"arrow_barb":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-barbEnd)");break;case"arrow_circle":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-circleEnd)");break;case"aggregation":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-aggregationEnd)");break;case"extension":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-extensionEnd)");break;case"composition":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-compositionEnd)");break;case"dependency":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-dependencyEnd)");break;case"lollipop":st.attr("marker-end","url("+ut+"#"+b+"_"+v+"-lollipopEnd)");break}let bt={};return _&&(bt.updatedPath=E),bt.originalPath=f.points,bt},SBt=async(i,a,f,p,v)=>{Ut.info("Graph in recursive render: XXX",S5(a),v);const m=a.graph().rankdir;Ut.trace("Dir in recursive render - dir:",m);const b=i.insert("g").attr("class","root");a.nodes()?Ut.info("Recursive render XXX",a.nodes()):Ut.info("No nodes found for",a),a.edges().length>0&&Ut.trace("Recursive edges",a.edge(a.edges()[0]));const E=b.insert("g").attr("class","clusters"),_=b.insert("g").attr("class","edgePaths"),L=b.insert("g").attr("class","edgeLabels"),N=b.insert("g").attr("class","nodes");await Promise.all(a.nodes().map(async function(j){const R=a.node(j);if(v!==void 0){const z=JSON.parse(JSON.stringify(v.clusterData));Ut.info("Setting data for cluster XXX (",j,") ",z,v),a.setNode(v.id,z),a.parent(j)||(Ut.trace("Setting parent",j,v.id),a.setParent(j,v.id,z))}if(Ut.info("(Insert) Node XXX"+j+": "+JSON.stringify(a.node(j))),R&&R.clusterNode){Ut.info("Cluster identified",j,R.width,a.node(j));const z=await SBt(N,R.graph,f,p,a.node(j)),K=z.elem;Qh(R,K),R.diff=z.diff||0,Ut.info("Node bounds (abc123)",j,R,R.width,R.x,R.y),x$e(K,R),Ut.warn("Recursive render complete ",K,R)}else a.children(j).length>0?(Ut.info("Cluster - the non recursive path XXX",j,R.id,R,a),Ut.info(wP(R.id,a)),Ho[R.id]={id:wP(R.id,a),node:R}):(Ut.info("Node - the non recursive path",j,R.id,R),await xBt(N,a.node(j),m))})),a.edges().forEach(function(j){const R=a.edge(j.v,j.w,j.name);Ut.info("Edge "+j.v+" -> "+j.w+": "+JSON.stringify(j)),Ut.info("Edge "+j.v+" -> "+j.w+": ",j," ",JSON.stringify(a.edge(j))),Ut.info("Fix",Ho,"ids:",j.v,j.w,"Translateing: ",Ho[j.v],Ho[j.w]),CBt(L,R)}),a.edges().forEach(function(j){Ut.info("Edge "+j.v+" -> "+j.w+": "+JSON.stringify(j))}),Ut.info("#############################################"),Ut.info("###                Layout                 ###"),Ut.info("#############################################"),Ut.info(a),eL(a),Ut.info("Graph after layout:",S5(a));let B=0;return Zje(a).forEach(function(j){const R=a.node(j);Ut.info("Position "+j+": "+JSON.stringify(a.node(j))),Ut.info("Position "+j+": ("+R.x,","+R.y,") width: ",R.width," height: ",R.height),R&&R.clusterNode?kBt(R):a.children(j).length>0?(T$e(E,R),Ho[R.id].node=R):kBt(R)}),a.edges().forEach(function(j){const R=a.edge(j);Ut.info("Edge "+j.v+" -> "+j.w+": "+JSON.stringify(R),R);const z=M$e(_,j,R,Ho,f,a,p);S$e(R,z)}),a.nodes().forEach(function(j){const R=a.node(j);Ut.info(j,R.type,R.diff),R.type==="group"&&(B=R.diff)}),{elem:b,diff:B}},I0t=async(i,a,f,p,v)=>{IFt(i,f,p,v),k$e(),_$e(),C$e(),Yje(),Ut.warn("Graph at first:",JSON.stringify(S5(a))),Qje(a),Ut.warn("Graph after:",JSON.stringify(S5(a))),await SBt(i,a,p,v)},ABt={},I$e=function(i){const a=Object.keys(i);for(const f of a)ABt[f]=i[f]},LBt=function(i,a,f,p,v,m){const b=p.select(`[id="${f}"]`);Object.keys(i).forEach(function(_){const L=i[_];let N="default";L.classes.length>0&&(N=L.classes.join(" ")),N=N+" flowchart-label";const B=em(L.styles);let j=L.text!==void 0?L.text:L.id,R;if(Ut.info("vertex",L,L.labelType),L.labelType==="markdown")Ut.info("vertex",L,L.labelType);else if(s1(Le().flowchart.htmlLabels)){const it={label:j.replace(/fa[blrs]?:fa-[\w-]+/g,st=>`<i class='${st.replace(":"," ")}'></i>`)};R=d0t(b,it).node(),R.parentNode.removeChild(R)}else{const it=v.createElementNS("http://www.w3.org/2000/svg","text");it.setAttribute("style",B.labelStyle.replace("color:","fill:"));const st=j.split(Yr.lineBreakRegex);for(const ut of st){const bt=v.createElementNS("http://www.w3.org/2000/svg","tspan");bt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),bt.setAttribute("dy","1em"),bt.setAttribute("x","1"),bt.textContent=ut,it.appendChild(bt)}R=it}let z=0,K="";switch(L.type){case"round":z=5,K="rect";break;case"square":K="rect";break;case"diamond":K="question";break;case"hexagon":K="hexagon";break;case"odd":K="rect_left_inv_arrow";break;case"lean_right":K="lean_right";break;case"lean_left":K="lean_left";break;case"trapezoid":K="trapezoid";break;case"inv_trapezoid":K="inv_trapezoid";break;case"odd_right":K="rect_left_inv_arrow";break;case"circle":K="circle";break;case"ellipse":K="ellipse";break;case"stadium":K="stadium";break;case"subroutine":K="subroutine";break;case"cylinder":K="cylinder";break;case"group":K="rect";break;case"doublecircle":K="doublecircle";break;default:K="rect"}a.setNode(L.id,{labelStyle:B.labelStyle,shape:K,labelText:j,labelType:L.labelType,rx:z,ry:z,class:N,style:B.style,id:L.id,link:L.link,linkTarget:L.linkTarget,tooltip:m.db.getTooltip(L.id)||"",domId:m.db.lookUpDomId(L.id),haveCallback:L.haveCallback,width:L.type==="group"?500:void 0,dir:L.dir,type:L.type,props:L.props,padding:Le().flowchart.padding}),Ut.info("setNode",{labelStyle:B.labelStyle,labelType:L.labelType,shape:K,labelText:j,rx:z,ry:z,class:N,style:B.style,id:L.id,domId:m.db.lookUpDomId(L.id),width:L.type==="group"?500:void 0,type:L.type,dir:L.dir,props:L.props,padding:Le().flowchart.padding})})},MBt=function(i,a,f){Ut.info("abc78 edges = ",i);let p=0,v={},m,b;if(i.defaultStyle!==void 0){const E=em(i.defaultStyle);m=E.style,b=E.labelStyle}i.forEach(function(E){p++;const _="L-"+E.start+"-"+E.end;v[_]===void 0?(v[_]=0,Ut.info("abc78 new entry",_,v[_])):(v[_]++,Ut.info("abc78 new entry",_,v[_]));let L=_+"-"+v[_];Ut.info("abc78 new link id to be used is",_,L,v[_]);const N="LS-"+E.start,B="LE-"+E.end,j={style:"",labelStyle:""};switch(j.minlen=E.length||1,E.type==="arrow_open"?j.arrowhead="none":j.arrowhead="normal",j.arrowTypeStart="arrow_open",j.arrowTypeEnd="arrow_open",E.type){case"double_arrow_cross":j.arrowTypeStart="arrow_cross";case"arrow_cross":j.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":j.arrowTypeStart="arrow_point";case"arrow_point":j.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":j.arrowTypeStart="arrow_circle";case"arrow_circle":j.arrowTypeEnd="arrow_circle";break}let R="",z="";switch(E.stroke){case"normal":R="fill:none;",m!==void 0&&(R=m),b!==void 0&&(z=b),j.thickness="normal",j.pattern="solid";break;case"dotted":j.thickness="normal",j.pattern="dotted",j.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":j.thickness="thick",j.pattern="solid",j.style="stroke-width: 3.5px;fill:none;";break;case"invisible":j.thickness="invisible",j.pattern="solid",j.style="stroke-width: 0;fill:none;";break}if(E.style!==void 0){const K=em(E.style);R=K.style,z=K.labelStyle}j.style=j.style+=R,j.labelStyle=j.labelStyle+=z,E.interpolate!==void 0?j.curve=X2(E.interpolate,ig):i.defaultInterpolate!==void 0?j.curve=X2(i.defaultInterpolate,ig):j.curve=X2(ABt.curve,ig),E.text===void 0?E.style!==void 0&&(j.arrowheadStyle="fill: #333"):(j.arrowheadStyle="fill: #333",j.labelpos="c"),j.labelType=E.labelType,j.label=E.text.replace(Yr.lineBreakRegex,`
`),E.style===void 0&&(j.style=j.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),j.labelStyle=j.labelStyle.replace("color:","fill:"),j.id=L,j.classes="flowchart-link "+N+" "+B,a.setEdge(E.start,E.end,j,p)})},D0t={setConf:I$e,addVertices:LBt,addEdges:MBt,getClasses:function(i,a){return a.db.getClasses()},draw:async function(i,a,f,p){Ut.info("Drawing flowchart");let v=p.db.getDirection();v===void 0&&(v="TD");const{securityLevel:m,flowchart:b}=Le(),E=b.nodeSpacing||50,_=b.rankSpacing||50;let L;m==="sandbox"&&(L=yr("#i"+a));const N=yr(m==="sandbox"?L.nodes()[0].contentDocument.body:"body"),B=m==="sandbox"?L.nodes()[0].contentDocument:document,j=new a1({multigraph:!0,compound:!0}).setGraph({rankdir:v,nodesep:E,ranksep:_,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let R;const z=p.db.getSubGraphs();Ut.info("Subgraphs - ",z);for(let yt=z.length-1;yt>=0;yt--)R=z[yt],Ut.info("Subgraph - ",R),p.db.addVertex(R.id,{text:R.title,type:R.labelType},"group",void 0,R.classes,R.dir);const K=p.db.getVertices(),it=p.db.getEdges();Ut.info("Edges",it);let st=0;for(st=z.length-1;st>=0;st--){R=z[st],ZLt("cluster").append("text");for(let yt=0;yt<R.nodes.length;yt++)Ut.info("Setting up subgraphs",R.nodes[yt],R.id),j.setParent(R.nodes[yt],R.id)}LBt(K,j,a,N,B,p),MBt(it,j);const ut=N.select(`[id="${a}"]`),bt=N.select("#"+a+" g");if(await I0t(bt,j,["point","circle","cross"],"flowchart",a),$a.insertTitle(ut,"flowchartTitleText",b.titleTopMargin,p.db.getDiagramTitle()),cT(j,ut,b.diagramPadding,b.useMaxWidth),p.db.indexNodes("subGraph"+st),!b.htmlLabels){const yt=B.querySelectorAll('[id="'+a+'"] .edgeLabel .label');for(const dt of yt){const ht=dt.getBBox(),wt=B.createElementNS("http://www.w3.org/2000/svg","rect");wt.setAttribute("rx",0),wt.setAttribute("ry",0),wt.setAttribute("width",ht.width),wt.setAttribute("height",ht.height),dt.insertBefore(wt,dt.firstChild)}}Object.keys(K).forEach(function(yt){const dt=K[yt];if(dt.link){const ht=yr("#"+a+' [id="'+yt+'"]');if(ht){const wt=B.createElementNS("http://www.w3.org/2000/svg","a");wt.setAttributeNS("http://www.w3.org/2000/svg","class",dt.classes.join(" ")),wt.setAttributeNS("http://www.w3.org/2000/svg","href",dt.link),wt.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),m==="sandbox"?wt.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):dt.linkTarget&&wt.setAttributeNS("http://www.w3.org/2000/svg","target",dt.linkTarget);const X=ht.insert(function(){return wt},":first-child"),pt=ht.select(".label-container");pt&&X.append(function(){return pt.node()});const U=ht.select(".label");U&&X.append(function(){return U.node()})}}})}},D$e=(i,a)=>{const f=jTe,p=f(i,"r"),v=f(i,"g"),m=f(i,"b");return IA(p,v,m,a)},IBt=i=>`.label {
    font-family: ${i.fontFamily};
    color: ${i.nodeTextColor||i.textColor};
  }
  .cluster-label text {
    fill: ${i.titleColor};
  }
  .cluster-label span,p {
    color: ${i.titleColor};
  }

  .label text,span,p {
    fill: ${i.nodeTextColor||i.textColor};
    color: ${i.nodeTextColor||i.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${i.mainBkg};
    stroke: ${i.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${i.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${i.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${i.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${i.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${i.edgeLabelBackground};
      fill: ${i.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${D$e(i.edgeLabelBackground,.5)};
    // background-color: 
  }

  .cluster rect {
    fill: ${i.clusterBkg};
    stroke: ${i.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${i.titleColor};
  }

  .cluster span,p {
    color: ${i.titleColor};
  }
  /* .cluster div {
    color: ${i.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${i.fontFamily};
    font-size: 12px;
    background: ${i.tertiaryColor};
    border: 1px solid ${i.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${i.textColor};
  }
`,O$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:$dt,db:gT,renderer:D0t,styles:IBt,init:i=>{i.flowchart||(i.flowchart={}),i.flowchart.arrowMarkerAbsolute=i.arrowMarkerAbsolute,$Be.setConf(i.flowchart),gT.clear(),gT.setGen("gen-1")}}},Symbol.toStringTag,{value:"Module"})),N$e=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:$dt,db:gT,renderer:D0t,styles:IBt,init:i=>{i.flowchart||(i.flowchart={}),i.flowchart.arrowMarkerAbsolute=i.arrowMarkerAbsolute,iOt({flowchart:{arrowMarkerAbsolute:i.arrowMarkerAbsolute}}),D0t.setConf(i.flowchart),gT.clear(),gT.setGen("gen-2")}}},Symbol.toStringTag,{value:"Module"}));var O0t=function(){var i=function(wt,X,pt,U){for(pt=pt||{},U=wt.length;U--;pt[wt[U]]=X);return pt},a=[6,8,10,20,22,24,26,27,28],f=[1,10],p=[1,11],v=[1,12],m=[1,13],b=[1,14],E=[1,15],_=[1,21],L=[1,22],N=[1,23],B=[1,24],j=[1,25],R=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],z=[1,34],K=[27,28,46,47],it=[41,42,43,44,45],st=[17,34],ut=[1,54],bt=[1,53],mt=[17,34,36,38],yt={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:function(X,pt,U,xt,nt,Ot,Nt){var qt=Ot.length-1;switch(nt){case 1:break;case 2:this.$=[];break;case 3:Ot[qt-1].push(Ot[qt]),this.$=Ot[qt-1];break;case 4:case 5:this.$=Ot[qt];break;case 6:case 7:this.$=[];break;case 8:xt.addEntity(Ot[qt-4]),xt.addEntity(Ot[qt-2]),xt.addRelationship(Ot[qt-4],Ot[qt],Ot[qt-2],Ot[qt-3]);break;case 9:xt.addEntity(Ot[qt-3]),xt.addAttributes(Ot[qt-3],Ot[qt-1]);break;case 10:xt.addEntity(Ot[qt-2]);break;case 11:xt.addEntity(Ot[qt]);break;case 12:xt.addEntity(Ot[qt-6],Ot[qt-4]),xt.addAttributes(Ot[qt-6],Ot[qt-1]);break;case 13:xt.addEntity(Ot[qt-5],Ot[qt-3]);break;case 14:xt.addEntity(Ot[qt-3],Ot[qt-1]);break;case 15:case 16:this.$=Ot[qt].trim(),xt.setAccTitle(this.$);break;case 17:case 18:this.$=Ot[qt].trim(),xt.setAccDescription(this.$);break;case 19:case 43:this.$=Ot[qt];break;case 20:case 41:case 42:this.$=Ot[qt].replace(/"/g,"");break;case 21:case 29:this.$=[Ot[qt]];break;case 22:Ot[qt].push(Ot[qt-1]),this.$=Ot[qt];break;case 23:this.$={attributeType:Ot[qt-1],attributeName:Ot[qt]};break;case 24:this.$={attributeType:Ot[qt-2],attributeName:Ot[qt-1],attributeKeyTypeList:Ot[qt]};break;case 25:this.$={attributeType:Ot[qt-2],attributeName:Ot[qt-1],attributeComment:Ot[qt]};break;case 26:this.$={attributeType:Ot[qt-3],attributeName:Ot[qt-2],attributeKeyTypeList:Ot[qt-1],attributeComment:Ot[qt]};break;case 27:case 28:case 31:this.$=Ot[qt];break;case 30:Ot[qt-2].push(Ot[qt]),this.$=Ot[qt-2];break;case 32:this.$=Ot[qt].replace(/"/g,"");break;case 33:this.$={cardA:Ot[qt],relType:Ot[qt-1],cardB:Ot[qt-2]};break;case 34:this.$=xt.Cardinality.ZERO_OR_ONE;break;case 35:this.$=xt.Cardinality.ZERO_OR_MORE;break;case 36:this.$=xt.Cardinality.ONE_OR_MORE;break;case 37:this.$=xt.Cardinality.ONLY_ONE;break;case 38:this.$=xt.Cardinality.MD_PARENT;break;case 39:this.$=xt.Identification.NON_IDENTIFYING;break;case 40:this.$=xt.Identification.IDENTIFYING;break}},table:[{3:1,4:[1,2]},{1:[3]},i(a,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:f,22:p,24:v,26:m,27:b,28:E},i(a,[2,7],{1:[2,1]}),i(a,[2,3]),{9:16,11:9,20:f,22:p,24:v,26:m,27:b,28:E},i(a,[2,5]),i(a,[2,6]),i(a,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:_,42:L,43:N,44:B,45:j}),{21:[1,26]},{23:[1,27]},{25:[1,28]},i(a,[2,18]),i(R,[2,19]),i(R,[2,20]),i(a,[2,4]),{11:29,27:b,28:E},{16:30,17:[1,31],29:32,30:33,34:z},{11:35,27:b,28:E},{40:36,46:[1,37],47:[1,38]},i(K,[2,34]),i(K,[2,35]),i(K,[2,36]),i(K,[2,37]),i(K,[2,38]),i(a,[2,15]),i(a,[2,16]),i(a,[2,17]),{13:[1,39]},{17:[1,40]},i(a,[2,10]),{16:41,17:[2,21],29:32,30:33,34:z},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:_,42:L,43:N,44:B,45:j},i(it,[2,39]),i(it,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},i(a,[2,9]),{17:[2,22]},i(st,[2,23],{32:50,33:51,35:52,37:ut,38:bt}),i([17,34,37,38],[2,28]),i(a,[2,14],{15:[1,55]}),i([27,28],[2,33]),i(a,[2,8]),i(a,[2,41]),i(a,[2,42]),i(a,[2,43]),i(st,[2,24],{33:56,36:[1,57],38:bt}),i(st,[2,25]),i(mt,[2,29]),i(st,[2,32]),i(mt,[2,31]),{16:58,17:[1,59],29:32,30:33,34:z},i(st,[2,26]),{35:60,37:ut},{17:[1,61]},i(a,[2,13]),i(mt,[2,30]),i(a,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:function(X,pt){if(pt.recoverable)this.trace(X);else{var U=new Error(X);throw U.hash=pt,U}},parse:function(X){var pt=this,U=[0],xt=[],nt=[null],Ot=[],Nt=this.table,qt="",Ct=0,Z=0,Tt=2,Ht=1,It=Ot.slice.call(arguments,1),Ft=Object.create(this.lexer),ke={yy:{}};for(var pn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pn)&&(ke.yy[pn]=this.yy[pn]);Ft.setInput(X,ke.yy),ke.yy.lexer=Ft,ke.yy.parser=this,typeof Ft.yylloc>"u"&&(Ft.yylloc={});var Me=Ft.yylloc;Ot.push(Me);var ve=Ft.options&&Ft.options.ranges;typeof ke.yy.parseError=="function"?this.parseError=ke.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ge(){var cn;return cn=xt.pop()||Ft.lex()||Ht,typeof cn!="number"&&(cn instanceof Array&&(xt=cn,cn=xt.pop()),cn=pt.symbols_[cn]||cn),cn}for(var Ke,we,_e,$t,re={},ie,Oe,oe,Ne;;){if(we=U[U.length-1],this.defaultActions[we]?_e=this.defaultActions[we]:((Ke===null||typeof Ke>"u")&&(Ke=Ge()),_e=Nt[we]&&Nt[we][Ke]),typeof _e>"u"||!_e.length||!_e[0]){var me="";Ne=[];for(ie in Nt[we])this.terminals_[ie]&&ie>Tt&&Ne.push("'"+this.terminals_[ie]+"'");Ft.showPosition?me="Parse error on line "+(Ct+1)+`:
`+Ft.showPosition()+`
Expecting `+Ne.join(", ")+", got '"+(this.terminals_[Ke]||Ke)+"'":me="Parse error on line "+(Ct+1)+": Unexpected "+(Ke==Ht?"end of input":"'"+(this.terminals_[Ke]||Ke)+"'"),this.parseError(me,{text:Ft.match,token:this.terminals_[Ke]||Ke,line:Ft.yylineno,loc:Me,expected:Ne})}if(_e[0]instanceof Array&&_e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+we+", token: "+Ke);switch(_e[0]){case 1:U.push(Ke),nt.push(Ft.yytext),Ot.push(Ft.yylloc),U.push(_e[1]),Ke=null,Z=Ft.yyleng,qt=Ft.yytext,Ct=Ft.yylineno,Me=Ft.yylloc;break;case 2:if(Oe=this.productions_[_e[1]][1],re.$=nt[nt.length-Oe],re._$={first_line:Ot[Ot.length-(Oe||1)].first_line,last_line:Ot[Ot.length-1].last_line,first_column:Ot[Ot.length-(Oe||1)].first_column,last_column:Ot[Ot.length-1].last_column},ve&&(re._$.range=[Ot[Ot.length-(Oe||1)].range[0],Ot[Ot.length-1].range[1]]),$t=this.performAction.apply(re,[qt,Z,Ct,ke.yy,_e[1],nt,Ot].concat(It)),typeof $t<"u")return $t;Oe&&(U=U.slice(0,-1*Oe*2),nt=nt.slice(0,-1*Oe),Ot=Ot.slice(0,-1*Oe)),U.push(this.productions_[_e[1]][0]),nt.push(re.$),Ot.push(re._$),oe=Nt[U[U.length-2]][U[U.length-1]],U.push(oe);break;case 3:return!0}}return!0}},dt=function(){var wt={EOF:1,parseError:function(pt,U){if(this.yy.parser)this.yy.parser.parseError(pt,U);else throw new Error(pt)},setInput:function(X,pt){return this.yy=pt||this.yy||{},this._input=X,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var X=this._input[0];this.yytext+=X,this.yyleng++,this.offset++,this.match+=X,this.matched+=X;var pt=X.match(/(?:\r\n?|\n).*/g);return pt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),X},unput:function(X){var pt=X.length,U=X.split(/(?:\r\n?|\n)/g);this._input=X+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-pt),this.offset-=pt;var xt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),U.length-1&&(this.yylineno-=U.length-1);var nt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:U?(U.length===xt.length?this.yylloc.first_column:0)+xt[xt.length-U.length].length-U[0].length:this.yylloc.first_column-pt},this.options.ranges&&(this.yylloc.range=[nt[0],nt[0]+this.yyleng-pt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(X){this.unput(this.match.slice(X))},pastInput:function(){var X=this.matched.substr(0,this.matched.length-this.match.length);return(X.length>20?"...":"")+X.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var X=this.match;return X.length<20&&(X+=this._input.substr(0,20-X.length)),(X.substr(0,20)+(X.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var X=this.pastInput(),pt=new Array(X.length+1).join("-");return X+this.upcomingInput()+`
`+pt+"^"},test_match:function(X,pt){var U,xt,nt;if(this.options.backtrack_lexer&&(nt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(nt.yylloc.range=this.yylloc.range.slice(0))),xt=X[0].match(/(?:\r\n?|\n).*/g),xt&&(this.yylineno+=xt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xt?xt[xt.length-1].length-xt[xt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+X[0].length},this.yytext+=X[0],this.match+=X[0],this.matches=X,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(X[0].length),this.matched+=X[0],U=this.performAction.call(this,this.yy,this,pt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),U)return U;if(this._backtrack){for(var Ot in nt)this[Ot]=nt[Ot];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var X,pt,U,xt;this._more||(this.yytext="",this.match="");for(var nt=this._currentRules(),Ot=0;Ot<nt.length;Ot++)if(U=this._input.match(this.rules[nt[Ot]]),U&&(!pt||U[0].length>pt[0].length)){if(pt=U,xt=Ot,this.options.backtrack_lexer){if(X=this.test_match(U,nt[Ot]),X!==!1)return X;if(this._backtrack){pt=!1;continue}else return!1}else if(!this.options.flex)break}return pt?(X=this.test_match(pt,nt[xt]),X!==!1?X:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var pt=this.next();return pt||this.lex()},begin:function(pt){this.conditionStack.push(pt)},popState:function(){var pt=this.conditionStack.length-1;return pt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(pt){return pt=this.conditionStack.length-1-Math.abs(pt||0),pt>=0?this.conditionStack[pt]:"INITIAL"},pushState:function(pt){this.begin(pt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(pt,U,xt,nt){switch(xt){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return U.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return U.yytext[0];case 55:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return wt}();yt.lexer=dt;function ht(){this.yy={}}return ht.prototype=yt,yt.Parser=ht,new ht}();O0t.parser=O0t;const P$e=O0t;let hk={},N0t=[];const F$e={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},B$e={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},DBt=function(i,a=void 0){return hk[i]===void 0?(hk[i]={attributes:[],alias:a},Ut.info("Added new entity :",i)):hk[i]&&!hk[i].alias&&a&&(hk[i].alias=a,Ut.info(`Add alias '${a}' to entity '${i}'`)),hk[i]},R$e={Cardinality:F$e,Identification:B$e,getConfig:()=>Le().er,addEntity:DBt,addAttributes:function(i,a){let f=DBt(i),p;for(p=a.length-1;p>=0;p--)f.attributes.push(a[p]),Ut.debug("Added attribute ",a[p].attributeName)},getEntities:()=>hk,addRelationship:function(i,a,f,p){let v={entityA:i,roleA:a,entityB:f,relSpec:p};N0t.push(v),Ut.debug("Added new relationship :",v)},getRelationships:()=>N0t,clear:function(){hk={},N0t=[],ap()},setAccTitle:cg,getAccTitle:op,setAccDescription:cp,getAccDescription:up,setDiagramTitle:Z2,getDiagramTitle:Db},um={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},lm={ERMarkers:um,insertMarkers:function(i,a){let f;i.append("defs").append("marker").attr("id",um.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id",um.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id",um.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),i.append("defs").append("marker").attr("id",um.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),f=i.append("defs").append("marker").attr("id",um.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),f.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),f.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M9,0 L9,18"),f=i.append("defs").append("marker").attr("id",um.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),f.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),f.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M21,0 L21,18"),i.append("defs").append("marker").attr("id",um.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),i.append("defs").append("marker").attr("id",um.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),f=i.append("defs").append("marker").attr("id",um.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),f.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),f.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),f=i.append("defs").append("marker").attr("id",um.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),f.append("circle").attr("stroke",a.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),f.append("path").attr("stroke",a.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}},j$e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $$e(i){return typeof i=="string"&&j$e.test(i)}const Pd=[];for(let i=0;i<256;++i)Pd.push((i+256).toString(16).slice(1));function z$e(i,a=0){return(Pd[i[a+0]]+Pd[i[a+1]]+Pd[i[a+2]]+Pd[i[a+3]]+"-"+Pd[i[a+4]]+Pd[i[a+5]]+"-"+Pd[i[a+6]]+Pd[i[a+7]]+"-"+Pd[i[a+8]]+Pd[i[a+9]]+"-"+Pd[i[a+10]]+Pd[i[a+11]]+Pd[i[a+12]]+Pd[i[a+13]]+Pd[i[a+14]]+Pd[i[a+15]]).toLowerCase()}function q$e(i){if(!$$e(i))throw TypeError("Invalid UUID");let a;const f=new Uint8Array(16);return f[0]=(a=parseInt(i.slice(0,8),16))>>>24,f[1]=a>>>16&255,f[2]=a>>>8&255,f[3]=a&255,f[4]=(a=parseInt(i.slice(9,13),16))>>>8,f[5]=a&255,f[6]=(a=parseInt(i.slice(14,18),16))>>>8,f[7]=a&255,f[8]=(a=parseInt(i.slice(19,23),16))>>>8,f[9]=a&255,f[10]=(a=parseInt(i.slice(24,36),16))/1099511627776&255,f[11]=a/4294967296&255,f[12]=a>>>24&255,f[13]=a>>>16&255,f[14]=a>>>8&255,f[15]=a&255,f}function H$e(i){i=unescape(encodeURIComponent(i));const a=[];for(let f=0;f<i.length;++f)a.push(i.charCodeAt(f));return a}const G$e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",V$e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function U$e(i,a,f){function p(v,m,b,E){var _;if(typeof v=="string"&&(v=H$e(v)),typeof m=="string"&&(m=q$e(m)),((_=m)===null||_===void 0?void 0:_.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let L=new Uint8Array(16+v.length);if(L.set(m),L.set(v,m.length),L=f(L),L[6]=L[6]&15|a,L[8]=L[8]&63|128,b){E=E||0;for(let N=0;N<16;++N)b[E+N]=L[N];return b}return z$e(L)}try{p.name=i}catch{}return p.DNS=G$e,p.URL=V$e,p}function W$e(i,a,f,p){switch(i){case 0:return a&f^~a&p;case 1:return a^f^p;case 2:return a&f^a&p^f&p;case 3:return a^f^p}}function P0t(i,a){return i<<a|i>>>32-a}function K$e(i){const a=[1518500249,1859775393,2400959708,3395469782],f=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const b=unescape(encodeURIComponent(i));i=[];for(let E=0;E<b.length;++E)i.push(b.charCodeAt(E))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const p=i.length/4+2,v=Math.ceil(p/16),m=new Array(v);for(let b=0;b<v;++b){const E=new Uint32Array(16);for(let _=0;_<16;++_)E[_]=i[b*64+_*4]<<24|i[b*64+_*4+1]<<16|i[b*64+_*4+2]<<8|i[b*64+_*4+3];m[b]=E}m[v-1][14]=(i.length-1)*8/Math.pow(2,32),m[v-1][14]=Math.floor(m[v-1][14]),m[v-1][15]=(i.length-1)*8&4294967295;for(let b=0;b<v;++b){const E=new Uint32Array(80);for(let R=0;R<16;++R)E[R]=m[b][R];for(let R=16;R<80;++R)E[R]=P0t(E[R-3]^E[R-8]^E[R-14]^E[R-16],1);let _=f[0],L=f[1],N=f[2],B=f[3],j=f[4];for(let R=0;R<80;++R){const z=Math.floor(R/20),K=P0t(_,5)+W$e(z,L,N,B)+j+a[z]+E[R]>>>0;j=B,B=N,N=P0t(L,30)>>>0,L=_,_=K}f[0]=f[0]+_>>>0,f[1]=f[1]+L>>>0,f[2]=f[2]+N>>>0,f[3]=f[3]+B>>>0,f[4]=f[4]+j>>>0}return[f[0]>>24&255,f[0]>>16&255,f[0]>>8&255,f[0]&255,f[1]>>24&255,f[1]>>16&255,f[1]>>8&255,f[1]&255,f[2]>>24&255,f[2]>>16&255,f[2]>>8&255,f[2]&255,f[3]>>24&255,f[3]>>16&255,f[3]>>8&255,f[3]&255,f[4]>>24&255,f[4]>>16&255,f[4]>>8&255,f[4]&255]}const Y$e=U$e("v5",80,K$e),X$e=/[^\dA-Za-z](\W)*/g;let o1={},yP=new Map;const Q$e=function(i){const a=Object.keys(i);for(const f of a)o1[f]=i[f]},Z$e=(i,a,f)=>{const p=o1.entityPadding/3,v=o1.entityPadding/3,m=o1.fontSize*.85,b=a.node().getBBox(),E=[];let _=!1,L=!1,N=0,B=0,j=0,R=0,z=b.height+p*2,K=1;f.forEach(bt=>{bt.attributeKeyTypeList!==void 0&&bt.attributeKeyTypeList.length>0&&(_=!0),bt.attributeComment!==void 0&&(L=!0)}),f.forEach(bt=>{const mt=`${a.node().id}-attr-${K}`;let yt=0;const dt=zN(bt.attributeType),ht=i.append("text").classed("er entityLabel",!0).attr("id",`${mt}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Le().fontFamily).style("font-size",m+"px").text(dt),wt=i.append("text").classed("er entityLabel",!0).attr("id",`${mt}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Le().fontFamily).style("font-size",m+"px").text(bt.attributeName),X={};X.tn=ht,X.nn=wt;const pt=ht.node().getBBox(),U=wt.node().getBBox();if(N=Math.max(N,pt.width),B=Math.max(B,U.width),yt=Math.max(pt.height,U.height),_){const xt=bt.attributeKeyTypeList!==void 0?bt.attributeKeyTypeList.join(","):"",nt=i.append("text").classed("er entityLabel",!0).attr("id",`${mt}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Le().fontFamily).style("font-size",m+"px").text(xt);X.kn=nt;const Ot=nt.node().getBBox();j=Math.max(j,Ot.width),yt=Math.max(yt,Ot.height)}if(L){const xt=i.append("text").classed("er entityLabel",!0).attr("id",`${mt}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Le().fontFamily).style("font-size",m+"px").text(bt.attributeComment||"");X.cn=xt;const nt=xt.node().getBBox();R=Math.max(R,nt.width),yt=Math.max(yt,nt.height)}X.height=yt,E.push(X),z+=yt+p*2,K+=1});let it=4;_&&(it+=2),L&&(it+=2);const st=N+B+j+R,ut={width:Math.max(o1.minEntityWidth,Math.max(b.width+o1.entityPadding*2,st+v*it)),height:f.length>0?z:Math.max(o1.minEntityHeight,b.height+o1.entityPadding*2)};if(f.length>0){const bt=Math.max(0,(ut.width-st-v*it)/(it/2));a.attr("transform","translate("+ut.width/2+","+(p+b.height/2)+")");let mt=b.height+p*2,yt="attributeBoxOdd";E.forEach(dt=>{const ht=mt+p+dt.height/2;dt.tn.attr("transform","translate("+v+","+ht+")");const wt=i.insert("rect","#"+dt.tn.node().id).classed(`er ${yt}`,!0).attr("x",0).attr("y",mt).attr("width",N+v*2+bt).attr("height",dt.height+p*2),X=parseFloat(wt.attr("x"))+parseFloat(wt.attr("width"));dt.nn.attr("transform","translate("+(X+v)+","+ht+")");const pt=i.insert("rect","#"+dt.nn.node().id).classed(`er ${yt}`,!0).attr("x",X).attr("y",mt).attr("width",B+v*2+bt).attr("height",dt.height+p*2);let U=parseFloat(pt.attr("x"))+parseFloat(pt.attr("width"));if(_){dt.kn.attr("transform","translate("+(U+v)+","+ht+")");const xt=i.insert("rect","#"+dt.kn.node().id).classed(`er ${yt}`,!0).attr("x",U).attr("y",mt).attr("width",j+v*2+bt).attr("height",dt.height+p*2);U=parseFloat(xt.attr("x"))+parseFloat(xt.attr("width"))}L&&(dt.cn.attr("transform","translate("+(U+v)+","+ht+")"),i.insert("rect","#"+dt.cn.node().id).classed(`er ${yt}`,"true").attr("x",U).attr("y",mt).attr("width",R+v*2+bt).attr("height",dt.height+p*2)),mt+=dt.height+p*2,yt=yt==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else ut.height=Math.max(o1.minEntityHeight,z),a.attr("transform","translate("+ut.width/2+","+ut.height/2+")");return ut},J$e=function(i,a,f){const p=Object.keys(a);let v;return p.forEach(function(m){const b=sze(m,"entity");yP.set(m,b);const E=i.append("g").attr("id",b);v=v===void 0?b:v;const _="text-"+b,L=E.append("text").classed("er entityLabel",!0).attr("id",_).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Le().fontFamily).style("font-size",o1.fontSize+"px").text(a[m].alias??m),{width:N,height:B}=Z$e(E,L,a[m].attributes),R=E.insert("rect","#"+_).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",N).attr("height",B).node().getBBox();f.setNode(b,{width:R.width,height:R.height,shape:"rect",id:b})}),v},tze=function(i,a){a.nodes().forEach(function(f){f!==void 0&&a.node(f)!==void 0&&i.select("#"+f).attr("transform","translate("+(a.node(f).x-a.node(f).width/2)+","+(a.node(f).y-a.node(f).height/2)+" )")})},OBt=function(i){return(i.entityA+i.roleA+i.entityB).replace(/\s/g,"")},eze=function(i,a){return i.forEach(function(f){a.setEdge(yP.get(f.entityA),yP.get(f.entityB),{relationship:f},OBt(f))}),i};let NBt=0;const nze=function(i,a,f,p,v){NBt++;const m=f.edge(yP.get(a.entityA),yP.get(a.entityB),OBt(a)),b=Z7().x(function(z){return z.x}).y(function(z){return z.y}).curve(FN),E=i.insert("path","#"+p).classed("er relationshipLine",!0).attr("d",b(m.points)).style("stroke",o1.stroke).style("fill","none");a.relSpec.relType===v.db.Identification.NON_IDENTIFYING&&E.attr("stroke-dasharray","8,8");let _="";switch(o1.arrowMarkerAbsolute&&(_=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,_=_.replace(/\(/g,"\\("),_=_.replace(/\)/g,"\\)")),a.relSpec.cardA){case v.db.Cardinality.ZERO_OR_ONE:E.attr("marker-end","url("+_+"#"+lm.ERMarkers.ZERO_OR_ONE_END+")");break;case v.db.Cardinality.ZERO_OR_MORE:E.attr("marker-end","url("+_+"#"+lm.ERMarkers.ZERO_OR_MORE_END+")");break;case v.db.Cardinality.ONE_OR_MORE:E.attr("marker-end","url("+_+"#"+lm.ERMarkers.ONE_OR_MORE_END+")");break;case v.db.Cardinality.ONLY_ONE:E.attr("marker-end","url("+_+"#"+lm.ERMarkers.ONLY_ONE_END+")");break;case v.db.Cardinality.MD_PARENT:E.attr("marker-end","url("+_+"#"+lm.ERMarkers.MD_PARENT_END+")");break}switch(a.relSpec.cardB){case v.db.Cardinality.ZERO_OR_ONE:E.attr("marker-start","url("+_+"#"+lm.ERMarkers.ZERO_OR_ONE_START+")");break;case v.db.Cardinality.ZERO_OR_MORE:E.attr("marker-start","url("+_+"#"+lm.ERMarkers.ZERO_OR_MORE_START+")");break;case v.db.Cardinality.ONE_OR_MORE:E.attr("marker-start","url("+_+"#"+lm.ERMarkers.ONE_OR_MORE_START+")");break;case v.db.Cardinality.ONLY_ONE:E.attr("marker-start","url("+_+"#"+lm.ERMarkers.ONLY_ONE_START+")");break;case v.db.Cardinality.MD_PARENT:E.attr("marker-start","url("+_+"#"+lm.ERMarkers.MD_PARENT_START+")");break}const L=E.node().getTotalLength(),N=E.node().getPointAtLength(L*.5),B="rel"+NBt,R=i.append("text").classed("er relationshipLabel",!0).attr("id",B).attr("x",N.x).attr("y",N.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Le().fontFamily).style("font-size",o1.fontSize+"px").text(a.roleA).node().getBBox();i.insert("rect","#"+B).classed("er relationshipLabelBox",!0).attr("x",N.x-R.width/2).attr("y",N.y-R.height/2).attr("width",R.width).attr("height",R.height)},rze=function(i,a,f,p){o1=Le().er,Ut.info("Drawing ER diagram");const v=Le().securityLevel;let m;v==="sandbox"&&(m=yr("#i"+a));const E=yr(v==="sandbox"?m.nodes()[0].contentDocument.body:"body").select(`[id='${a}']`);lm.insertMarkers(E,o1);let _;_=new a1({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:o1.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const L=J$e(E,p.db.getEntities(),_),N=eze(p.db.getRelationships(),_);eL(_),tze(E,_),N.forEach(function(K){nze(E,K,_,L,p)});const B=o1.diagramPadding;$a.insertTitle(E,"entityTitleText",o1.titleTopMargin,p.db.getDiagramTitle());const j=E.node().getBBox(),R=j.width+B*2,z=j.height+B*2;og(E,z,R,o1.useMaxWidth),E.attr("viewBox",`${j.x-B} ${j.y-B} ${R} ${z}`)},ize="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function sze(i="",a=""){const f=i.replace(X$e,"");return`${PBt(a)}${PBt(f)}${Y$e(i,ize)}`}function PBt(i=""){return i.length>0?`${i}-`:""}const aze=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:P$e,db:R$e,renderer:{setConf:Q$e,draw:rze},styles:i=>`
  .entityBox {
    fill: ${i.mainBkg};
    stroke: ${i.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${i.attributeBackgroundColorOdd};
    stroke: ${i.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${i.attributeBackgroundColorEven};
    stroke: ${i.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${i.tertiaryColor};
    opacity: 0.7;
    background-color: ${i.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${i.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${i.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${i.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${i.lineColor} !important;
    stroke-width: 1;
  }
  
`}},Symbol.toStringTag,{value:"Module"}));var F0t=function(){var i=function(yt,dt,ht,wt){for(ht=ht||{},wt=yt.length;wt--;ht[yt[wt]]=dt);return ht},a=[1,3],f=[1,6],p=[1,4],v=[1,5],m=[2,5],b=[1,12],E=[5,7,13,19,21,23,24,26,28,31,36,39,46],_=[7,13,19,21,23,24,26,28,31,36,39],L=[7,12,13,19,21,23,24,26,28,31,36,39],N=[7,13,46],B=[1,42],j=[1,41],R=[7,13,29,32,34,37,46],z=[1,55],K=[1,56],it=[1,57],st=[7,13,32,34,41,46],ut={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,GG:5,document:6,EOF:7,":":8,DIR:9,options:10,body:11,OPT:12,NL:13,line:14,statement:15,commitStatement:16,mergeStatement:17,cherryPickStatement:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,section:24,branchStatement:25,CHECKOUT:26,ref:27,BRANCH:28,ORDER:29,NUM:30,CHERRY_PICK:31,COMMIT_ID:32,STR:33,COMMIT_TAG:34,EMPTYSTR:35,MERGE:36,COMMIT_TYPE:37,commitType:38,COMMIT:39,commit_arg:40,COMMIT_MSG:41,NORMAL:42,REVERSE:43,HIGHLIGHT:44,ID:45,";":46,$accept:0,$end:1},terminals_:{2:"error",5:"GG",7:"EOF",8:":",9:"DIR",12:"OPT",13:"NL",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"section",26:"CHECKOUT",28:"BRANCH",29:"ORDER",30:"NUM",31:"CHERRY_PICK",32:"COMMIT_ID",33:"STR",34:"COMMIT_TAG",35:"EMPTYSTR",36:"MERGE",37:"COMMIT_TYPE",39:"COMMIT",41:"COMMIT_MSG",42:"NORMAL",43:"REVERSE",44:"HIGHLIGHT",45:"ID",46:";"},productions_:[0,[3,2],[3,3],[3,4],[3,5],[6,0],[6,2],[10,2],[10,1],[11,0],[11,2],[14,2],[14,1],[15,1],[15,1],[15,1],[15,2],[15,2],[15,1],[15,1],[15,1],[15,2],[25,2],[25,4],[18,3],[18,5],[18,5],[18,5],[18,5],[17,2],[17,4],[17,4],[17,4],[17,6],[17,6],[17,6],[17,6],[17,6],[17,6],[17,8],[17,8],[17,8],[17,8],[17,8],[17,8],[16,2],[16,3],[16,3],[16,5],[16,5],[16,3],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,3],[16,5],[16,5],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[40,0],[40,1],[38,1],[38,1],[38,1],[27,1],[27,1],[4,1],[4,1],[4,1]],performAction:function(dt,ht,wt,X,pt,U,xt){var nt=U.length-1;switch(pt){case 2:return U[nt];case 3:return U[nt-1];case 4:return X.setDirection(U[nt-3]),U[nt-1];case 6:X.setOptions(U[nt-1]),this.$=U[nt];break;case 7:U[nt-1]+=U[nt],this.$=U[nt-1];break;case 9:this.$=[];break;case 10:U[nt-1].push(U[nt]),this.$=U[nt-1];break;case 11:this.$=U[nt-1];break;case 16:this.$=U[nt].trim(),X.setAccTitle(this.$);break;case 17:case 18:this.$=U[nt].trim(),X.setAccDescription(this.$);break;case 19:X.addSection(U[nt].substr(8)),this.$=U[nt].substr(8);break;case 21:X.checkout(U[nt]);break;case 22:X.branch(U[nt]);break;case 23:X.branch(U[nt-2],U[nt]);break;case 24:X.cherryPick(U[nt],"",void 0);break;case 25:X.cherryPick(U[nt-2],"",U[nt]);break;case 26:case 28:X.cherryPick(U[nt-2],"","");break;case 27:X.cherryPick(U[nt],"",U[nt-2]);break;case 29:X.merge(U[nt],"","","");break;case 30:X.merge(U[nt-2],U[nt],"","");break;case 31:X.merge(U[nt-2],"",U[nt],"");break;case 32:X.merge(U[nt-2],"","",U[nt]);break;case 33:X.merge(U[nt-4],U[nt],"",U[nt-2]);break;case 34:X.merge(U[nt-4],"",U[nt],U[nt-2]);break;case 35:X.merge(U[nt-4],"",U[nt-2],U[nt]);break;case 36:X.merge(U[nt-4],U[nt-2],U[nt],"");break;case 37:X.merge(U[nt-4],U[nt-2],"",U[nt]);break;case 38:X.merge(U[nt-4],U[nt],U[nt-2],"");break;case 39:X.merge(U[nt-6],U[nt-4],U[nt-2],U[nt]);break;case 40:X.merge(U[nt-6],U[nt],U[nt-4],U[nt-2]);break;case 41:X.merge(U[nt-6],U[nt-4],U[nt],U[nt-2]);break;case 42:X.merge(U[nt-6],U[nt-2],U[nt-4],U[nt]);break;case 43:X.merge(U[nt-6],U[nt],U[nt-2],U[nt-4]);break;case 44:X.merge(U[nt-6],U[nt-2],U[nt],U[nt-4]);break;case 45:X.commit(U[nt]);break;case 46:X.commit("","",X.commitType.NORMAL,U[nt]);break;case 47:X.commit("","",U[nt],"");break;case 48:X.commit("","",U[nt],U[nt-2]);break;case 49:X.commit("","",U[nt-2],U[nt]);break;case 50:X.commit("",U[nt],X.commitType.NORMAL,"");break;case 51:X.commit("",U[nt-2],X.commitType.NORMAL,U[nt]);break;case 52:X.commit("",U[nt],X.commitType.NORMAL,U[nt-2]);break;case 53:X.commit("",U[nt-2],U[nt],"");break;case 54:X.commit("",U[nt],U[nt-2],"");break;case 55:X.commit("",U[nt-4],U[nt-2],U[nt]);break;case 56:X.commit("",U[nt-4],U[nt],U[nt-2]);break;case 57:X.commit("",U[nt-2],U[nt-4],U[nt]);break;case 58:X.commit("",U[nt],U[nt-4],U[nt-2]);break;case 59:X.commit("",U[nt],U[nt-2],U[nt-4]);break;case 60:X.commit("",U[nt-2],U[nt],U[nt-4]);break;case 61:X.commit(U[nt],"",X.commitType.NORMAL,"");break;case 62:X.commit(U[nt],"",X.commitType.NORMAL,U[nt-2]);break;case 63:X.commit(U[nt-2],"",X.commitType.NORMAL,U[nt]);break;case 64:X.commit(U[nt-2],"",U[nt],"");break;case 65:X.commit(U[nt],"",U[nt-2],"");break;case 66:X.commit(U[nt],U[nt-2],X.commitType.NORMAL,"");break;case 67:X.commit(U[nt-2],U[nt],X.commitType.NORMAL,"");break;case 68:X.commit(U[nt-4],"",U[nt-2],U[nt]);break;case 69:X.commit(U[nt-4],"",U[nt],U[nt-2]);break;case 70:X.commit(U[nt-2],"",U[nt-4],U[nt]);break;case 71:X.commit(U[nt],"",U[nt-4],U[nt-2]);break;case 72:X.commit(U[nt],"",U[nt-2],U[nt-4]);break;case 73:X.commit(U[nt-2],"",U[nt],U[nt-4]);break;case 74:X.commit(U[nt-4],U[nt],U[nt-2],"");break;case 75:X.commit(U[nt-4],U[nt-2],U[nt],"");break;case 76:X.commit(U[nt-2],U[nt],U[nt-4],"");break;case 77:X.commit(U[nt],U[nt-2],U[nt-4],"");break;case 78:X.commit(U[nt],U[nt-4],U[nt-2],"");break;case 79:X.commit(U[nt-2],U[nt-4],U[nt],"");break;case 80:X.commit(U[nt-4],U[nt],X.commitType.NORMAL,U[nt-2]);break;case 81:X.commit(U[nt-4],U[nt-2],X.commitType.NORMAL,U[nt]);break;case 82:X.commit(U[nt-2],U[nt],X.commitType.NORMAL,U[nt-4]);break;case 83:X.commit(U[nt],U[nt-2],X.commitType.NORMAL,U[nt-4]);break;case 84:X.commit(U[nt],U[nt-4],X.commitType.NORMAL,U[nt-2]);break;case 85:X.commit(U[nt-2],U[nt-4],X.commitType.NORMAL,U[nt]);break;case 86:X.commit(U[nt-6],U[nt-4],U[nt-2],U[nt]);break;case 87:X.commit(U[nt-6],U[nt-4],U[nt],U[nt-2]);break;case 88:X.commit(U[nt-6],U[nt-2],U[nt-4],U[nt]);break;case 89:X.commit(U[nt-6],U[nt],U[nt-4],U[nt-2]);break;case 90:X.commit(U[nt-6],U[nt-2],U[nt],U[nt-4]);break;case 91:X.commit(U[nt-6],U[nt],U[nt-2],U[nt-4]);break;case 92:X.commit(U[nt-4],U[nt-6],U[nt-2],U[nt]);break;case 93:X.commit(U[nt-4],U[nt-6],U[nt],U[nt-2]);break;case 94:X.commit(U[nt-2],U[nt-6],U[nt-4],U[nt]);break;case 95:X.commit(U[nt],U[nt-6],U[nt-4],U[nt-2]);break;case 96:X.commit(U[nt-2],U[nt-6],U[nt],U[nt-4]);break;case 97:X.commit(U[nt],U[nt-6],U[nt-2],U[nt-4]);break;case 98:X.commit(U[nt],U[nt-4],U[nt-2],U[nt-6]);break;case 99:X.commit(U[nt-2],U[nt-4],U[nt],U[nt-6]);break;case 100:X.commit(U[nt],U[nt-2],U[nt-4],U[nt-6]);break;case 101:X.commit(U[nt-2],U[nt],U[nt-4],U[nt-6]);break;case 102:X.commit(U[nt-4],U[nt-2],U[nt],U[nt-6]);break;case 103:X.commit(U[nt-4],U[nt],U[nt-2],U[nt-6]);break;case 104:X.commit(U[nt-2],U[nt-4],U[nt-6],U[nt]);break;case 105:X.commit(U[nt],U[nt-4],U[nt-6],U[nt-2]);break;case 106:X.commit(U[nt-2],U[nt],U[nt-6],U[nt-4]);break;case 107:X.commit(U[nt],U[nt-2],U[nt-6],U[nt-4]);break;case 108:X.commit(U[nt-4],U[nt-2],U[nt-6],U[nt]);break;case 109:X.commit(U[nt-4],U[nt],U[nt-6],U[nt-2]);break;case 110:this.$="";break;case 111:this.$=U[nt];break;case 112:this.$=X.commitType.NORMAL;break;case 113:this.$=X.commitType.REVERSE;break;case 114:this.$=X.commitType.HIGHLIGHT;break}},table:[{3:1,4:2,5:a,7:f,13:p,46:v},{1:[3]},{3:7,4:2,5:a,7:f,13:p,46:v},{6:8,7:m,8:[1,9],9:[1,10],10:11,13:b},i(E,[2,117]),i(E,[2,118]),i(E,[2,119]),{1:[2,1]},{7:[1,13]},{6:14,7:m,10:11,13:b},{8:[1,15]},i(_,[2,9],{11:16,12:[1,17]}),i(L,[2,8]),{1:[2,2]},{7:[1,18]},{6:19,7:m,10:11,13:b},{7:[2,6],13:[1,22],14:20,15:21,16:23,17:24,18:25,19:[1,26],21:[1,27],23:[1,28],24:[1,29],25:30,26:[1,31],28:[1,35],31:[1,34],36:[1,33],39:[1,32]},i(L,[2,7]),{1:[2,3]},{7:[1,36]},i(_,[2,10]),{4:37,7:f,13:p,46:v},i(_,[2,12]),i(N,[2,13]),i(N,[2,14]),i(N,[2,15]),{20:[1,38]},{22:[1,39]},i(N,[2,18]),i(N,[2,19]),i(N,[2,20]),{27:40,33:B,45:j},i(N,[2,110],{40:43,32:[1,46],33:[1,48],34:[1,44],37:[1,45],41:[1,47]}),{27:49,33:B,45:j},{32:[1,50],34:[1,51]},{27:52,33:B,45:j},{1:[2,4]},i(_,[2,11]),i(N,[2,16]),i(N,[2,17]),i(N,[2,21]),i(R,[2,115]),i(R,[2,116]),i(N,[2,45]),{33:[1,53]},{38:54,42:z,43:K,44:it},{33:[1,58]},{33:[1,59]},i(N,[2,111]),i(N,[2,29],{32:[1,60],34:[1,62],37:[1,61]}),{33:[1,63]},{33:[1,64],35:[1,65]},i(N,[2,22],{29:[1,66]}),i(N,[2,46],{32:[1,68],37:[1,67],41:[1,69]}),i(N,[2,47],{32:[1,71],34:[1,70],41:[1,72]}),i(st,[2,112]),i(st,[2,113]),i(st,[2,114]),i(N,[2,50],{34:[1,73],37:[1,74],41:[1,75]}),i(N,[2,61],{32:[1,78],34:[1,76],37:[1,77]}),{33:[1,79]},{38:80,42:z,43:K,44:it},{33:[1,81]},i(N,[2,24],{34:[1,82]}),{32:[1,83]},{32:[1,84]},{30:[1,85]},{38:86,42:z,43:K,44:it},{33:[1,87]},{33:[1,88]},{33:[1,89]},{33:[1,90]},{33:[1,91]},{33:[1,92]},{38:93,42:z,43:K,44:it},{33:[1,94]},{33:[1,95]},{38:96,42:z,43:K,44:it},{33:[1,97]},i(N,[2,30],{34:[1,99],37:[1,98]}),i(N,[2,31],{32:[1,101],34:[1,100]}),i(N,[2,32],{32:[1,102],37:[1,103]}),{33:[1,104],35:[1,105]},{33:[1,106]},{33:[1,107]},i(N,[2,23]),i(N,[2,48],{32:[1,108],41:[1,109]}),i(N,[2,52],{37:[1,110],41:[1,111]}),i(N,[2,62],{32:[1,113],37:[1,112]}),i(N,[2,49],{32:[1,114],41:[1,115]}),i(N,[2,54],{34:[1,116],41:[1,117]}),i(N,[2,65],{32:[1,119],34:[1,118]}),i(N,[2,51],{37:[1,120],41:[1,121]}),i(N,[2,53],{34:[1,122],41:[1,123]}),i(N,[2,66],{34:[1,125],37:[1,124]}),i(N,[2,63],{32:[1,127],37:[1,126]}),i(N,[2,64],{32:[1,129],34:[1,128]}),i(N,[2,67],{34:[1,131],37:[1,130]}),{38:132,42:z,43:K,44:it},{33:[1,133]},{33:[1,134]},{33:[1,135]},{33:[1,136]},{38:137,42:z,43:K,44:it},i(N,[2,25]),i(N,[2,26]),i(N,[2,27]),i(N,[2,28]),{33:[1,138]},{33:[1,139]},{38:140,42:z,43:K,44:it},{33:[1,141]},{38:142,42:z,43:K,44:it},{33:[1,143]},{33:[1,144]},{33:[1,145]},{33:[1,146]},{33:[1,147]},{33:[1,148]},{33:[1,149]},{38:150,42:z,43:K,44:it},{33:[1,151]},{33:[1,152]},{33:[1,153]},{38:154,42:z,43:K,44:it},{33:[1,155]},{38:156,42:z,43:K,44:it},{33:[1,157]},{33:[1,158]},{33:[1,159]},{38:160,42:z,43:K,44:it},{33:[1,161]},i(N,[2,36],{34:[1,162]}),i(N,[2,37],{37:[1,163]}),i(N,[2,35],{32:[1,164]}),i(N,[2,38],{34:[1,165]}),i(N,[2,33],{37:[1,166]}),i(N,[2,34],{32:[1,167]}),i(N,[2,59],{41:[1,168]}),i(N,[2,72],{32:[1,169]}),i(N,[2,60],{41:[1,170]}),i(N,[2,83],{37:[1,171]}),i(N,[2,73],{32:[1,172]}),i(N,[2,82],{37:[1,173]}),i(N,[2,58],{41:[1,174]}),i(N,[2,71],{32:[1,175]}),i(N,[2,57],{41:[1,176]}),i(N,[2,77],{34:[1,177]}),i(N,[2,70],{32:[1,178]}),i(N,[2,76],{34:[1,179]}),i(N,[2,56],{41:[1,180]}),i(N,[2,84],{37:[1,181]}),i(N,[2,55],{41:[1,182]}),i(N,[2,78],{34:[1,183]}),i(N,[2,79],{34:[1,184]}),i(N,[2,85],{37:[1,185]}),i(N,[2,69],{32:[1,186]}),i(N,[2,80],{37:[1,187]}),i(N,[2,68],{32:[1,188]}),i(N,[2,74],{34:[1,189]}),i(N,[2,75],{34:[1,190]}),i(N,[2,81],{37:[1,191]}),{33:[1,192]},{38:193,42:z,43:K,44:it},{33:[1,194]},{33:[1,195]},{38:196,42:z,43:K,44:it},{33:[1,197]},{33:[1,198]},{33:[1,199]},{33:[1,200]},{38:201,42:z,43:K,44:it},{33:[1,202]},{38:203,42:z,43:K,44:it},{33:[1,204]},{33:[1,205]},{33:[1,206]},{33:[1,207]},{33:[1,208]},{33:[1,209]},{33:[1,210]},{38:211,42:z,43:K,44:it},{33:[1,212]},{33:[1,213]},{33:[1,214]},{38:215,42:z,43:K,44:it},{33:[1,216]},{38:217,42:z,43:K,44:it},{33:[1,218]},{33:[1,219]},{33:[1,220]},{38:221,42:z,43:K,44:it},i(N,[2,39]),i(N,[2,41]),i(N,[2,40]),i(N,[2,42]),i(N,[2,44]),i(N,[2,43]),i(N,[2,100]),i(N,[2,101]),i(N,[2,98]),i(N,[2,99]),i(N,[2,103]),i(N,[2,102]),i(N,[2,107]),i(N,[2,106]),i(N,[2,105]),i(N,[2,104]),i(N,[2,109]),i(N,[2,108]),i(N,[2,97]),i(N,[2,96]),i(N,[2,95]),i(N,[2,94]),i(N,[2,92]),i(N,[2,93]),i(N,[2,91]),i(N,[2,90]),i(N,[2,89]),i(N,[2,88]),i(N,[2,86]),i(N,[2,87])],defaultActions:{7:[2,1],13:[2,2],18:[2,3],36:[2,4]},parseError:function(dt,ht){if(ht.recoverable)this.trace(dt);else{var wt=new Error(dt);throw wt.hash=ht,wt}},parse:function(dt){var ht=this,wt=[0],X=[],pt=[null],U=[],xt=this.table,nt="",Ot=0,Nt=0,qt=2,Ct=1,Z=U.slice.call(arguments,1),Tt=Object.create(this.lexer),Ht={yy:{}};for(var It in this.yy)Object.prototype.hasOwnProperty.call(this.yy,It)&&(Ht.yy[It]=this.yy[It]);Tt.setInput(dt,Ht.yy),Ht.yy.lexer=Tt,Ht.yy.parser=this,typeof Tt.yylloc>"u"&&(Tt.yylloc={});var Ft=Tt.yylloc;U.push(Ft);var ke=Tt.options&&Tt.options.ranges;typeof Ht.yy.parseError=="function"?this.parseError=Ht.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pn(){var oe;return oe=X.pop()||Tt.lex()||Ct,typeof oe!="number"&&(oe instanceof Array&&(X=oe,oe=X.pop()),oe=ht.symbols_[oe]||oe),oe}for(var Me,ve,Ge,Ke,we={},_e,$t,re,ie;;){if(ve=wt[wt.length-1],this.defaultActions[ve]?Ge=this.defaultActions[ve]:((Me===null||typeof Me>"u")&&(Me=pn()),Ge=xt[ve]&&xt[ve][Me]),typeof Ge>"u"||!Ge.length||!Ge[0]){var Oe="";ie=[];for(_e in xt[ve])this.terminals_[_e]&&_e>qt&&ie.push("'"+this.terminals_[_e]+"'");Tt.showPosition?Oe="Parse error on line "+(Ot+1)+`:
`+Tt.showPosition()+`
Expecting `+ie.join(", ")+", got '"+(this.terminals_[Me]||Me)+"'":Oe="Parse error on line "+(Ot+1)+": Unexpected "+(Me==Ct?"end of input":"'"+(this.terminals_[Me]||Me)+"'"),this.parseError(Oe,{text:Tt.match,token:this.terminals_[Me]||Me,line:Tt.yylineno,loc:Ft,expected:ie})}if(Ge[0]instanceof Array&&Ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ve+", token: "+Me);switch(Ge[0]){case 1:wt.push(Me),pt.push(Tt.yytext),U.push(Tt.yylloc),wt.push(Ge[1]),Me=null,Nt=Tt.yyleng,nt=Tt.yytext,Ot=Tt.yylineno,Ft=Tt.yylloc;break;case 2:if($t=this.productions_[Ge[1]][1],we.$=pt[pt.length-$t],we._$={first_line:U[U.length-($t||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-($t||1)].first_column,last_column:U[U.length-1].last_column},ke&&(we._$.range=[U[U.length-($t||1)].range[0],U[U.length-1].range[1]]),Ke=this.performAction.apply(we,[nt,Nt,Ot,Ht.yy,Ge[1],pt,U].concat(Z)),typeof Ke<"u")return Ke;$t&&(wt=wt.slice(0,-1*$t*2),pt=pt.slice(0,-1*$t),U=U.slice(0,-1*$t)),wt.push(this.productions_[Ge[1]][0]),pt.push(we.$),U.push(we._$),re=xt[wt[wt.length-2]][wt[wt.length-1]],wt.push(re);break;case 3:return!0}}return!0}},bt=function(){var yt={EOF:1,parseError:function(ht,wt){if(this.yy.parser)this.yy.parser.parseError(ht,wt);else throw new Error(ht)},setInput:function(dt,ht){return this.yy=ht||this.yy||{},this._input=dt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var dt=this._input[0];this.yytext+=dt,this.yyleng++,this.offset++,this.match+=dt,this.matched+=dt;var ht=dt.match(/(?:\r\n?|\n).*/g);return ht?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),dt},unput:function(dt){var ht=dt.length,wt=dt.split(/(?:\r\n?|\n)/g);this._input=dt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ht),this.offset-=ht;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),wt.length-1&&(this.yylineno-=wt.length-1);var pt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:wt?(wt.length===X.length?this.yylloc.first_column:0)+X[X.length-wt.length].length-wt[0].length:this.yylloc.first_column-ht},this.options.ranges&&(this.yylloc.range=[pt[0],pt[0]+this.yyleng-ht]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(dt){this.unput(this.match.slice(dt))},pastInput:function(){var dt=this.matched.substr(0,this.matched.length-this.match.length);return(dt.length>20?"...":"")+dt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var dt=this.match;return dt.length<20&&(dt+=this._input.substr(0,20-dt.length)),(dt.substr(0,20)+(dt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var dt=this.pastInput(),ht=new Array(dt.length+1).join("-");return dt+this.upcomingInput()+`
`+ht+"^"},test_match:function(dt,ht){var wt,X,pt;if(this.options.backtrack_lexer&&(pt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pt.yylloc.range=this.yylloc.range.slice(0))),X=dt[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+dt[0].length},this.yytext+=dt[0],this.match+=dt[0],this.matches=dt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(dt[0].length),this.matched+=dt[0],wt=this.performAction.call(this,this.yy,this,ht,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),wt)return wt;if(this._backtrack){for(var U in pt)this[U]=pt[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var dt,ht,wt,X;this._more||(this.yytext="",this.match="");for(var pt=this._currentRules(),U=0;U<pt.length;U++)if(wt=this._input.match(this.rules[pt[U]]),wt&&(!ht||wt[0].length>ht[0].length)){if(ht=wt,X=U,this.options.backtrack_lexer){if(dt=this.test_match(wt,pt[U]),dt!==!1)return dt;if(this._backtrack){ht=!1;continue}else return!1}else if(!this.options.flex)break}return ht?(dt=this.test_match(ht,pt[X]),dt!==!1?dt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ht=this.next();return ht||this.lex()},begin:function(ht){this.conditionStack.push(ht)},popState:function(){var ht=this.conditionStack.length-1;return ht>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ht){return ht=this.conditionStack.length-1-Math.abs(ht||0),ht>=0?this.conditionStack[ht]:"INITIAL"},pushState:function(ht){this.begin(ht)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ht,wt,X,pt){switch(X){case 0:return this.begin("acc_title"),19;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),21;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 13;case 8:break;case 9:break;case 10:return 5;case 11:return 39;case 12:return 32;case 13:return 37;case 14:return 41;case 15:return 42;case 16:return 43;case 17:return 44;case 18:return 34;case 19:return 28;case 20:return 29;case 21:return 36;case 22:return 31;case 23:return 26;case 24:return 9;case 25:return 9;case 26:return 8;case 27:return"CARET";case 28:this.begin("options");break;case 29:this.popState();break;case 30:return 12;case 31:return 35;case 32:this.begin("string");break;case 33:this.popState();break;case 34:return 33;case 35:return 30;case 36:return 45;case 37:return 7}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:TB\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},options:{rules:[29,30],inclusive:!1},string:{rules:[33,34],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31,32,35,36,37,38],inclusive:!0}}};return yt}();ut.lexer=bt;function mt(){this.yy={}}return mt.prototype=ut,ut.Parser=mt,new mt}();F0t.parser=F0t;const oze=F0t;let yK=Le().gitGraph.mainBranchName,cze=Le().gitGraph.mainBranchOrder,c1={},hg=null,xP={};xP[yK]={name:yK,order:cze};let Pf={};Pf[yK]=hg;let X1=yK,FBt="LR",yT=0;function B0t(){return GDt({length:7})}function uze(i,a){const f=Object.create(null);return i.reduce((p,v)=>{const m=a(v);return f[m]||(f[m]=!0,p.push(v)),p},[])}const lze=function(i){FBt=i};let BBt={};const hze=function(i){Ut.debug("options str",i),i=i&&i.trim(),i=i||"{}";try{BBt=JSON.parse(i)}catch(a){Ut.error("error while parsing gitGraph options",a.message)}},fze=function(){return BBt},dze=function(i,a,f,p){Ut.debug("Entering commit:",i,a,f,p),a=Yr.sanitizeText(a,Le()),i=Yr.sanitizeText(i,Le()),p=Yr.sanitizeText(p,Le());const v={id:a||yT+"-"+B0t(),message:i,seq:yT++,type:f||kP.NORMAL,tag:p||"",parents:hg==null?[]:[hg.id],branch:X1};hg=v,c1[v.id]=v,Pf[X1]=v.id,Ut.debug("in pushCommit "+v.id)},gze=function(i,a){if(i=Yr.sanitizeText(i,Le()),Pf[i]===void 0)Pf[i]=hg!=null?hg.id:null,xP[i]={name:i,order:a?parseInt(a,10):null},RBt(i),Ut.debug("in createBranch");else{let f=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+i+'")');throw f.hash={text:"branch "+i,token:"branch "+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+i+'"']},f}},pze=function(i,a,f,p){i=Yr.sanitizeText(i,Le()),a=Yr.sanitizeText(a,Le());const v=c1[Pf[X1]],m=c1[Pf[i]];if(X1===i){let E=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw E.hash={text:"merge "+i,token:"merge "+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},E}else if(v===void 0||!v){let E=new Error('Incorrect usage of "merge". Current branch ('+X1+")has no commits");throw E.hash={text:"merge "+i,token:"merge "+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},E}else if(Pf[i]===void 0){let E=new Error('Incorrect usage of "merge". Branch to be merged ('+i+") does not exist");throw E.hash={text:"merge "+i,token:"merge "+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+i]},E}else if(m===void 0||!m){let E=new Error('Incorrect usage of "merge". Branch to be merged ('+i+") has no commits");throw E.hash={text:"merge "+i,token:"merge "+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},E}else if(v===m){let E=new Error('Incorrect usage of "merge". Both branches have same head');throw E.hash={text:"merge "+i,token:"merge "+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},E}else if(a&&c1[a]!==void 0){let E=new Error('Incorrect usage of "merge". Commit with id:'+a+" already exists, use different custom Id");throw E.hash={text:"merge "+i+a+f+p,token:"merge "+i+a+f+p,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+i+" "+a+"_UNIQUE "+f+" "+p]},E}const b={id:a||yT+"-"+B0t(),message:"merged branch "+i+" into "+X1,seq:yT++,parents:[hg==null?null:hg.id,Pf[i]],branch:X1,type:kP.MERGE,customType:f,customId:!!a,tag:p||""};hg=b,c1[b.id]=b,Pf[X1]=b.id,Ut.debug(Pf),Ut.debug("in mergeBranch")},bze=function(i,a,f){if(Ut.debug("Entering cherryPick:",i,a,f),i=Yr.sanitizeText(i,Le()),a=Yr.sanitizeText(a,Le()),f=Yr.sanitizeText(f,Le()),!i||c1[i]===void 0){let m=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw m.hash={text:"cherryPick "+i+" "+a,token:"cherryPick "+i+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},m}let p=c1[i],v=p.branch;if(p.type===kP.MERGE){let m=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw m.hash={text:"cherryPick "+i+" "+a,token:"cherryPick "+i+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},m}if(!a||c1[a]===void 0){if(v===X1){let E=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw E.hash={text:"cherryPick "+i+" "+a,token:"cherryPick "+i+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},E}const m=c1[Pf[X1]];if(m===void 0||!m){let E=new Error('Incorrect usage of "cherry-pick". Current branch ('+X1+")has no commits");throw E.hash={text:"cherryPick "+i+" "+a,token:"cherryPick "+i+" "+a,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},E}const b={id:yT+"-"+B0t(),message:"cherry-picked "+p+" into "+X1,seq:yT++,parents:[hg==null?null:hg.id,p.id],branch:X1,type:kP.CHERRY_PICK,tag:f??"cherry-pick:"+p.id};hg=b,c1[b.id]=b,Pf[X1]=b.id,Ut.debug(Pf),Ut.debug("in cherryPick")}},RBt=function(i){if(i=Yr.sanitizeText(i,Le()),Pf[i]===void 0){let a=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+i+'")');throw a.hash={text:"checkout "+i,token:"checkout "+i,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+i+'"']},a}else{X1=i;const a=Pf[X1];hg=c1[a]}};function jBt(i,a,f){const p=i.indexOf(a);p===-1?i.push(f):i.splice(p,1,f)}function $Bt(i){const a=i.reduce((v,m)=>v.seq>m.seq?v:m,i[0]);let f="";i.forEach(function(v){v===a?f+="	*":f+="	|"});const p=[f,a.id,a.seq];for(let v in Pf)Pf[v]===a.id&&p.push(v);if(Ut.debug(p.join(" ")),a.parents&&a.parents.length==2){const v=c1[a.parents[0]];jBt(i,a,v),i.push(c1[a.parents[1]])}else{if(a.parents.length==0)return;{const v=c1[a.parents];jBt(i,a,v)}}i=uze(i,v=>v.id),$Bt(i)}const vze=function(){Ut.debug(c1);const i=zBt()[0];$Bt([i])},wze=function(){c1={},hg=null;let i=Le().gitGraph.mainBranchName,a=Le().gitGraph.mainBranchOrder;Pf={},Pf[i]=null,xP={},xP[i]={name:i,order:a},X1=i,yT=0,ap()},mze=function(){return Object.values(xP).map((a,f)=>a.order!==null?a:{...a,order:parseFloat(`0.${f}`,10)}).sort((a,f)=>a.order-f.order).map(({name:a})=>({name:a}))},yze=function(){return Pf},xze=function(){return c1},zBt=function(){const i=Object.keys(c1).map(function(a){return c1[a]});return i.forEach(function(a){Ut.debug(a.id)}),i.sort((a,f)=>a.seq-f.seq),i},kze=function(){return X1},Eze=function(){return FBt},Tze=function(){return hg},kP={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Cze={getConfig:()=>Le().gitGraph,setDirection:lze,setOptions:hze,getOptions:fze,commit:dze,branch:gze,merge:pze,cherryPick:bze,checkout:RBt,prettyPrint:vze,clear:wze,getBranchesAsObjArray:mze,getBranches:yze,getCommits:xze,getCommitsArray:zBt,getCurrentBranch:kze,getDirection:Eze,getHead:Tze,setAccTitle:cg,getAccTitle:op,getAccDescription:up,setAccDescription:cp,setDiagramTitle:Z2,getDiagramTitle:Db,commitType:kP};let EP={};const Fb={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},xT=8;let Q1={},TP={},xK=[],CP=0,y0="LR";const _ze=()=>{Q1={},TP={},EP={},CP=0,xK=[],y0="LR"},qBt=i=>{const a=document.createElementNS("http://www.w3.org/2000/svg","text");let f=[];typeof i=="string"?f=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?f=i:f=[];for(const p of f){const v=document.createElementNS("http://www.w3.org/2000/svg","tspan");v.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),v.setAttribute("dy","1em"),v.setAttribute("x","0"),v.setAttribute("class","row"),v.textContent=p.trim(),a.appendChild(v)}return a},HBt=(i,a,f)=>{const p=JN().gitGraph,v=i.append("g").attr("class","commit-bullets"),m=i.append("g").attr("class","commit-labels");let b=0;y0==="TB"&&(b=30),Object.keys(a).sort((L,N)=>a[L].seq-a[N].seq).forEach(L=>{const N=a[L],B=y0==="TB"?b+10:Q1[N.branch].pos,j=y0==="TB"?Q1[N.branch].pos:b+10;if(f){let R,z=N.customType!==void 0&&N.customType!==""?N.customType:N.type;switch(z){case Fb.NORMAL:R="commit-normal";break;case Fb.REVERSE:R="commit-reverse";break;case Fb.HIGHLIGHT:R="commit-highlight";break;case Fb.MERGE:R="commit-merge";break;case Fb.CHERRY_PICK:R="commit-cherry-pick";break;default:R="commit-normal"}if(z===Fb.HIGHLIGHT){const K=v.append("rect");K.attr("x",j-10),K.attr("y",B-10),K.attr("height",20),K.attr("width",20),K.attr("class",`commit ${N.id} commit-highlight${Q1[N.branch].index%xT} ${R}-outer`),v.append("rect").attr("x",j-6).attr("y",B-6).attr("height",12).attr("width",12).attr("class",`commit ${N.id} commit${Q1[N.branch].index%xT} ${R}-inner`)}else if(z===Fb.CHERRY_PICK)v.append("circle").attr("cx",j).attr("cy",B).attr("r",10).attr("class",`commit ${N.id} ${R}`),v.append("circle").attr("cx",j-3).attr("cy",B+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${N.id} ${R}`),v.append("circle").attr("cx",j+3).attr("cy",B+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${N.id} ${R}`),v.append("line").attr("x1",j+3).attr("y1",B+1).attr("x2",j).attr("y2",B-5).attr("stroke","#fff").attr("class",`commit ${N.id} ${R}`),v.append("line").attr("x1",j-3).attr("y1",B+1).attr("x2",j).attr("y2",B-5).attr("stroke","#fff").attr("class",`commit ${N.id} ${R}`);else{const K=v.append("circle");if(K.attr("cx",j),K.attr("cy",B),K.attr("r",N.type===Fb.MERGE?9:10),K.attr("class",`commit ${N.id} commit${Q1[N.branch].index%xT}`),z===Fb.MERGE){const it=v.append("circle");it.attr("cx",j),it.attr("cy",B),it.attr("r",6),it.attr("class",`commit ${R} ${N.id} commit${Q1[N.branch].index%xT}`)}z===Fb.REVERSE&&v.append("path").attr("d",`M ${j-5},${B-5}L${j+5},${B+5}M${j-5},${B+5}L${j+5},${B-5}`).attr("class",`commit ${R} ${N.id} commit${Q1[N.branch].index%xT}`)}}if(y0==="TB"?TP[N.id]={x:j,y:b+10}:TP[N.id]={x:b+10,y:B},f){if(N.type!==Fb.CHERRY_PICK&&(N.customId&&N.type===Fb.MERGE||N.type!==Fb.MERGE)&&p.showCommitLabel){const K=m.append("g"),it=K.insert("rect").attr("class","commit-label-bkg"),st=K.append("text").attr("x",b).attr("y",B+25).attr("class","commit-label").text(N.id);let ut=st.node().getBBox();if(it.attr("x",b+10-ut.width/2-2).attr("y",B+13.5).attr("width",ut.width+2*2).attr("height",ut.height+2*2),y0==="TB"&&(it.attr("x",j-(ut.width+4*4+5)).attr("y",B-12),st.attr("x",j-(ut.width+4*4)).attr("y",B+ut.height-12)),y0!=="TB"&&st.attr("x",b+10-ut.width/2),p.rotateCommitLabel)if(y0==="TB")st.attr("transform","rotate(-45, "+j+", "+B+")"),it.attr("transform","rotate(-45, "+j+", "+B+")");else{let bt=-7.5-(ut.width+10)/25*9.5,mt=10+ut.width/25*8.5;K.attr("transform","translate("+bt+", "+mt+") rotate(-45, "+b+", "+B+")")}}if(N.tag){const K=m.insert("polygon"),it=m.append("circle"),st=m.append("text").attr("y",B-16).attr("class","tag-label").text(N.tag);let ut=st.node().getBBox();st.attr("x",b+10-ut.width/2);const bt=ut.height/2,mt=B-19.2;K.attr("class","tag-label-bkg").attr("points",`
          ${b-ut.width/2-4/2},${mt+2}
          ${b-ut.width/2-4/2},${mt-2}
          ${b+10-ut.width/2-4},${mt-bt-2}
          ${b+10+ut.width/2+4},${mt-bt-2}
          ${b+10+ut.width/2+4},${mt+bt+2}
          ${b+10-ut.width/2-4},${mt+bt+2}`),it.attr("cx",b-ut.width/2+4/2).attr("cy",mt).attr("r",1.5).attr("class","tag-hole"),y0==="TB"&&(K.attr("class","tag-label-bkg").attr("points",`
            ${j},${b+2}
            ${j},${b-2}
            ${j+10},${b-bt-2}
            ${j+10+ut.width+4},${b-bt-2}
            ${j+10+ut.width+4},${b+bt+2}
            ${j+10},${b+bt+2}`).attr("transform","translate(12,12) rotate(45, "+j+","+b+")"),it.attr("cx",j+4/2).attr("cy",b).attr("transform","translate(12,12) rotate(45, "+j+","+b+")"),st.attr("x",j+5).attr("y",b+3).attr("transform","translate(14,14) rotate(45, "+j+","+b+")"))}}b+=50,b>CP&&(CP=b)})},Sze=(i,a,f)=>Object.keys(f).filter(m=>f[m].branch===a.branch&&f[m].seq>i.seq&&f[m].seq<a.seq).length>0,_P=(i,a,f=0)=>{const p=i+Math.abs(i-a)/2;if(f>5)return p;if(xK.every(b=>Math.abs(b-p)>=10))return xK.push(p),p;const m=Math.abs(i-a);return _P(i,a-m/5,f+1)},Aze=(i,a,f,p)=>{const v=TP[a.id],m=TP[f.id],b=Sze(a,f,p);let E="",_="",L=0,N=0,B=Q1[f.branch].index,j;if(b){E="A 10 10, 0, 0, 0,",_="A 10 10, 0, 0, 1,",L=10,N=10,B=Q1[f.branch].index;const R=v.y<m.y?_P(v.y,m.y):_P(m.y,v.y),z=v.x<m.x?_P(v.x,m.x):_P(m.x,v.x);y0==="TB"?v.x<m.x?j=`M ${v.x} ${v.y} L ${z-L} ${v.y} ${_} ${z} ${v.y+N} L ${z} ${m.y-L} ${E} ${z+N} ${m.y} L ${m.x} ${m.y}`:j=`M ${v.x} ${v.y} L ${z+L} ${v.y} ${E} ${z} ${v.y+N} L ${z} ${m.y-L} ${_} ${z-N} ${m.y} L ${m.x} ${m.y}`:v.y<m.y?j=`M ${v.x} ${v.y} L ${v.x} ${R-L} ${E} ${v.x+N} ${R} L ${m.x-L} ${R} ${_} ${m.x} ${R+N} L ${m.x} ${m.y}`:j=`M ${v.x} ${v.y} L ${v.x} ${R+L} ${_} ${v.x+N} ${R} L ${m.x-L} ${R} ${E} ${m.x} ${R-N} L ${m.x} ${m.y}`}else y0==="TB"?(v.x<m.x&&(E="A 20 20, 0, 0, 0,",_="A 20 20, 0, 0, 1,",L=20,N=20,B=Q1[f.branch].index,j=`M ${v.x} ${v.y} L ${m.x-L} ${v.y} ${_} ${m.x} ${v.y+N} L ${m.x} ${m.y}`),v.x>m.x&&(E="A 20 20, 0, 0, 0,",_="A 20 20, 0, 0, 1,",L=20,N=20,B=Q1[a.branch].index,j=`M ${v.x} ${v.y} L ${v.x} ${m.y-L} ${_} ${v.x-N} ${m.y} L ${m.x} ${m.y}`),v.x===m.x&&(B=Q1[a.branch].index,j=`M ${v.x} ${v.y} L ${v.x+L} ${v.y} ${E} ${v.x+N} ${m.y+L} L ${m.x} ${m.y}`)):(v.y<m.y&&(E="A 20 20, 0, 0, 0,",L=20,N=20,B=Q1[f.branch].index,j=`M ${v.x} ${v.y} L ${v.x} ${m.y-L} ${E} ${v.x+N} ${m.y} L ${m.x} ${m.y}`),v.y>m.y&&(E="A 20 20, 0, 0, 0,",L=20,N=20,B=Q1[a.branch].index,j=`M ${v.x} ${v.y} L ${m.x-L} ${v.y} ${E} ${m.x} ${v.y-N} L ${m.x} ${m.y}`),v.y===m.y&&(B=Q1[a.branch].index,j=`M ${v.x} ${v.y} L ${v.x} ${m.y-L} ${E} ${v.x+N} ${m.y} L ${m.x} ${m.y}`));i.append("path").attr("d",j).attr("class","arrow arrow"+B%xT)},Lze=(i,a)=>{const f=i.append("g").attr("class","commit-arrows");Object.keys(a).forEach(p=>{const v=a[p];v.parents&&v.parents.length>0&&v.parents.forEach(m=>{Aze(f,a[m],v,a)})})},Mze=(i,a)=>{const f=JN().gitGraph,p=i.append("g");a.forEach((v,m)=>{const b=m%xT,E=Q1[v.name].pos,_=p.append("line");_.attr("x1",0),_.attr("y1",E),_.attr("x2",CP),_.attr("y2",E),_.attr("class","branch branch"+b),y0==="TB"&&(_.attr("y1",30),_.attr("x1",E),_.attr("y2",CP),_.attr("x2",E)),xK.push(E);let L=v.name;const N=qBt(L),B=p.insert("rect"),R=p.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+b);R.node().appendChild(N);let z=N.getBBox();B.attr("class","branchLabelBkg label"+b).attr("rx",4).attr("ry",4).attr("x",-z.width-4-(f.rotateCommitLabel===!0?30:0)).attr("y",-z.height/2+8).attr("width",z.width+18).attr("height",z.height+4),R.attr("transform","translate("+(-z.width-14-(f.rotateCommitLabel===!0?30:0))+", "+(E-z.height/2-1)+")"),y0==="TB"&&(B.attr("x",E-z.width/2-10).attr("y",0),R.attr("transform","translate("+(E-z.width/2-5)+", 0)")),y0!=="TB"&&B.attr("transform","translate(-19, "+(E-z.height/2)+")")})},Ize=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:oze,db:Cze,renderer:{draw:function(i,a,f,p){_ze();const v=JN(),m=v.gitGraph;Ut.debug("in gitgraph renderer",i+`
`,"id:",a,f),EP=p.db.getCommits();const b=p.db.getBranchesAsObjArray();y0=p.db.getDirection();const E=yr(`[id="${a}"]`);let _=0;b.forEach((L,N)=>{const B=qBt(L.name),j=E.append("g"),R=j.insert("g").attr("class","branchLabel"),z=R.insert("g").attr("class","label branch-label");z.node().appendChild(B);let K=B.getBBox();Q1[L.name]={pos:_,index:N},_+=50+(m.rotateCommitLabel?40:0)+(y0==="TB"?K.width/2:0),z.remove(),R.remove(),j.remove()}),HBt(E,EP,!1),m.showBranches&&Mze(E,b),Lze(E,EP),HBt(E,EP,!0),$a.insertTitle(E,"gitTitleText",m.titleTopMargin,p.db.getDiagramTitle()),MOt(void 0,E,m.diagramPadding,m.useMaxWidth??v.useMaxWidth)}},styles:i=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(a=>`
        .branch-label${a} { fill: ${i["gitBranchLabel"+a]}; }
        .commit${a} { stroke: ${i["git"+a]}; fill: ${i["git"+a]}; }
        .commit-highlight${a} { stroke: ${i["gitInv"+a]}; fill: ${i["gitInv"+a]}; }
        .label${a}  { fill: ${i["git"+a]}; }
        .arrow${a} { stroke: ${i["git"+a]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${i.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${i.commitLabelFontSize}; fill: ${i.commitLabelColor};}
  .commit-label-bkg { font-size: ${i.commitLabelFontSize}; fill: ${i.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${i.tagLabelFontSize}; fill: ${i.tagLabelColor};}
  .tag-label-bkg { fill: ${i.tagLabelBackground}; stroke: ${i.tagLabelBorder}; }
  .tag-hole { fill: ${i.textColor}; }

  .commit-merge {
    stroke: ${i.primaryColor};
    fill: ${i.primaryColor};
  }
  .commit-reverse {
    stroke: ${i.primaryColor};
    fill: ${i.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${i.primaryColor};
    fill: ${i.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${i.textColor};
  }
`}},Symbol.toStringTag,{value:"Module"}));var R0t=function(){var i=function(U,xt,nt,Ot){for(nt=nt||{},Ot=U.length;Ot--;nt[U[Ot]]=xt);return nt},a=[6,8,10,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,30,32,33,35,37],f=[1,25],p=[1,26],v=[1,27],m=[1,28],b=[1,29],E=[1,30],_=[1,31],L=[1,9],N=[1,10],B=[1,11],j=[1,12],R=[1,13],z=[1,14],K=[1,15],it=[1,16],st=[1,18],ut=[1,19],bt=[1,20],mt=[1,21],yt=[1,22],dt=[1,24],ht=[1,32],wt={trace:function(){},yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,dateFormat:19,inclusiveEndDates:20,topAxis:21,axisFormat:22,tickInterval:23,excludes:24,includes:25,todayMarker:26,title:27,acc_title:28,acc_title_value:29,acc_descr:30,acc_descr_value:31,acc_descr_multiline_value:32,section:33,clickStatement:34,taskTxt:35,taskData:36,click:37,callbackname:38,callbackargs:39,href:40,clickStatementDebug:41,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",19:"dateFormat",20:"inclusiveEndDates",21:"topAxis",22:"axisFormat",23:"tickInterval",24:"excludes",25:"includes",26:"todayMarker",27:"title",28:"acc_title",29:"acc_title_value",30:"acc_descr",31:"acc_descr_value",32:"acc_descr_multiline_value",33:"section",35:"taskTxt",36:"taskData",37:"click",38:"callbackname",39:"callbackargs",40:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[34,2],[34,3],[34,3],[34,4],[34,3],[34,4],[34,2],[41,2],[41,3],[41,3],[41,4],[41,3],[41,4],[41,2]],performAction:function(xt,nt,Ot,Nt,qt,Ct,Z){var Tt=Ct.length-1;switch(qt){case 1:return Ct[Tt-1];case 2:this.$=[];break;case 3:Ct[Tt-1].push(Ct[Tt]),this.$=Ct[Tt-1];break;case 4:case 5:this.$=Ct[Tt];break;case 6:case 7:this.$=[];break;case 8:Nt.setWeekday("monday");break;case 9:Nt.setWeekday("tuesday");break;case 10:Nt.setWeekday("wednesday");break;case 11:Nt.setWeekday("thursday");break;case 12:Nt.setWeekday("friday");break;case 13:Nt.setWeekday("saturday");break;case 14:Nt.setWeekday("sunday");break;case 15:Nt.setDateFormat(Ct[Tt].substr(11)),this.$=Ct[Tt].substr(11);break;case 16:Nt.enableInclusiveEndDates(),this.$=Ct[Tt].substr(18);break;case 17:Nt.TopAxis(),this.$=Ct[Tt].substr(8);break;case 18:Nt.setAxisFormat(Ct[Tt].substr(11)),this.$=Ct[Tt].substr(11);break;case 19:Nt.setTickInterval(Ct[Tt].substr(13)),this.$=Ct[Tt].substr(13);break;case 20:Nt.setExcludes(Ct[Tt].substr(9)),this.$=Ct[Tt].substr(9);break;case 21:Nt.setIncludes(Ct[Tt].substr(9)),this.$=Ct[Tt].substr(9);break;case 22:Nt.setTodayMarker(Ct[Tt].substr(12)),this.$=Ct[Tt].substr(12);break;case 24:Nt.setDiagramTitle(Ct[Tt].substr(6)),this.$=Ct[Tt].substr(6);break;case 25:this.$=Ct[Tt].trim(),Nt.setAccTitle(this.$);break;case 26:case 27:this.$=Ct[Tt].trim(),Nt.setAccDescription(this.$);break;case 28:Nt.addSection(Ct[Tt].substr(8)),this.$=Ct[Tt].substr(8);break;case 30:Nt.addTask(Ct[Tt-1],Ct[Tt]),this.$="task";break;case 31:this.$=Ct[Tt-1],Nt.setClickEvent(Ct[Tt-1],Ct[Tt],null);break;case 32:this.$=Ct[Tt-2],Nt.setClickEvent(Ct[Tt-2],Ct[Tt-1],Ct[Tt]);break;case 33:this.$=Ct[Tt-2],Nt.setClickEvent(Ct[Tt-2],Ct[Tt-1],null),Nt.setLink(Ct[Tt-2],Ct[Tt]);break;case 34:this.$=Ct[Tt-3],Nt.setClickEvent(Ct[Tt-3],Ct[Tt-2],Ct[Tt-1]),Nt.setLink(Ct[Tt-3],Ct[Tt]);break;case 35:this.$=Ct[Tt-2],Nt.setClickEvent(Ct[Tt-2],Ct[Tt],null),Nt.setLink(Ct[Tt-2],Ct[Tt-1]);break;case 36:this.$=Ct[Tt-3],Nt.setClickEvent(Ct[Tt-3],Ct[Tt-1],Ct[Tt]),Nt.setLink(Ct[Tt-3],Ct[Tt-2]);break;case 37:this.$=Ct[Tt-1],Nt.setLink(Ct[Tt-1],Ct[Tt]);break;case 38:case 44:this.$=Ct[Tt-1]+" "+Ct[Tt];break;case 39:case 40:case 42:this.$=Ct[Tt-2]+" "+Ct[Tt-1]+" "+Ct[Tt];break;case 41:case 43:this.$=Ct[Tt-3]+" "+Ct[Tt-2]+" "+Ct[Tt-1]+" "+Ct[Tt];break}},table:[{3:1,4:[1,2]},{1:[3]},i(a,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:f,13:p,14:v,15:m,16:b,17:E,18:_,19:L,20:N,21:B,22:j,23:R,24:z,25:K,26:it,27:st,28:ut,30:bt,32:mt,33:yt,34:23,35:dt,37:ht},i(a,[2,7],{1:[2,1]}),i(a,[2,3]),{9:33,11:17,12:f,13:p,14:v,15:m,16:b,17:E,18:_,19:L,20:N,21:B,22:j,23:R,24:z,25:K,26:it,27:st,28:ut,30:bt,32:mt,33:yt,34:23,35:dt,37:ht},i(a,[2,5]),i(a,[2,6]),i(a,[2,15]),i(a,[2,16]),i(a,[2,17]),i(a,[2,18]),i(a,[2,19]),i(a,[2,20]),i(a,[2,21]),i(a,[2,22]),i(a,[2,23]),i(a,[2,24]),{29:[1,34]},{31:[1,35]},i(a,[2,27]),i(a,[2,28]),i(a,[2,29]),{36:[1,36]},i(a,[2,8]),i(a,[2,9]),i(a,[2,10]),i(a,[2,11]),i(a,[2,12]),i(a,[2,13]),i(a,[2,14]),{38:[1,37],40:[1,38]},i(a,[2,4]),i(a,[2,25]),i(a,[2,26]),i(a,[2,30]),i(a,[2,31],{39:[1,39],40:[1,40]}),i(a,[2,37],{38:[1,41]}),i(a,[2,32],{40:[1,42]}),i(a,[2,33]),i(a,[2,35],{39:[1,43]}),i(a,[2,34]),i(a,[2,36])],defaultActions:{},parseError:function(xt,nt){if(nt.recoverable)this.trace(xt);else{var Ot=new Error(xt);throw Ot.hash=nt,Ot}},parse:function(xt){var nt=this,Ot=[0],Nt=[],qt=[null],Ct=[],Z=this.table,Tt="",Ht=0,It=0,Ft=2,ke=1,pn=Ct.slice.call(arguments,1),Me=Object.create(this.lexer),ve={yy:{}};for(var Ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ge)&&(ve.yy[Ge]=this.yy[Ge]);Me.setInput(xt,ve.yy),ve.yy.lexer=Me,ve.yy.parser=this,typeof Me.yylloc>"u"&&(Me.yylloc={});var Ke=Me.yylloc;Ct.push(Ke);var we=Me.options&&Me.options.ranges;typeof ve.yy.parseError=="function"?this.parseError=ve.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _e(){var da;return da=Nt.pop()||Me.lex()||ke,typeof da!="number"&&(da instanceof Array&&(Nt=da,da=Nt.pop()),da=nt.symbols_[da]||da),da}for(var $t,re,ie,Oe,oe={},Ne,me,cn,li;;){if(re=Ot[Ot.length-1],this.defaultActions[re]?ie=this.defaultActions[re]:(($t===null||typeof $t>"u")&&($t=_e()),ie=Z[re]&&Z[re][$t]),typeof ie>"u"||!ie.length||!ie[0]){var ya="";li=[];for(Ne in Z[re])this.terminals_[Ne]&&Ne>Ft&&li.push("'"+this.terminals_[Ne]+"'");Me.showPosition?ya="Parse error on line "+(Ht+1)+`:
`+Me.showPosition()+`
Expecting `+li.join(", ")+", got '"+(this.terminals_[$t]||$t)+"'":ya="Parse error on line "+(Ht+1)+": Unexpected "+($t==ke?"end of input":"'"+(this.terminals_[$t]||$t)+"'"),this.parseError(ya,{text:Me.match,token:this.terminals_[$t]||$t,line:Me.yylineno,loc:Ke,expected:li})}if(ie[0]instanceof Array&&ie.length>1)throw new Error("Parse Error: multiple actions possible at state: "+re+", token: "+$t);switch(ie[0]){case 1:Ot.push($t),qt.push(Me.yytext),Ct.push(Me.yylloc),Ot.push(ie[1]),$t=null,It=Me.yyleng,Tt=Me.yytext,Ht=Me.yylineno,Ke=Me.yylloc;break;case 2:if(me=this.productions_[ie[1]][1],oe.$=qt[qt.length-me],oe._$={first_line:Ct[Ct.length-(me||1)].first_line,last_line:Ct[Ct.length-1].last_line,first_column:Ct[Ct.length-(me||1)].first_column,last_column:Ct[Ct.length-1].last_column},we&&(oe._$.range=[Ct[Ct.length-(me||1)].range[0],Ct[Ct.length-1].range[1]]),Oe=this.performAction.apply(oe,[Tt,It,Ht,ve.yy,ie[1],qt,Ct].concat(pn)),typeof Oe<"u")return Oe;me&&(Ot=Ot.slice(0,-1*me*2),qt=qt.slice(0,-1*me),Ct=Ct.slice(0,-1*me)),Ot.push(this.productions_[ie[1]][0]),qt.push(oe.$),Ct.push(oe._$),cn=Z[Ot[Ot.length-2]][Ot[Ot.length-1]],Ot.push(cn);break;case 3:return!0}}return!0}},X=function(){var U={EOF:1,parseError:function(nt,Ot){if(this.yy.parser)this.yy.parser.parseError(nt,Ot);else throw new Error(nt)},setInput:function(xt,nt){return this.yy=nt||this.yy||{},this._input=xt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var xt=this._input[0];this.yytext+=xt,this.yyleng++,this.offset++,this.match+=xt,this.matched+=xt;var nt=xt.match(/(?:\r\n?|\n).*/g);return nt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),xt},unput:function(xt){var nt=xt.length,Ot=xt.split(/(?:\r\n?|\n)/g);this._input=xt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-nt),this.offset-=nt;var Nt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ot.length-1&&(this.yylineno-=Ot.length-1);var qt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ot?(Ot.length===Nt.length?this.yylloc.first_column:0)+Nt[Nt.length-Ot.length].length-Ot[0].length:this.yylloc.first_column-nt},this.options.ranges&&(this.yylloc.range=[qt[0],qt[0]+this.yyleng-nt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(xt){this.unput(this.match.slice(xt))},pastInput:function(){var xt=this.matched.substr(0,this.matched.length-this.match.length);return(xt.length>20?"...":"")+xt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var xt=this.match;return xt.length<20&&(xt+=this._input.substr(0,20-xt.length)),(xt.substr(0,20)+(xt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var xt=this.pastInput(),nt=new Array(xt.length+1).join("-");return xt+this.upcomingInput()+`
`+nt+"^"},test_match:function(xt,nt){var Ot,Nt,qt;if(this.options.backtrack_lexer&&(qt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(qt.yylloc.range=this.yylloc.range.slice(0))),Nt=xt[0].match(/(?:\r\n?|\n).*/g),Nt&&(this.yylineno+=Nt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Nt?Nt[Nt.length-1].length-Nt[Nt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+xt[0].length},this.yytext+=xt[0],this.match+=xt[0],this.matches=xt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(xt[0].length),this.matched+=xt[0],Ot=this.performAction.call(this,this.yy,this,nt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ot)return Ot;if(this._backtrack){for(var Ct in qt)this[Ct]=qt[Ct];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var xt,nt,Ot,Nt;this._more||(this.yytext="",this.match="");for(var qt=this._currentRules(),Ct=0;Ct<qt.length;Ct++)if(Ot=this._input.match(this.rules[qt[Ct]]),Ot&&(!nt||Ot[0].length>nt[0].length)){if(nt=Ot,Nt=Ct,this.options.backtrack_lexer){if(xt=this.test_match(Ot,qt[Ct]),xt!==!1)return xt;if(this._backtrack){nt=!1;continue}else return!1}else if(!this.options.flex)break}return nt?(xt=this.test_match(nt,qt[Nt]),xt!==!1?xt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var nt=this.next();return nt||this.lex()},begin:function(nt){this.conditionStack.push(nt)},popState:function(){var nt=this.conditionStack.length-1;return nt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(nt){return nt=this.conditionStack.length-1-Math.abs(nt||0),nt>=0?this.conditionStack[nt]:"INITIAL"},pushState:function(nt){this.begin(nt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(nt,Ot,Nt,qt){switch(Nt){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),28;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),30;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:break;case 15:this.begin("href");break;case 16:this.popState();break;case 17:return 40;case 18:this.begin("callbackname");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callbackargs");break;case 21:return 38;case 22:this.popState();break;case 23:return 39;case 24:this.begin("click");break;case 25:this.popState();break;case 26:return 37;case 27:return 4;case 28:return 19;case 29:return 20;case 30:return 21;case 31:return 22;case 32:return 23;case 33:return 25;case 34:return 24;case 35:return 26;case 36:return 12;case 37:return 13;case 38:return 14;case 39:return 15;case 40:return 16;case 41:return 17;case 42:return 18;case 43:return"date";case 44:return 27;case 45:return"accDescription";case 46:return 33;case 47:return 35;case 48:return 36;case 49:return":";case 50:return 6;case 51:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[22,23],inclusive:!1},callbackname:{rules:[19,20,21],inclusive:!1},href:{rules:[16,17],inclusive:!1},click:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,18,24,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return U}();wt.lexer=X;function pt(){this.yy={}}return pt.prototype=wt,wt.Parser=pt,new pt}();R0t.parser=R0t;const Dze=R0t;var GBt={exports:{}};(function(i,a){(function(f,p){i.exports=p()})(d0,function(){var f="day";return function(p,v,m){var b=function(L){return L.add(4-L.isoWeekday(),f)},E=v.prototype;E.isoWeekYear=function(){return b(this).year()},E.isoWeek=function(L){if(!this.$utils().u(L))return this.add(7*(L-this.isoWeek()),f);var N,B,j,R,z=b(this),K=(N=this.isoWeekYear(),B=this.$u,j=(B?m.utc:m)().year(N).startOf("year"),R=4-j.isoWeekday(),j.isoWeekday()>4&&(R+=7),j.add(R,f));return z.diff(K,"week")+1},E.isoWeekday=function(L){return this.$utils().u(L)?this.day()||7:this.day(this.day()%7?L:L-7)};var _=E.startOf;E.startOf=function(L,N){var B=this.$utils(),j=!!B.u(N)||N;return B.p(L)==="isoweek"?j?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):_.bind(this)(L,N)}}})})(GBt);var Oze=GBt.exports;const Nze=B7(Oze);var VBt={exports:{}};(function(i,a){(function(f,p){i.exports=p()})(d0,function(){var f={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},p=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,v=/\d\d/,m=/\d\d?/,b=/\d*[^-_:/,()\s\d]+/,E={},_=function(K){return(K=+K)+(K>68?1900:2e3)},L=function(K){return function(it){this[K]=+it}},N=[/[+-]\d\d:?(\d\d)?|Z/,function(K){(this.zone||(this.zone={})).offset=function(it){if(!it||it==="Z")return 0;var st=it.match(/([+-]|\d\d)/g),ut=60*st[1]+(+st[2]||0);return ut===0?0:st[0]==="+"?-ut:ut}(K)}],B=function(K){var it=E[K];return it&&(it.indexOf?it:it.s.concat(it.f))},j=function(K,it){var st,ut=E.meridiem;if(ut){for(var bt=1;bt<=24;bt+=1)if(K.indexOf(ut(bt,0,it))>-1){st=bt>12;break}}else st=K===(it?"pm":"PM");return st},R={A:[b,function(K){this.afternoon=j(K,!1)}],a:[b,function(K){this.afternoon=j(K,!0)}],S:[/\d/,function(K){this.milliseconds=100*+K}],SS:[v,function(K){this.milliseconds=10*+K}],SSS:[/\d{3}/,function(K){this.milliseconds=+K}],s:[m,L("seconds")],ss:[m,L("seconds")],m:[m,L("minutes")],mm:[m,L("minutes")],H:[m,L("hours")],h:[m,L("hours")],HH:[m,L("hours")],hh:[m,L("hours")],D:[m,L("day")],DD:[v,L("day")],Do:[b,function(K){var it=E.ordinal,st=K.match(/\d+/);if(this.day=st[0],it)for(var ut=1;ut<=31;ut+=1)it(ut).replace(/\[|\]/g,"")===K&&(this.day=ut)}],M:[m,L("month")],MM:[v,L("month")],MMM:[b,function(K){var it=B("months"),st=(B("monthsShort")||it.map(function(ut){return ut.slice(0,3)})).indexOf(K)+1;if(st<1)throw new Error;this.month=st%12||st}],MMMM:[b,function(K){var it=B("months").indexOf(K)+1;if(it<1)throw new Error;this.month=it%12||it}],Y:[/[+-]?\d+/,L("year")],YY:[v,function(K){this.year=_(K)}],YYYY:[/\d{4}/,L("year")],Z:N,ZZ:N};function z(K){var it,st;it=K,st=E&&E.formats;for(var ut=(K=it.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(X,pt,U){var xt=U&&U.toUpperCase();return pt||st[U]||f[U]||st[xt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(nt,Ot,Nt){return Ot||Nt.slice(1)})})).match(p),bt=ut.length,mt=0;mt<bt;mt+=1){var yt=ut[mt],dt=R[yt],ht=dt&&dt[0],wt=dt&&dt[1];ut[mt]=wt?{regex:ht,parser:wt}:yt.replace(/^\[|\]$/g,"")}return function(X){for(var pt={},U=0,xt=0;U<bt;U+=1){var nt=ut[U];if(typeof nt=="string")xt+=nt.length;else{var Ot=nt.regex,Nt=nt.parser,qt=X.slice(xt),Ct=Ot.exec(qt)[0];Nt.call(pt,Ct),X=X.replace(Ct,"")}}return function(Z){var Tt=Z.afternoon;if(Tt!==void 0){var Ht=Z.hours;Tt?Ht<12&&(Z.hours+=12):Ht===12&&(Z.hours=0),delete Z.afternoon}}(pt),pt}}return function(K,it,st){st.p.customParseFormat=!0,K&&K.parseTwoDigitYear&&(_=K.parseTwoDigitYear);var ut=it.prototype,bt=ut.parse;ut.parse=function(mt){var yt=mt.date,dt=mt.utc,ht=mt.args;this.$u=dt;var wt=ht[1];if(typeof wt=="string"){var X=ht[2]===!0,pt=ht[3]===!0,U=X||pt,xt=ht[2];pt&&(xt=ht[2]),E=this.$locale(),!X&&xt&&(E=st.Ls[xt]),this.$d=function(qt,Ct,Z){try{if(["x","X"].indexOf(Ct)>-1)return new Date((Ct==="X"?1e3:1)*qt);var Tt=z(Ct)(qt),Ht=Tt.year,It=Tt.month,Ft=Tt.day,ke=Tt.hours,pn=Tt.minutes,Me=Tt.seconds,ve=Tt.milliseconds,Ge=Tt.zone,Ke=new Date,we=Ft||(Ht||It?1:Ke.getDate()),_e=Ht||Ke.getFullYear(),$t=0;Ht&&!It||($t=It>0?It-1:Ke.getMonth());var re=ke||0,ie=pn||0,Oe=Me||0,oe=ve||0;return Ge?new Date(Date.UTC(_e,$t,we,re,ie,Oe,oe+60*Ge.offset*1e3)):Z?new Date(Date.UTC(_e,$t,we,re,ie,Oe,oe)):new Date(_e,$t,we,re,ie,Oe,oe)}catch{return new Date("")}}(yt,wt,dt),this.init(),xt&&xt!==!0&&(this.$L=this.locale(xt).$L),U&&yt!=this.format(wt)&&(this.$d=new Date("")),E={}}else if(wt instanceof Array)for(var nt=wt.length,Ot=1;Ot<=nt;Ot+=1){ht[1]=wt[Ot-1];var Nt=st.apply(this,ht);if(Nt.isValid()){this.$d=Nt.$d,this.$L=Nt.$L,this.init();break}Ot===nt&&(this.$d=new Date(""))}else bt.call(this,mt)}}})})(VBt);var Pze=VBt.exports;const Fze=B7(Pze);var UBt={exports:{}};(function(i,a){(function(f,p){i.exports=p()})(d0,function(){return function(f,p){var v=p.prototype,m=v.format;v.format=function(b){var E=this,_=this.$locale();if(!this.isValid())return m.bind(this)(b);var L=this.$utils(),N=(b||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(B){switch(B){case"Q":return Math.ceil((E.$M+1)/3);case"Do":return _.ordinal(E.$D);case"gggg":return E.weekYear();case"GGGG":return E.isoWeekYear();case"wo":return _.ordinal(E.week(),"W");case"w":case"ww":return L.s(E.week(),B==="w"?1:2,"0");case"W":case"WW":return L.s(E.isoWeek(),B==="W"?1:2,"0");case"k":case"kk":return L.s(String(E.$H===0?24:E.$H),B==="k"?1:2,"0");case"X":return Math.floor(E.$d.getTime()/1e3);case"x":return E.$d.getTime();case"z":return"["+E.offsetName()+"]";case"zzz":return"["+E.offsetName("long")+"]";default:return B}});return m.bind(this)(N)}}})})(UBt);var Bze=UBt.exports;const Rze=B7(Bze);g0.extend(Nze),g0.extend(Fze),g0.extend(Rze);let m3="",j0t="",$0t,z0t="",SP=[],AP=[],q0t={},H0t=[],kK=[],iL="",G0t="";const WBt=["active","done","crit","milestone"];let V0t=[],LP=!1,U0t=!1,W0t="sunday",K0t=0;const jze=function(){H0t=[],kK=[],iL="",V0t=[],EK=0,X0t=void 0,TK=void 0,u1=[],m3="",j0t="",G0t="",$0t=void 0,z0t="",SP=[],AP=[],LP=!1,U0t=!1,K0t=0,q0t={},ap(),W0t="sunday"},$ze=function(i){j0t=i},zze=function(){return j0t},qze=function(i){$0t=i},Hze=function(){return $0t},Gze=function(i){z0t=i},Vze=function(){return z0t},Uze=function(i){m3=i},Wze=function(){LP=!0},Kze=function(){return LP},Yze=function(){U0t=!0},Xze=function(){return U0t},Qze=function(i){G0t=i},Zze=function(){return G0t},Jze=function(){return m3},tqe=function(i){SP=i.toLowerCase().split(/[\s,]+/)},eqe=function(){return SP},nqe=function(i){AP=i.toLowerCase().split(/[\s,]+/)},rqe=function(){return AP},iqe=function(){return q0t},sqe=function(i){iL=i,H0t.push(i)},aqe=function(){return H0t},oqe=function(){let i=JBt();const a=10;let f=0;for(;!i&&f<a;)i=JBt(),f++;return kK=u1,kK},KBt=function(i,a,f,p){return p.includes(i.format(a.trim()))?!1:i.isoWeekday()>=6&&f.includes("weekends")||f.includes(i.format("dddd").toLowerCase())?!0:f.includes(i.format(a.trim()))},cqe=function(i){W0t=i},uqe=function(){return W0t},YBt=function(i,a,f,p){if(!f.length||i.manualEndTime)return;let v;i.startTime instanceof Date?v=g0(i.startTime):v=g0(i.startTime,a,!0),v=v.add(1,"d");let m;i.endTime instanceof Date?m=g0(i.endTime):m=g0(i.endTime,a,!0);const[b,E]=lqe(v,m,a,f,p);i.endTime=b.toDate(),i.renderEndTime=E},lqe=function(i,a,f,p,v){let m=!1,b=null;for(;i<=a;)m||(b=a.toDate()),m=KBt(i,f,p,v),m&&(a=a.add(1,"d")),i=i.add(1,"d");return[a,b]},Y0t=function(i,a,f){f=f.trim();const v=/^after\s+([\d\w- ]+)/.exec(f.trim());if(v!==null){let b=null;if(v[1].split(" ").forEach(function(E){let _=aL(E);_!==void 0&&(b?_.endTime>b.endTime&&(b=_):b=_)}),b)return b.endTime;{const E=new Date;return E.setHours(0,0,0,0),E}}let m=g0(f,a.trim(),!0);if(m.isValid())return m.toDate();{Ut.debug("Invalid date:"+f),Ut.debug("With date format:"+a.trim());const b=new Date(f);if(b===void 0||isNaN(b.getTime())||b.getFullYear()<-1e4||b.getFullYear()>1e4)throw new Error("Invalid date:"+f);return b}},XBt=function(i){const a=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(i.trim());return a!==null?[Number.parseFloat(a[1]),a[2]]:[NaN,"ms"]},QBt=function(i,a,f,p=!1){f=f.trim();let v=g0(f,a.trim(),!0);if(v.isValid())return p&&(v=v.add(1,"d")),v.toDate();let m=g0(i);const[b,E]=XBt(f);if(!Number.isNaN(b)){const _=m.add(b,E);_.isValid()&&(m=_)}return m.toDate()};let EK=0;const sL=function(i){return i===void 0?(EK=EK+1,"task"+EK):i},hqe=function(i,a){let f;a.substr(0,1)===":"?f=a.substr(1,a.length):f=a;const p=f.split(","),v={};nRt(p,v,WBt);for(let b=0;b<p.length;b++)p[b]=p[b].trim();let m="";switch(p.length){case 1:v.id=sL(),v.startTime=i.endTime,m=p[0];break;case 2:v.id=sL(),v.startTime=Y0t(void 0,m3,p[0]),m=p[1];break;case 3:v.id=sL(p[0]),v.startTime=Y0t(void 0,m3,p[1]),m=p[2];break}return m&&(v.endTime=QBt(v.startTime,m3,m,LP),v.manualEndTime=g0(m,"YYYY-MM-DD",!0).isValid(),YBt(v,m3,AP,SP)),v},fqe=function(i,a){let f;a.substr(0,1)===":"?f=a.substr(1,a.length):f=a;const p=f.split(","),v={};nRt(p,v,WBt);for(let m=0;m<p.length;m++)p[m]=p[m].trim();switch(p.length){case 1:v.id=sL(),v.startTime={type:"prevTaskEnd",id:i},v.endTime={data:p[0]};break;case 2:v.id=sL(),v.startTime={type:"getStartDate",startData:p[0]},v.endTime={data:p[1]};break;case 3:v.id=sL(p[0]),v.startTime={type:"getStartDate",startData:p[1]},v.endTime={data:p[2]};break}return v};let X0t,TK,u1=[];const ZBt={},dqe=function(i,a){const f={section:iL,type:iL,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:a},task:i,classes:[]},p=fqe(TK,a);f.raw.startTime=p.startTime,f.raw.endTime=p.endTime,f.id=p.id,f.prevTaskId=TK,f.active=p.active,f.done=p.done,f.crit=p.crit,f.milestone=p.milestone,f.order=K0t,K0t++;const v=u1.push(f);TK=f.id,ZBt[f.id]=v-1},aL=function(i){const a=ZBt[i];return u1[a]},gqe=function(i,a){const f={section:iL,type:iL,description:i,task:i,classes:[]},p=hqe(X0t,a);f.startTime=p.startTime,f.endTime=p.endTime,f.id=p.id,f.active=p.active,f.done=p.done,f.crit=p.crit,f.milestone=p.milestone,X0t=f,kK.push(f)},JBt=function(){const i=function(f){const p=u1[f];let v="";switch(u1[f].raw.startTime.type){case"prevTaskEnd":{const m=aL(p.prevTaskId);p.startTime=m.endTime;break}case"getStartDate":v=Y0t(void 0,m3,u1[f].raw.startTime.startData),v&&(u1[f].startTime=v);break}return u1[f].startTime&&(u1[f].endTime=QBt(u1[f].startTime,m3,u1[f].raw.endTime.data,LP),u1[f].endTime&&(u1[f].processed=!0,u1[f].manualEndTime=g0(u1[f].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),YBt(u1[f],m3,AP,SP))),u1[f].processed};let a=!0;for(const[f,p]of u1.entries())i(f),a=a&&p.processed;return a},pqe=function(i,a){let f=a;Le().securityLevel!=="loose"&&(f=Q6(a)),i.split(",").forEach(function(p){aL(p)!==void 0&&(eRt(p,()=>{window.open(f,"_self")}),q0t[p]=f)}),tRt(i,"clickable")},tRt=function(i,a){i.split(",").forEach(function(f){let p=aL(f);p!==void 0&&p.classes.push(a)})},bqe=function(i,a,f){if(Le().securityLevel!=="loose"||a===void 0)return;let p=[];if(typeof f=="string"){p=f.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let m=0;m<p.length;m++){let b=p[m].trim();b.charAt(0)==='"'&&b.charAt(b.length-1)==='"'&&(b=b.substr(1,b.length-2)),p[m]=b}}p.length===0&&p.push(i),aL(i)!==void 0&&eRt(i,()=>{$a.runFunc(a,...p)})},eRt=function(i,a){V0t.push(function(){const f=document.querySelector(`[id="${i}"]`);f!==null&&f.addEventListener("click",function(){a()})},function(){const f=document.querySelector(`[id="${i}-text"]`);f!==null&&f.addEventListener("click",function(){a()})})},vqe={getConfig:()=>Le().gantt,clear:jze,setDateFormat:Uze,getDateFormat:Jze,enableInclusiveEndDates:Wze,endDatesAreInclusive:Kze,enableTopAxis:Yze,topAxisEnabled:Xze,setAxisFormat:$ze,getAxisFormat:zze,setTickInterval:qze,getTickInterval:Hze,setTodayMarker:Gze,getTodayMarker:Vze,setAccTitle:cg,getAccTitle:op,setDiagramTitle:Z2,getDiagramTitle:Db,setDisplayMode:Qze,getDisplayMode:Zze,setAccDescription:cp,getAccDescription:up,addSection:sqe,getSections:aqe,getTasks:oqe,addTask:dqe,findTaskById:aL,addTaskOrg:gqe,setIncludes:tqe,getIncludes:eqe,setExcludes:nqe,getExcludes:rqe,setClickEvent:function(i,a,f){i.split(",").forEach(function(p){bqe(p,a,f)}),tRt(i,"clickable")},setLink:pqe,getLinks:iqe,bindFunctions:function(i){V0t.forEach(function(a){a(i)})},parseDuration:XBt,isInvalidDate:KBt,setWeekday:cqe,getWeekday:uqe};function nRt(i,a,f){let p=!0;for(;p;)p=!1,f.forEach(function(v){const m="^\\s*"+v+"\\s*$",b=new RegExp(m);i[0].match(b)&&(a[v]=!0,i.shift(1),p=!0)})}const wqe=function(){Ut.debug("Something is calling, setConf, remove the call")},rRt={monday:MN,tuesday:YMt,wednesday:XMt,thursday:K7,friday:QMt,saturday:ZMt,sunday:LN},mqe=(i,a)=>{let f=[...i].map(()=>-1/0),p=[...i].sort((m,b)=>m.startTime-b.startTime||m.order-b.order),v=0;for(const m of p)for(let b=0;b<f.length;b++)if(m.startTime>=f[b]){f[b]=m.endTime,m.order=b+a,b>v&&(v=b);break}return v};let L5;const yqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:Dze,db:vqe,renderer:{setConf:wqe,draw:function(i,a,f,p){const v=Le().gantt,m=Le().securityLevel;let b;m==="sandbox"&&(b=yr("#i"+a));const E=yr(m==="sandbox"?b.nodes()[0].contentDocument.body:"body"),_=m==="sandbox"?b.nodes()[0].contentDocument:document,L=_.getElementById(a);L5=L.parentElement.offsetWidth,L5===void 0&&(L5=1200),v.useWidth!==void 0&&(L5=v.useWidth);const N=p.db.getTasks();let B=[];for(const wt of N)B.push(wt.type);B=ht(B);const j={};let R=2*v.topPadding;if(p.db.getDisplayMode()==="compact"||v.displayMode==="compact"){const wt={};for(const pt of N)wt[pt.section]===void 0?wt[pt.section]=[pt]:wt[pt.section].push(pt);let X=0;for(const pt of Object.keys(wt)){const U=mqe(wt[pt],X)+1;X+=U,R+=U*(v.barHeight+v.barGap),j[pt]=U}}else{R+=N.length*(v.barHeight+v.barGap);for(const wt of B)j[wt]=N.filter(X=>X.type===wt).length}L.setAttribute("viewBox","0 0 "+L5+" "+R);const z=E.select(`[id="${a}"]`),K=C7e().domain([lxe(N,function(wt){return wt.startTime}),uxe(N,function(wt){return wt.endTime})]).rangeRound([0,L5-v.leftPadding-v.rightPadding]);function it(wt,X){const pt=wt.startTime,U=X.startTime;let xt=0;return pt>U?xt=1:pt<U&&(xt=-1),xt}N.sort(it),st(N,L5,R),og(z,R,L5,v.useMaxWidth),z.append("text").text(p.db.getDiagramTitle()).attr("x",L5/2).attr("y",v.titleTopMargin).attr("class","titleText");function st(wt,X,pt){const U=v.barHeight,xt=U+v.barGap,nt=v.topPadding,Ot=v.leftPadding,Nt=BU().domain([0,B.length]).range(["#00B9FA","#F95002"]).interpolate(Ike);bt(xt,nt,Ot,X,pt,wt,p.db.getExcludes(),p.db.getIncludes()),mt(Ot,nt,X,pt),ut(wt,xt,nt,Ot,U,Nt,X),yt(xt,nt),dt(Ot,nt,X,pt)}function ut(wt,X,pt,U,xt,nt,Ot){const qt=[...new Set(wt.map(Ht=>Ht.order))].map(Ht=>wt.find(It=>It.order===Ht));z.append("g").selectAll("rect").data(qt).enter().append("rect").attr("x",0).attr("y",function(Ht,It){return It=Ht.order,It*X+pt-2}).attr("width",function(){return Ot-v.rightPadding/2}).attr("height",X).attr("class",function(Ht){for(const[It,Ft]of B.entries())if(Ht.type===Ft)return"section section"+It%v.numberSectionStyles;return"section section0"});const Ct=z.append("g").selectAll("rect").data(wt).enter(),Z=p.db.getLinks();if(Ct.append("rect").attr("id",function(Ht){return Ht.id}).attr("rx",3).attr("ry",3).attr("x",function(Ht){return Ht.milestone?K(Ht.startTime)+U+.5*(K(Ht.endTime)-K(Ht.startTime))-.5*xt:K(Ht.startTime)+U}).attr("y",function(Ht,It){return It=Ht.order,It*X+pt}).attr("width",function(Ht){return Ht.milestone?xt:K(Ht.renderEndTime||Ht.endTime)-K(Ht.startTime)}).attr("height",xt).attr("transform-origin",function(Ht,It){return It=Ht.order,(K(Ht.startTime)+U+.5*(K(Ht.endTime)-K(Ht.startTime))).toString()+"px "+(It*X+pt+.5*xt).toString()+"px"}).attr("class",function(Ht){const It="task";let Ft="";Ht.classes.length>0&&(Ft=Ht.classes.join(" "));let ke=0;for(const[Me,ve]of B.entries())Ht.type===ve&&(ke=Me%v.numberSectionStyles);let pn="";return Ht.active?Ht.crit?pn+=" activeCrit":pn=" active":Ht.done?Ht.crit?pn=" doneCrit":pn=" done":Ht.crit&&(pn+=" crit"),pn.length===0&&(pn=" task"),Ht.milestone&&(pn=" milestone "+pn),pn+=ke,pn+=" "+Ft,It+pn}),Ct.append("text").attr("id",function(Ht){return Ht.id+"-text"}).text(function(Ht){return Ht.task}).attr("font-size",v.fontSize).attr("x",function(Ht){let It=K(Ht.startTime),Ft=K(Ht.renderEndTime||Ht.endTime);Ht.milestone&&(It+=.5*(K(Ht.endTime)-K(Ht.startTime))-.5*xt),Ht.milestone&&(Ft=It+xt);const ke=this.getBBox().width;return ke>Ft-It?Ft+ke+1.5*v.leftPadding>Ot?It+U-5:Ft+U+5:(Ft-It)/2+It+U}).attr("y",function(Ht,It){return It=Ht.order,It*X+v.barHeight/2+(v.fontSize/2-2)+pt}).attr("text-height",xt).attr("class",function(Ht){const It=K(Ht.startTime);let Ft=K(Ht.endTime);Ht.milestone&&(Ft=It+xt);const ke=this.getBBox().width;let pn="";Ht.classes.length>0&&(pn=Ht.classes.join(" "));let Me=0;for(const[Ge,Ke]of B.entries())Ht.type===Ke&&(Me=Ge%v.numberSectionStyles);let ve="";return Ht.active&&(Ht.crit?ve="activeCritText"+Me:ve="activeText"+Me),Ht.done?Ht.crit?ve=ve+" doneCritText"+Me:ve=ve+" doneText"+Me:Ht.crit&&(ve=ve+" critText"+Me),Ht.milestone&&(ve+=" milestoneText"),ke>Ft-It?Ft+ke+1.5*v.leftPadding>Ot?pn+" taskTextOutsideLeft taskTextOutside"+Me+" "+ve:pn+" taskTextOutsideRight taskTextOutside"+Me+" "+ve+" width-"+ke:pn+" taskText taskText"+Me+" "+ve+" width-"+ke}),Le().securityLevel==="sandbox"){let Ht;Ht=yr("#i"+a);const It=Ht.nodes()[0].contentDocument;Ct.filter(function(Ft){return Z[Ft.id]!==void 0}).each(function(Ft){var ke=It.querySelector("#"+Ft.id),pn=It.querySelector("#"+Ft.id+"-text");const Me=ke.parentNode;var ve=It.createElement("a");ve.setAttribute("xlink:href",Z[Ft.id]),ve.setAttribute("target","_top"),Me.appendChild(ve),ve.appendChild(ke),ve.appendChild(pn)})}}function bt(wt,X,pt,U,xt,nt,Ot,Nt){if(Ot.length===0&&Nt.length===0)return;let qt,Ct;for(const{startTime:ke,endTime:pn}of nt)(qt===void 0||ke<qt)&&(qt=ke),(Ct===void 0||pn>Ct)&&(Ct=pn);if(!qt||!Ct)return;if(g0(Ct).diff(g0(qt),"year")>5){Ut.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const Z=p.db.getDateFormat(),Tt=[];let Ht=null,It=g0(qt);for(;It.valueOf()<=Ct;)p.db.isInvalidDate(It,Z,Ot,Nt)?Ht?Ht.end=It:Ht={start:It,end:It}:Ht&&(Tt.push(Ht),Ht=null),It=It.add(1,"d");z.append("g").selectAll("rect").data(Tt).enter().append("rect").attr("id",function(ke){return"exclude-"+ke.start.format("YYYY-MM-DD")}).attr("x",function(ke){return K(ke.start)+pt}).attr("y",v.gridLineStartPadding).attr("width",function(ke){const pn=ke.end.add(1,"day");return K(pn)-K(ke.start)}).attr("height",xt-X-v.gridLineStartPadding).attr("transform-origin",function(ke,pn){return(K(ke.start)+pt+.5*(K(ke.end)-K(ke.start))).toString()+"px "+(pn*wt+.5*xt).toString()+"px"}).attr("class","exclude-range")}function mt(wt,X,pt,U){let xt=wxe(K).tickSize(-U+X+v.gridLineStartPadding).tickFormat(HU(p.db.getAxisFormat()||v.axisFormat||"%Y-%m-%d"));const Ot=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(p.db.getTickInterval()||v.tickInterval);if(Ot!==null){const Nt=Ot[1],qt=Ot[2],Ct=p.db.getWeekday()||v.weekday;switch(qt){case"millisecond":xt.ticks(C1t.every(Nt));break;case"second":xt.ticks(U7.every(Nt));break;case"minute":xt.ticks(jU.every(Nt));break;case"hour":xt.ticks($U.every(Nt));break;case"day":xt.ticks(CA.every(Nt));break;case"week":xt.ticks(rRt[Ct].every(Nt));break;case"month":xt.ticks(zU.every(Nt));break}}if(z.append("g").attr("class","grid").attr("transform","translate("+wt+", "+(U-50)+")").call(xt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),p.db.topAxisEnabled()||v.topAxis){let Nt=vxe(K).tickSize(-U+X+v.gridLineStartPadding).tickFormat(HU(p.db.getAxisFormat()||v.axisFormat||"%Y-%m-%d"));if(Ot!==null){const qt=Ot[1],Ct=Ot[2],Z=p.db.getWeekday()||v.weekday;switch(Ct){case"millisecond":Nt.ticks(C1t.every(qt));break;case"second":Nt.ticks(U7.every(qt));break;case"minute":Nt.ticks(jU.every(qt));break;case"hour":Nt.ticks($U.every(qt));break;case"day":Nt.ticks(CA.every(qt));break;case"week":Nt.ticks(rRt[Z].every(qt));break;case"month":Nt.ticks(zU.every(qt));break}}z.append("g").attr("class","grid").attr("transform","translate("+wt+", "+X+")").call(Nt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function yt(wt,X){let pt=0;const U=Object.keys(j).map(xt=>[xt,j[xt]]);z.append("g").selectAll("text").data(U).enter().append(function(xt){const nt=xt[0].split(Yr.lineBreakRegex),Ot=-(nt.length-1)/2,Nt=_.createElementNS("http://www.w3.org/2000/svg","text");Nt.setAttribute("dy",Ot+"em");for(const[qt,Ct]of nt.entries()){const Z=_.createElementNS("http://www.w3.org/2000/svg","tspan");Z.setAttribute("alignment-baseline","central"),Z.setAttribute("x","10"),qt>0&&Z.setAttribute("dy","1em"),Z.textContent=Ct,Nt.appendChild(Z)}return Nt}).attr("x",10).attr("y",function(xt,nt){if(nt>0)for(let Ot=0;Ot<nt;Ot++)return pt+=U[nt-1][1],xt[1]*wt/2+pt*wt+X;else return xt[1]*wt/2+X}).attr("font-size",v.sectionFontSize).attr("class",function(xt){for(const[nt,Ot]of B.entries())if(xt[0]===Ot)return"sectionTitle sectionTitle"+nt%v.numberSectionStyles;return"sectionTitle"})}function dt(wt,X,pt,U){const xt=p.db.getTodayMarker();if(xt==="off")return;const nt=z.append("g").attr("class","today"),Ot=new Date,Nt=nt.append("line");Nt.attr("x1",K(Ot)+wt).attr("x2",K(Ot)+wt).attr("y1",v.titleTopMargin).attr("y2",U-v.titleTopMargin).attr("class","today"),xt!==""&&Nt.attr("style",xt.replace(/,/g,";"))}function ht(wt){const X={},pt=[];for(let U=0,xt=wt.length;U<xt;++U)Object.prototype.hasOwnProperty.call(X,wt[U])||(X[wt[U]]=!0,pt.push(wt[U]));return pt}}},styles:i=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${i.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${i.sectionBkgColor};
  }

  .section2 {
    fill: ${i.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${i.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${i.titleColor};
  }

  .sectionTitle1 {
    fill: ${i.titleColor};
  }

  .sectionTitle2 {
    fill: ${i.titleColor};
  }

  .sectionTitle3 {
    fill: ${i.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${i.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${i.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${i.fontFamily};
      fill: ${i.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${i.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${i.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${i.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${i.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${i.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${i.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${i.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${i.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${i.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${i.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${i.taskBkgColor};
    stroke: ${i.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${i.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${i.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${i.activeTaskBkgColor};
    stroke: ${i.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${i.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${i.doneTaskBorderColor};
    fill: ${i.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${i.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${i.critBorderColor};
    fill: ${i.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${i.critBorderColor};
    fill: ${i.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${i.critBorderColor};
    fill: ${i.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${i.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${i.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${i.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`}},Symbol.toStringTag,{value:"Module"}));var Q0t=function(){var i=function(m,b,E,_){for(E=E||{},_=m.length;_--;E[m[_]]=b);return E},a=[6,9,10],f={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(b,E,_,L,N,B,j){switch(B.length-1,N){case 1:return L;case 4:break;case 6:L.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},i(a,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},i(a,[2,3]),i(a,[2,4]),i(a,[2,5]),i(a,[2,6])],defaultActions:{4:[2,1]},parseError:function(b,E){if(E.recoverable)this.trace(b);else{var _=new Error(b);throw _.hash=E,_}},parse:function(b){var E=this,_=[0],L=[],N=[null],B=[],j=this.table,R="",z=0,K=0,it=2,st=1,ut=B.slice.call(arguments,1),bt=Object.create(this.lexer),mt={yy:{}};for(var yt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,yt)&&(mt.yy[yt]=this.yy[yt]);bt.setInput(b,mt.yy),mt.yy.lexer=bt,mt.yy.parser=this,typeof bt.yylloc>"u"&&(bt.yylloc={});var dt=bt.yylloc;B.push(dt);var ht=bt.options&&bt.options.ranges;typeof mt.yy.parseError=="function"?this.parseError=mt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function wt(){var Tt;return Tt=L.pop()||bt.lex()||st,typeof Tt!="number"&&(Tt instanceof Array&&(L=Tt,Tt=L.pop()),Tt=E.symbols_[Tt]||Tt),Tt}for(var X,pt,U,xt,nt={},Ot,Nt,qt,Ct;;){if(pt=_[_.length-1],this.defaultActions[pt]?U=this.defaultActions[pt]:((X===null||typeof X>"u")&&(X=wt()),U=j[pt]&&j[pt][X]),typeof U>"u"||!U.length||!U[0]){var Z="";Ct=[];for(Ot in j[pt])this.terminals_[Ot]&&Ot>it&&Ct.push("'"+this.terminals_[Ot]+"'");bt.showPosition?Z="Parse error on line "+(z+1)+`:
`+bt.showPosition()+`
Expecting `+Ct.join(", ")+", got '"+(this.terminals_[X]||X)+"'":Z="Parse error on line "+(z+1)+": Unexpected "+(X==st?"end of input":"'"+(this.terminals_[X]||X)+"'"),this.parseError(Z,{text:bt.match,token:this.terminals_[X]||X,line:bt.yylineno,loc:dt,expected:Ct})}if(U[0]instanceof Array&&U.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pt+", token: "+X);switch(U[0]){case 1:_.push(X),N.push(bt.yytext),B.push(bt.yylloc),_.push(U[1]),X=null,K=bt.yyleng,R=bt.yytext,z=bt.yylineno,dt=bt.yylloc;break;case 2:if(Nt=this.productions_[U[1]][1],nt.$=N[N.length-Nt],nt._$={first_line:B[B.length-(Nt||1)].first_line,last_line:B[B.length-1].last_line,first_column:B[B.length-(Nt||1)].first_column,last_column:B[B.length-1].last_column},ht&&(nt._$.range=[B[B.length-(Nt||1)].range[0],B[B.length-1].range[1]]),xt=this.performAction.apply(nt,[R,K,z,mt.yy,U[1],N,B].concat(ut)),typeof xt<"u")return xt;Nt&&(_=_.slice(0,-1*Nt*2),N=N.slice(0,-1*Nt),B=B.slice(0,-1*Nt)),_.push(this.productions_[U[1]][0]),N.push(nt.$),B.push(nt._$),qt=j[_[_.length-2]][_[_.length-1]],_.push(qt);break;case 3:return!0}}return!0}},p=function(){var m={EOF:1,parseError:function(E,_){if(this.yy.parser)this.yy.parser.parseError(E,_);else throw new Error(E)},setInput:function(b,E){return this.yy=E||this.yy||{},this._input=b,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var b=this._input[0];this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b;var E=b.match(/(?:\r\n?|\n).*/g);return E?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},unput:function(b){var E=b.length,_=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===L.length?this.yylloc.first_column:0)+L[L.length-_.length].length-_[0].length:this.yylloc.first_column-E},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-E]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(b.length>20?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return b.length<20&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(b.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),E=new Array(b.length+1).join("-");return b+this.upcomingInput()+`
`+E+"^"},test_match:function(b,E){var _,L,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),L=b[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],_=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var B in N)this[B]=N[B];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,E,_,L;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),B=0;B<N.length;B++)if(_=this._input.match(this.rules[N[B]]),_&&(!E||_[0].length>E[0].length)){if(E=_,L=B,this.options.backtrack_lexer){if(b=this.test_match(_,N[B]),b!==!1)return b;if(this._backtrack){E=!1;continue}else return!1}else if(!this.options.flex)break}return E?(b=this.test_match(E,N[L]),b!==!1?b:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var E=this.next();return E||this.lex()},begin:function(E){this.conditionStack.push(E)},popState:function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},pushState:function(E){this.begin(E)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(E,_,L,N){switch(L){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return m}();f.lexer=p;function v(){this.yy={}}return v.prototype=f,f.Parser=v,new v}();Q0t.parser=Q0t;const xqe=Q0t,iRt={info:!1};let Z0t=iRt.info;const kqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:xqe,db:{clear:()=>{Z0t=iRt.info},setInfo:i=>{Z0t=i},getInfo:()=>Z0t},renderer:{draw:(i,a,f)=>{Ut.debug(`rendering info diagram
`+i);const p=fdt(a);og(p,100,400,!0),p.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${f}`)}}}},Symbol.toStringTag,{value:"Module"}));var J0t=function(){var i=function(bt,mt,yt,dt){for(yt=yt||{},dt=bt.length;dt--;yt[bt[dt]]=mt);return yt},a=[1,3],f=[1,4],p=[1,5],v=[1,6],m=[1,10,12,14,16,18,19,20,21,22],b=[2,4],E=[1,5,10,12,14,16,18,19,20,21,22],_=[20,21,22],L=[2,7],N=[1,12],B=[1,13],j=[1,14],R=[1,15],z=[1,16],K=[1,17],it={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,PIE:5,document:6,showData:7,line:8,statement:9,txt:10,value:11,title:12,title_value:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,section:19,NEWLINE:20,";":21,EOF:22,$accept:0,$end:1},terminals_:{2:"error",5:"PIE",7:"showData",10:"txt",11:"value",12:"title",13:"title_value",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"section",20:"NEWLINE",21:";",22:"EOF"},productions_:[0,[3,2],[3,2],[3,3],[6,0],[6,2],[8,2],[9,0],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[4,1],[4,1],[4,1]],performAction:function(mt,yt,dt,ht,wt,X,pt){var U=X.length-1;switch(wt){case 3:ht.setShowData(!0);break;case 6:this.$=X[U-1];break;case 8:ht.addSection(X[U-1],ht.cleanupValue(X[U]));break;case 9:this.$=X[U].trim(),ht.setDiagramTitle(this.$);break;case 10:this.$=X[U].trim(),ht.setAccTitle(this.$);break;case 11:case 12:this.$=X[U].trim(),ht.setAccDescription(this.$);break;case 13:ht.addSection(X[U].substr(8)),this.$=X[U].substr(8);break}},table:[{3:1,4:2,5:a,20:f,21:p,22:v},{1:[3]},{3:7,4:2,5:a,20:f,21:p,22:v},i(m,b,{6:8,7:[1,9]}),i(E,[2,14]),i(E,[2,15]),i(E,[2,16]),{1:[2,1]},i(_,L,{8:10,9:11,1:[2,2],10:N,12:B,14:j,16:R,18:z,19:K}),i(m,b,{6:18}),i(m,[2,5]),{4:19,20:f,21:p,22:v},{11:[1,20]},{13:[1,21]},{15:[1,22]},{17:[1,23]},i(_,[2,12]),i(_,[2,13]),i(_,L,{8:10,9:11,1:[2,3],10:N,12:B,14:j,16:R,18:z,19:K}),i(m,[2,6]),i(_,[2,8]),i(_,[2,9]),i(_,[2,10]),i(_,[2,11])],defaultActions:{7:[2,1]},parseError:function(mt,yt){if(yt.recoverable)this.trace(mt);else{var dt=new Error(mt);throw dt.hash=yt,dt}},parse:function(mt){var yt=this,dt=[0],ht=[],wt=[null],X=[],pt=this.table,U="",xt=0,nt=0,Ot=2,Nt=1,qt=X.slice.call(arguments,1),Ct=Object.create(this.lexer),Z={yy:{}};for(var Tt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Tt)&&(Z.yy[Tt]=this.yy[Tt]);Ct.setInput(mt,Z.yy),Z.yy.lexer=Ct,Z.yy.parser=this,typeof Ct.yylloc>"u"&&(Ct.yylloc={});var Ht=Ct.yylloc;X.push(Ht);var It=Ct.options&&Ct.options.ranges;typeof Z.yy.parseError=="function"?this.parseError=Z.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ft(){var ie;return ie=ht.pop()||Ct.lex()||Nt,typeof ie!="number"&&(ie instanceof Array&&(ht=ie,ie=ht.pop()),ie=yt.symbols_[ie]||ie),ie}for(var ke,pn,Me,ve,Ge={},Ke,we,_e,$t;;){if(pn=dt[dt.length-1],this.defaultActions[pn]?Me=this.defaultActions[pn]:((ke===null||typeof ke>"u")&&(ke=Ft()),Me=pt[pn]&&pt[pn][ke]),typeof Me>"u"||!Me.length||!Me[0]){var re="";$t=[];for(Ke in pt[pn])this.terminals_[Ke]&&Ke>Ot&&$t.push("'"+this.terminals_[Ke]+"'");Ct.showPosition?re="Parse error on line "+(xt+1)+`:
`+Ct.showPosition()+`
Expecting `+$t.join(", ")+", got '"+(this.terminals_[ke]||ke)+"'":re="Parse error on line "+(xt+1)+": Unexpected "+(ke==Nt?"end of input":"'"+(this.terminals_[ke]||ke)+"'"),this.parseError(re,{text:Ct.match,token:this.terminals_[ke]||ke,line:Ct.yylineno,loc:Ht,expected:$t})}if(Me[0]instanceof Array&&Me.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pn+", token: "+ke);switch(Me[0]){case 1:dt.push(ke),wt.push(Ct.yytext),X.push(Ct.yylloc),dt.push(Me[1]),ke=null,nt=Ct.yyleng,U=Ct.yytext,xt=Ct.yylineno,Ht=Ct.yylloc;break;case 2:if(we=this.productions_[Me[1]][1],Ge.$=wt[wt.length-we],Ge._$={first_line:X[X.length-(we||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(we||1)].first_column,last_column:X[X.length-1].last_column},It&&(Ge._$.range=[X[X.length-(we||1)].range[0],X[X.length-1].range[1]]),ve=this.performAction.apply(Ge,[U,nt,xt,Z.yy,Me[1],wt,X].concat(qt)),typeof ve<"u")return ve;we&&(dt=dt.slice(0,-1*we*2),wt=wt.slice(0,-1*we),X=X.slice(0,-1*we)),dt.push(this.productions_[Me[1]][0]),wt.push(Ge.$),X.push(Ge._$),_e=pt[dt[dt.length-2]][dt[dt.length-1]],dt.push(_e);break;case 3:return!0}}return!0}},st=function(){var bt={EOF:1,parseError:function(yt,dt){if(this.yy.parser)this.yy.parser.parseError(yt,dt);else throw new Error(yt)},setInput:function(mt,yt){return this.yy=yt||this.yy||{},this._input=mt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var mt=this._input[0];this.yytext+=mt,this.yyleng++,this.offset++,this.match+=mt,this.matched+=mt;var yt=mt.match(/(?:\r\n?|\n).*/g);return yt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),mt},unput:function(mt){var yt=mt.length,dt=mt.split(/(?:\r\n?|\n)/g);this._input=mt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-yt),this.offset-=yt;var ht=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),dt.length-1&&(this.yylineno-=dt.length-1);var wt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:dt?(dt.length===ht.length?this.yylloc.first_column:0)+ht[ht.length-dt.length].length-dt[0].length:this.yylloc.first_column-yt},this.options.ranges&&(this.yylloc.range=[wt[0],wt[0]+this.yyleng-yt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(mt){this.unput(this.match.slice(mt))},pastInput:function(){var mt=this.matched.substr(0,this.matched.length-this.match.length);return(mt.length>20?"...":"")+mt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var mt=this.match;return mt.length<20&&(mt+=this._input.substr(0,20-mt.length)),(mt.substr(0,20)+(mt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var mt=this.pastInput(),yt=new Array(mt.length+1).join("-");return mt+this.upcomingInput()+`
`+yt+"^"},test_match:function(mt,yt){var dt,ht,wt;if(this.options.backtrack_lexer&&(wt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(wt.yylloc.range=this.yylloc.range.slice(0))),ht=mt[0].match(/(?:\r\n?|\n).*/g),ht&&(this.yylineno+=ht.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ht?ht[ht.length-1].length-ht[ht.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+mt[0].length},this.yytext+=mt[0],this.match+=mt[0],this.matches=mt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(mt[0].length),this.matched+=mt[0],dt=this.performAction.call(this,this.yy,this,yt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),dt)return dt;if(this._backtrack){for(var X in wt)this[X]=wt[X];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var mt,yt,dt,ht;this._more||(this.yytext="",this.match="");for(var wt=this._currentRules(),X=0;X<wt.length;X++)if(dt=this._input.match(this.rules[wt[X]]),dt&&(!yt||dt[0].length>yt[0].length)){if(yt=dt,ht=X,this.options.backtrack_lexer){if(mt=this.test_match(dt,wt[X]),mt!==!1)return mt;if(this._backtrack){yt=!1;continue}else return!1}else if(!this.options.flex)break}return yt?(mt=this.test_match(yt,wt[ht]),mt!==!1?mt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var yt=this.next();return yt||this.lex()},begin:function(yt){this.conditionStack.push(yt)},popState:function(){var yt=this.conditionStack.length-1;return yt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(yt){return yt=this.conditionStack.length-1-Math.abs(yt||0),yt>=0?this.conditionStack[yt]:"INITIAL"},pushState:function(yt){this.begin(yt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(yt,dt,ht,wt){switch(ht){case 0:break;case 1:break;case 2:return 20;case 3:break;case 4:break;case 5:return this.begin("title"),12;case 6:return this.popState(),"title_value";case 7:return this.begin("acc_title"),14;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),16;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"txt";case 17:return 5;case 18:return 7;case 19:return"value";case 20:return 22}},rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[6],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,7,9,11,14,17,18,19,20],inclusive:!0}}};return bt}();it.lexer=st;function ut(){this.yy={}}return ut.prototype=it,it.Parser=ut,new ut}();J0t.parser=J0t;const Eqe=J0t,sRt=Lf.pie,CK={sections:{},showData:!1,config:sRt};let _K=CK.sections,tgt=CK.showData;const Tqe=structuredClone(sRt),Cqe={getConfig:()=>structuredClone(Tqe),clear:()=>{_K=structuredClone(CK.sections),tgt=CK.showData,ap()},setDiagramTitle:Z2,getDiagramTitle:Db,setAccTitle:cg,getAccTitle:op,setAccDescription:cp,getAccDescription:up,addSection:(i,a)=>{i=Dd(i,Le()),_K[i]===void 0&&(_K[i]=a,Ut.debug(`added new section: ${i}, with value: ${a}`))},getSections:()=>_K,cleanupValue:i=>(i.substring(0,1)===":"&&(i=i.substring(1).trim()),Number(i.trim())),setShowData:i=>{tgt=i},getShowData:()=>tgt},_qe=i=>`
  .pieCircle{
    stroke: ${i.pieStrokeColor};
    stroke-width : ${i.pieStrokeWidth};
    opacity : ${i.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${i.pieOuterStrokeColor};
    stroke-width: ${i.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${i.pieTitleTextSize};
    fill: ${i.pieTitleTextColor};
    font-family: ${i.fontFamily};
  }
  .slice {
    font-family: ${i.fontFamily};
    fill: ${i.pieSectionTextColor};
    font-size:${i.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${i.pieLegendTextColor};
    font-family: ${i.fontFamily};
    font-size: ${i.pieLegendTextSize};
  }
`,Sqe=i=>{const a=Object.entries(i).map(p=>({label:p[0],value:p[1]})).sort((p,v)=>v.value-p.value);return $7e().value(p=>p.value)(a)},Aqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:Eqe,db:Cqe,renderer:{draw:(i,a,f,p)=>{var pt,U;Ut.debug(`rendering pie chart
`+i);const v=p.db,m=Le(),b=idt(v.getConfig(),m.pie),E=450,_=((U=(pt=document.getElementById(a))==null?void 0:pt.parentElement)==null?void 0:U.offsetWidth)??b.useWidth,L=fdt(a);L.attr("viewBox",`0 0 ${_} ${E}`),og(L,E,_,b.useMaxWidth);const N=40,B=18,j=4,R=L.append("g");R.attr("transform","translate("+_/2+","+E/2+")");const{themeVariables:z}=m;let[K]=$A(z.pieOuterStrokeWidth);K??(K=2);const it=b.textPosition,st=Math.min(_,E)/2-N,ut=LA().innerRadius(0).outerRadius(st),bt=LA().innerRadius(st*it).outerRadius(st*it);R.append("circle").attr("cx",0).attr("cy",0).attr("r",st+K/2).attr("class","pieOuterCircle");const mt=v.getSections(),yt=Sqe(mt),dt=[z.pie1,z.pie2,z.pie3,z.pie4,z.pie5,z.pie6,z.pie7,z.pie8,z.pie9,z.pie10,z.pie11,z.pie12],ht=x1t(dt);R.selectAll("mySlices").data(yt).enter().append("path").attr("d",ut).attr("fill",xt=>ht(xt.data.label)).attr("class","pieCircle");let wt=0;Object.keys(mt).forEach(xt=>{wt+=mt[xt]}),R.selectAll("mySlices").data(yt).enter().append("text").text(xt=>(xt.data.value/wt*100).toFixed(0)+"%").attr("transform",xt=>"translate("+bt.centroid(xt)+")").style("text-anchor","middle").attr("class","slice"),R.append("text").text(v.getDiagramTitle()).attr("x",0).attr("y",-(E-50)/2).attr("class","pieTitleText");const X=R.selectAll(".legend").data(ht.domain()).enter().append("g").attr("class","legend").attr("transform",(xt,nt)=>{const Ot=B+j,Nt=Ot*ht.domain().length/2,qt=12*B,Ct=nt*Ot-Nt;return"translate("+qt+","+Ct+")"});X.append("rect").attr("width",B).attr("height",B).style("fill",ht).style("stroke",ht),X.data(yt).append("text").attr("x",B+j).attr("y",B-j).text(xt=>{const{label:nt,value:Ot}=xt.data;return v.getShowData()?`${nt} [${Ot}]`:nt})}},styles:_qe}},Symbol.toStringTag,{value:"Module"}));var egt=function(){var i=function(Me,ve,Ge,Ke){for(Ge=Ge||{},Ke=Me.length;Ke--;Ge[Me[Ke]]=ve);return Ge},a=[1,3],f=[1,4],p=[1,5],v=[1,6],m=[1,7],b=[1,5,13,15,17,19,20,25,27,28,29,30,31,32,33,34,37,38,40,41,42,43,44,45,46,47,48,49,50],E=[1,5,6,13,15,17,19,20,25,27,28,29,30,31,32,33,34,37,38,40,41,42,43,44,45,46,47,48,49,50],_=[32,33,34],L=[2,7],N=[1,13],B=[1,17],j=[1,18],R=[1,19],z=[1,20],K=[1,21],it=[1,22],st=[1,23],ut=[1,24],bt=[1,25],mt=[1,26],yt=[1,27],dt=[1,30],ht=[1,31],wt=[1,32],X=[1,33],pt=[1,34],U=[1,35],xt=[1,36],nt=[1,37],Ot=[1,38],Nt=[1,39],qt=[1,40],Ct=[1,41],Z=[1,42],Tt=[1,57],Ht=[1,58],It=[5,22,26,32,33,34,40,41,42,43,44,45,46,47,48,49,50,51],Ft={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,SPACE:5,QUADRANT:6,document:7,line:8,statement:9,axisDetails:10,quadrantDetails:11,points:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,text:21,point_start:22,point_x:23,point_y:24,"X-AXIS":25,"AXIS-TEXT-DELIMITER":26,"Y-AXIS":27,QUADRANT_1:28,QUADRANT_2:29,QUADRANT_3:30,QUADRANT_4:31,NEWLINE:32,SEMI:33,EOF:34,alphaNumToken:35,textNoTagsToken:36,STR:37,MD_STR:38,alphaNum:39,PUNCTUATION:40,AMP:41,NUM:42,ALPHA:43,COMMA:44,PLUS:45,EQUALS:46,MULT:47,DOT:48,BRKT:49,UNDERSCORE:50,MINUS:51,$accept:0,$end:1},terminals_:{2:"error",5:"SPACE",6:"QUADRANT",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",22:"point_start",23:"point_x",24:"point_y",25:"X-AXIS",26:"AXIS-TEXT-DELIMITER",27:"Y-AXIS",28:"QUADRANT_1",29:"QUADRANT_2",30:"QUADRANT_3",31:"QUADRANT_4",32:"NEWLINE",33:"SEMI",34:"EOF",37:"STR",38:"MD_STR",40:"PUNCTUATION",41:"AMP",42:"NUM",43:"ALPHA",44:"COMMA",45:"PLUS",46:"EQUALS",47:"MULT",48:"DOT",49:"BRKT",50:"UNDERSCORE",51:"MINUS"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[9,0],[9,2],[9,1],[9,1],[9,1],[9,2],[9,2],[9,2],[9,1],[9,1],[12,4],[10,4],[10,3],[10,2],[10,4],[10,3],[10,2],[11,2],[11,2],[11,2],[11,2],[4,1],[4,1],[4,1],[21,1],[21,2],[21,1],[21,1],[39,1],[39,2],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[36,1],[36,1]],performAction:function(ve,Ge,Ke,we,_e,$t,re){var ie=$t.length-1;switch(_e){case 12:this.$=$t[ie].trim(),we.setDiagramTitle(this.$);break;case 13:this.$=$t[ie].trim(),we.setAccTitle(this.$);break;case 14:case 15:this.$=$t[ie].trim(),we.setAccDescription(this.$);break;case 16:we.addSection($t[ie].substr(8)),this.$=$t[ie].substr(8);break;case 17:we.addPoint($t[ie-3],$t[ie-1],$t[ie]);break;case 18:we.setXAxisLeftText($t[ie-2]),we.setXAxisRightText($t[ie]);break;case 19:$t[ie-1].text+="  ",we.setXAxisLeftText($t[ie-1]);break;case 20:we.setXAxisLeftText($t[ie]);break;case 21:we.setYAxisBottomText($t[ie-2]),we.setYAxisTopText($t[ie]);break;case 22:$t[ie-1].text+="  ",we.setYAxisBottomText($t[ie-1]);break;case 23:we.setYAxisBottomText($t[ie]);break;case 24:we.setQuadrant1Text($t[ie]);break;case 25:we.setQuadrant2Text($t[ie]);break;case 26:we.setQuadrant3Text($t[ie]);break;case 27:we.setQuadrant4Text($t[ie]);break;case 31:this.$={text:$t[ie],type:"text"};break;case 32:this.$={text:$t[ie-1].text+""+$t[ie],type:$t[ie-1].type};break;case 33:this.$={text:$t[ie],type:"text"};break;case 34:this.$={text:$t[ie],type:"markdown"};break;case 35:this.$=$t[ie];break;case 36:this.$=$t[ie-1]+""+$t[ie];break}},table:[{3:1,4:2,5:a,6:f,32:p,33:v,34:m},{1:[3]},{3:8,4:2,5:a,6:f,32:p,33:v,34:m},{3:9,4:2,5:a,6:f,32:p,33:v,34:m},i(b,[2,4],{7:10}),i(E,[2,28]),i(E,[2,29]),i(E,[2,30]),{1:[2,1]},{1:[2,2]},i(_,L,{8:11,9:12,10:14,11:15,12:16,21:28,35:29,1:[2,3],5:N,13:B,15:j,17:R,19:z,20:K,25:it,27:st,28:ut,29:bt,30:mt,31:yt,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z}),i(b,[2,5]),{4:43,32:p,33:v,34:m},i(_,L,{10:14,11:15,12:16,21:28,35:29,9:44,5:N,13:B,15:j,17:R,19:z,20:K,25:it,27:st,28:ut,29:bt,30:mt,31:yt,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z}),i(_,[2,9]),i(_,[2,10]),i(_,[2,11]),{14:[1,45]},{16:[1,46]},{18:[1,47]},i(_,[2,15]),i(_,[2,16]),{21:48,35:29,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z},{21:49,35:29,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z},{21:50,35:29,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z},{21:51,35:29,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z},{21:52,35:29,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z},{21:53,35:29,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z},{5:Tt,22:[1,54],35:56,36:55,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht},i(It,[2,31]),i(It,[2,33]),i(It,[2,34]),i(It,[2,37]),i(It,[2,38]),i(It,[2,39]),i(It,[2,40]),i(It,[2,41]),i(It,[2,42]),i(It,[2,43]),i(It,[2,44]),i(It,[2,45]),i(It,[2,46]),i(It,[2,47]),i(b,[2,6]),i(_,[2,8]),i(_,[2,12]),i(_,[2,13]),i(_,[2,14]),i(_,[2,20],{36:55,35:56,5:Tt,26:[1,59],40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),i(_,[2,23],{36:55,35:56,5:Tt,26:[1,60],40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),i(_,[2,24],{36:55,35:56,5:Tt,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),i(_,[2,25],{36:55,35:56,5:Tt,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),i(_,[2,26],{36:55,35:56,5:Tt,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),i(_,[2,27],{36:55,35:56,5:Tt,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),{23:[1,61]},i(It,[2,32]),i(It,[2,48]),i(It,[2,49]),i(It,[2,50]),i(_,[2,19],{35:29,21:62,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z}),i(_,[2,22],{35:29,21:63,37:dt,38:ht,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z}),{24:[1,64]},i(_,[2,18],{36:55,35:56,5:Tt,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),i(_,[2,21],{36:55,35:56,5:Tt,40:wt,41:X,42:pt,43:U,44:xt,45:nt,46:Ot,47:Nt,48:qt,49:Ct,50:Z,51:Ht}),i(_,[2,17])],defaultActions:{8:[2,1],9:[2,2]},parseError:function(ve,Ge){if(Ge.recoverable)this.trace(ve);else{var Ke=new Error(ve);throw Ke.hash=Ge,Ke}},parse:function(ve){var Ge=this,Ke=[0],we=[],_e=[null],$t=[],re=this.table,ie="",Oe=0,oe=0,Ne=2,me=1,cn=$t.slice.call(arguments,1),li=Object.create(this.lexer),ya={yy:{}};for(var da in this.yy)Object.prototype.hasOwnProperty.call(this.yy,da)&&(ya.yy[da]=this.yy[da]);li.setInput(ve,ya.yy),ya.yy.lexer=li,ya.yy.parser=this,typeof li.yylloc>"u"&&(li.yylloc={});var Oo=li.yylloc;$t.push(Oo);var ds=li.options&&li.options.ranges;typeof ya.yy.parseError=="function"?this.parseError=ya.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Dr(){var Gs;return Gs=we.pop()||li.lex()||me,typeof Gs!="number"&&(Gs instanceof Array&&(we=Gs,Gs=we.pop()),Gs=Ge.symbols_[Gs]||Gs),Gs}for(var nr,di,Ee,Yn,He={},Ti,gn,ks,qa;;){if(di=Ke[Ke.length-1],this.defaultActions[di]?Ee=this.defaultActions[di]:((nr===null||typeof nr>"u")&&(nr=Dr()),Ee=re[di]&&re[di][nr]),typeof Ee>"u"||!Ee.length||!Ee[0]){var La="";qa=[];for(Ti in re[di])this.terminals_[Ti]&&Ti>Ne&&qa.push("'"+this.terminals_[Ti]+"'");li.showPosition?La="Parse error on line "+(Oe+1)+`:
`+li.showPosition()+`
Expecting `+qa.join(", ")+", got '"+(this.terminals_[nr]||nr)+"'":La="Parse error on line "+(Oe+1)+": Unexpected "+(nr==me?"end of input":"'"+(this.terminals_[nr]||nr)+"'"),this.parseError(La,{text:li.match,token:this.terminals_[nr]||nr,line:li.yylineno,loc:Oo,expected:qa})}if(Ee[0]instanceof Array&&Ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+di+", token: "+nr);switch(Ee[0]){case 1:Ke.push(nr),_e.push(li.yytext),$t.push(li.yylloc),Ke.push(Ee[1]),nr=null,oe=li.yyleng,ie=li.yytext,Oe=li.yylineno,Oo=li.yylloc;break;case 2:if(gn=this.productions_[Ee[1]][1],He.$=_e[_e.length-gn],He._$={first_line:$t[$t.length-(gn||1)].first_line,last_line:$t[$t.length-1].last_line,first_column:$t[$t.length-(gn||1)].first_column,last_column:$t[$t.length-1].last_column},ds&&(He._$.range=[$t[$t.length-(gn||1)].range[0],$t[$t.length-1].range[1]]),Yn=this.performAction.apply(He,[ie,oe,Oe,ya.yy,Ee[1],_e,$t].concat(cn)),typeof Yn<"u")return Yn;gn&&(Ke=Ke.slice(0,-1*gn*2),_e=_e.slice(0,-1*gn),$t=$t.slice(0,-1*gn)),Ke.push(this.productions_[Ee[1]][0]),_e.push(He.$),$t.push(He._$),ks=re[Ke[Ke.length-2]][Ke[Ke.length-1]],Ke.push(ks);break;case 3:return!0}}return!0}},ke=function(){var Me={EOF:1,parseError:function(Ge,Ke){if(this.yy.parser)this.yy.parser.parseError(Ge,Ke);else throw new Error(Ge)},setInput:function(ve,Ge){return this.yy=Ge||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ve=this._input[0];this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve;var Ge=ve.match(/(?:\r\n?|\n).*/g);return Ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},unput:function(ve){var Ge=ve.length,Ke=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ge),this.offset-=Ge;var we=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ke.length-1&&(this.yylineno-=Ke.length-1);var _e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ke?(Ke.length===we.length?this.yylloc.first_column:0)+we[we.length-Ke.length].length-Ke[0].length:this.yylloc.first_column-Ge},this.options.ranges&&(this.yylloc.range=[_e[0],_e[0]+this.yyleng-Ge]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ve){this.unput(this.match.slice(ve))},pastInput:function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ve=this.pastInput(),Ge=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+Ge+"^"},test_match:function(ve,Ge){var Ke,we,_e;if(this.options.backtrack_lexer&&(_e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_e.yylloc.range=this.yylloc.range.slice(0))),we=ve[0].match(/(?:\r\n?|\n).*/g),we&&(this.yylineno+=we.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:we?we[we.length-1].length-we[we.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],Ke=this.performAction.call(this,this.yy,this,Ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ke)return Ke;if(this._backtrack){for(var $t in _e)this[$t]=_e[$t];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,Ge,Ke,we;this._more||(this.yytext="",this.match="");for(var _e=this._currentRules(),$t=0;$t<_e.length;$t++)if(Ke=this._input.match(this.rules[_e[$t]]),Ke&&(!Ge||Ke[0].length>Ge[0].length)){if(Ge=Ke,we=$t,this.options.backtrack_lexer){if(ve=this.test_match(Ke,_e[$t]),ve!==!1)return ve;if(this._backtrack){Ge=!1;continue}else return!1}else if(!this.options.flex)break}return Ge?(ve=this.test_match(Ge,_e[we]),ve!==!1?ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ge=this.next();return Ge||this.lex()},begin:function(Ge){this.conditionStack.push(Ge)},popState:function(){var Ge=this.conditionStack.length-1;return Ge>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ge){return Ge=this.conditionStack.length-1-Math.abs(Ge||0),Ge>=0?this.conditionStack[Ge]:"INITIAL"},pushState:function(Ge){this.begin(Ge)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ge,Ke,we,_e){switch(we){case 0:break;case 1:break;case 2:return 32;case 3:break;case 4:return this.begin("title"),13;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),15;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),17;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 25;case 14:return 27;case 15:return 26;case 16:return 28;case 17:return 29;case 18:return 30;case 19:return 31;case 20:this.begin("md_string");break;case 21:return"MD_STR";case 22:this.popState();break;case 23:this.begin("string");break;case 24:this.popState();break;case 25:return"STR";case 26:return this.begin("point_start"),22;case 27:return this.begin("point_x"),23;case 28:this.popState();break;case 29:this.popState(),this.begin("point_y");break;case 30:return this.popState(),24;case 31:return 6;case 32:return 43;case 33:return"COLON";case 34:return 45;case 35:return 44;case 36:return 46;case 37:return 46;case 38:return 47;case 39:return 49;case 40:return 50;case 41:return 48;case 42:return 41;case 43:return 51;case 44:return 42;case 45:return 5;case 46:return 33;case 47:return 40;case 48:return 34}},rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{point_y:{rules:[30],inclusive:!1},point_x:{rules:[29],inclusive:!1},point_start:{rules:[27,28],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[21,22],inclusive:!1},string:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,23,26,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return Me}();Ft.lexer=ke;function pn(){this.yy={}}return pn.prototype=Ft,Ft.Parser=pn,new pn}();egt.parser=egt;const Lqe=egt,fg=nDt();class Mqe{constructor(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var a,f,p,v,m,b,E,_,L,N,B,j,R,z,K,it,st,ut;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((a=Lf.quadrantChart)==null?void 0:a.chartWidth)||500,chartWidth:((f=Lf.quadrantChart)==null?void 0:f.chartHeight)||500,titlePadding:((p=Lf.quadrantChart)==null?void 0:p.titlePadding)||10,titleFontSize:((v=Lf.quadrantChart)==null?void 0:v.titleFontSize)||20,quadrantPadding:((m=Lf.quadrantChart)==null?void 0:m.quadrantPadding)||5,xAxisLabelPadding:((b=Lf.quadrantChart)==null?void 0:b.xAxisLabelPadding)||5,yAxisLabelPadding:((E=Lf.quadrantChart)==null?void 0:E.yAxisLabelPadding)||5,xAxisLabelFontSize:((_=Lf.quadrantChart)==null?void 0:_.xAxisLabelFontSize)||16,yAxisLabelFontSize:((L=Lf.quadrantChart)==null?void 0:L.yAxisLabelFontSize)||16,quadrantLabelFontSize:((N=Lf.quadrantChart)==null?void 0:N.quadrantLabelFontSize)||16,quadrantTextTopPadding:((B=Lf.quadrantChart)==null?void 0:B.quadrantTextTopPadding)||5,pointTextPadding:((j=Lf.quadrantChart)==null?void 0:j.pointTextPadding)||5,pointLabelFontSize:((R=Lf.quadrantChart)==null?void 0:R.pointLabelFontSize)||12,pointRadius:((z=Lf.quadrantChart)==null?void 0:z.pointRadius)||5,xAxisPosition:((K=Lf.quadrantChart)==null?void 0:K.xAxisPosition)||"top",yAxisPosition:((it=Lf.quadrantChart)==null?void 0:it.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((st=Lf.quadrantChart)==null?void 0:st.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((ut=Lf.quadrantChart)==null?void 0:ut.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:fg.quadrant1Fill,quadrant2Fill:fg.quadrant2Fill,quadrant3Fill:fg.quadrant3Fill,quadrant4Fill:fg.quadrant4Fill,quadrant1TextFill:fg.quadrant1TextFill,quadrant2TextFill:fg.quadrant2TextFill,quadrant3TextFill:fg.quadrant3TextFill,quadrant4TextFill:fg.quadrant4TextFill,quadrantPointFill:fg.quadrantPointFill,quadrantPointTextFill:fg.quadrantPointTextFill,quadrantXAxisTextFill:fg.quadrantXAxisTextFill,quadrantYAxisTextFill:fg.quadrantYAxisTextFill,quadrantTitleFill:fg.quadrantTitleFill,quadrantInternalBorderStrokeFill:fg.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:fg.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),Ut.info("clear called")}setData(a){this.data={...this.data,...a}}addPoints(a){this.data.points=[...a,...this.data.points]}setConfig(a){Ut.trace("setConfig called with: ",a),this.config={...this.config,...a}}setThemeConfig(a){Ut.trace("setThemeConfig called with: ",a),this.themeConfig={...this.themeConfig,...a}}calculateSpace(a,f,p,v){const m=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,b={top:a==="top"&&f?m:0,bottom:a==="bottom"&&f?m:0},E=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,_={left:this.config.yAxisPosition==="left"&&p?E:0,right:this.config.yAxisPosition==="right"&&p?E:0},L=this.config.titleFontSize+this.config.titlePadding*2,N={top:v?L:0},B=this.config.quadrantPadding+_.left,j=this.config.quadrantPadding+b.top+N.top,R=this.config.chartWidth-this.config.quadrantPadding*2-_.left-_.right,z=this.config.chartHeight-this.config.quadrantPadding*2-b.top-b.bottom-N.top,K=R/2,it=z/2;return{xAxisSpace:b,yAxisSpace:_,titleSpace:N,quadrantSpace:{quadrantLeft:B,quadrantTop:j,quadrantWidth:R,quadrantHalfWidth:K,quadrantHeight:z,quadrantHalfHeight:it}}}getAxisLabels(a,f,p,v){const{quadrantSpace:m,titleSpace:b}=v,{quadrantHalfHeight:E,quadrantHeight:_,quadrantLeft:L,quadrantHalfWidth:N,quadrantTop:B,quadrantWidth:j}=m,R=this.data.points.length===0,z=[];return this.data.xAxisLeftText&&f&&z.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:L+(R?N/2:0),y:a==="top"?this.config.xAxisLabelPadding+b.top:this.config.xAxisLabelPadding+B+_+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:R?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&f&&z.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:L+N+(R?N/2:0),y:a==="top"?this.config.xAxisLabelPadding+b.top:this.config.xAxisLabelPadding+B+_+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:R?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&p&&z.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+L+j+this.config.quadrantPadding,y:B+_-(R?E/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:R?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&p&&z.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+L+j+this.config.quadrantPadding,y:B+E-(R?E/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:R?"center":"left",horizontalPos:"top",rotation:-90}),z}getQuadrants(a){const{quadrantSpace:f}=a,{quadrantHalfHeight:p,quadrantLeft:v,quadrantHalfWidth:m,quadrantTop:b}=f,E=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:v+m,y:b,width:m,height:p,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:v,y:b,width:m,height:p,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:v,y:b+p,width:m,height:p,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:v+m,y:b+p,width:m,height:p,fill:this.themeConfig.quadrant4Fill}];for(const _ of E)_.text.x=_.x+_.width/2,this.data.points.length===0?(_.text.y=_.y+_.height/2,_.text.horizontalPos="middle"):(_.text.y=_.y+this.config.quadrantTextTopPadding,_.text.horizontalPos="top");return E}getQuadrantPoints(a){const{quadrantSpace:f}=a,{quadrantHeight:p,quadrantLeft:v,quadrantTop:m,quadrantWidth:b}=f,E=BU().domain([0,1]).range([v,b+v]),_=BU().domain([0,1]).range([p+m,m]);return this.data.points.map(N=>({x:E(N.x),y:_(N.y),fill:this.themeConfig.quadrantPointFill,radius:this.config.pointRadius,text:{text:N.text,fill:this.themeConfig.quadrantPointTextFill,x:E(N.x),y:_(N.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0}}))}getBorders(a){const f=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:p}=a,{quadrantHalfHeight:v,quadrantHeight:m,quadrantLeft:b,quadrantHalfWidth:E,quadrantTop:_,quadrantWidth:L}=p;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:b-f,y1:_,x2:b+L+f,y2:_},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:b+L,y1:_+f,x2:b+L,y2:_+m-f},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:b-f,y1:_+m,x2:b+L+f,y2:_+m},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:b,y1:_+f,x2:b,y2:_+m-f},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:b+E,y1:_+f,x2:b+E,y2:_+m-f},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:b+f,y1:_+v,x2:b+L-f,y2:_+v}]}getTitle(a){if(a)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const a=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),f=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),p=this.config.showTitle&&!!this.data.titleText,v=this.data.points.length>0?"bottom":this.config.xAxisPosition,m=this.calculateSpace(v,a,f,p);return{points:this.getQuadrantPoints(m),quadrants:this.getQuadrants(m),axisLabels:this.getAxisLabels(v,a,f,m),borderLines:this.getBorders(m),title:this.getTitle(p)}}}const Iqe=Le();function M5(i){return Dd(i.trim(),Iqe)}const x0=new Mqe;function Dqe(i){x0.setData({quadrant1Text:M5(i.text)})}function Oqe(i){x0.setData({quadrant2Text:M5(i.text)})}function Nqe(i){x0.setData({quadrant3Text:M5(i.text)})}function Pqe(i){x0.setData({quadrant4Text:M5(i.text)})}function Fqe(i){x0.setData({xAxisLeftText:M5(i.text)})}function Bqe(i){x0.setData({xAxisRightText:M5(i.text)})}function Rqe(i){x0.setData({yAxisTopText:M5(i.text)})}function jqe(i){x0.setData({yAxisBottomText:M5(i.text)})}function $qe(i,a,f){x0.addPoints([{x:a,y:f,text:M5(i.text)}])}function zqe(i){x0.setConfig({chartWidth:i})}function qqe(i){x0.setConfig({chartHeight:i})}function Hqe(){const i=Le(),{themeVariables:a,quadrantChart:f}=i;return f&&x0.setConfig(f),x0.setThemeConfig({quadrant1Fill:a.quadrant1Fill,quadrant2Fill:a.quadrant2Fill,quadrant3Fill:a.quadrant3Fill,quadrant4Fill:a.quadrant4Fill,quadrant1TextFill:a.quadrant1TextFill,quadrant2TextFill:a.quadrant2TextFill,quadrant3TextFill:a.quadrant3TextFill,quadrant4TextFill:a.quadrant4TextFill,quadrantPointFill:a.quadrantPointFill,quadrantPointTextFill:a.quadrantPointTextFill,quadrantXAxisTextFill:a.quadrantXAxisTextFill,quadrantYAxisTextFill:a.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:a.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:a.quadrantInternalBorderStrokeFill,quadrantTitleFill:a.quadrantTitleFill}),x0.setData({titleText:Db()}),x0.build()}const Gqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:Lqe,db:{setWidth:zqe,setHeight:qqe,setQuadrant1Text:Dqe,setQuadrant2Text:Oqe,setQuadrant3Text:Nqe,setQuadrant4Text:Pqe,setXAxisLeftText:Fqe,setXAxisRightText:Bqe,setYAxisTopText:Rqe,setYAxisBottomText:jqe,addPoint:$qe,getQuadrantData:Hqe,clear:function(){x0.clear(),ap()},setAccTitle:cg,getAccTitle:op,setDiagramTitle:Z2,getDiagramTitle:Db,getAccDescription:up,setAccDescription:cp},renderer:{draw:(i,a,f,p)=>{var wt,X,pt;function v(U){return U==="top"?"hanging":"middle"}function m(U){return U==="left"?"start":"middle"}function b(U){return`translate(${U.x}, ${U.y}) rotate(${U.rotation||0})`}const E=Le();Ut.debug(`Rendering quadrant chart
`+i);const _=E.securityLevel;let L;_==="sandbox"&&(L=yr("#i"+a));const B=yr(_==="sandbox"?L.nodes()[0].contentDocument.body:"body").select(`[id="${a}"]`),j=B.append("g").attr("class","main"),R=((wt=E.quadrantChart)==null?void 0:wt.chartWidth)||500,z=((X=E.quadrantChart)==null?void 0:X.chartHeight)||500;og(B,z,R,((pt=E.quadrantChart)==null?void 0:pt.useMaxWidth)||!0),B.attr("viewBox","0 0 "+R+" "+z),p.db.setHeight(z),p.db.setWidth(R);const K=p.db.getQuadrantData(),it=j.append("g").attr("class","quadrants"),st=j.append("g").attr("class","border"),ut=j.append("g").attr("class","data-points"),bt=j.append("g").attr("class","labels"),mt=j.append("g").attr("class","title");K.title&&mt.append("text").attr("x",0).attr("y",0).attr("fill",K.title.fill).attr("font-size",K.title.fontSize).attr("dominant-baseline",v(K.title.horizontalPos)).attr("text-anchor",m(K.title.verticalPos)).attr("transform",b(K.title)).text(K.title.text),K.borderLines&&st.selectAll("line").data(K.borderLines).enter().append("line").attr("x1",U=>U.x1).attr("y1",U=>U.y1).attr("x2",U=>U.x2).attr("y2",U=>U.y2).style("stroke",U=>U.strokeFill).style("stroke-width",U=>U.strokeWidth);const yt=it.selectAll("g.quadrant").data(K.quadrants).enter().append("g").attr("class","quadrant");yt.append("rect").attr("x",U=>U.x).attr("y",U=>U.y).attr("width",U=>U.width).attr("height",U=>U.height).attr("fill",U=>U.fill),yt.append("text").attr("x",0).attr("y",0).attr("fill",U=>U.text.fill).attr("font-size",U=>U.text.fontSize).attr("dominant-baseline",U=>v(U.text.horizontalPos)).attr("text-anchor",U=>m(U.text.verticalPos)).attr("transform",U=>b(U.text)).text(U=>U.text.text),bt.selectAll("g.label").data(K.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(U=>U.text).attr("fill",U=>U.fill).attr("font-size",U=>U.fontSize).attr("dominant-baseline",U=>v(U.horizontalPos)).attr("text-anchor",U=>m(U.verticalPos)).attr("transform",U=>b(U));const ht=ut.selectAll("g.data-point").data(K.points).enter().append("g").attr("class","data-point");ht.append("circle").attr("cx",U=>U.x).attr("cy",U=>U.y).attr("r",U=>U.radius).attr("fill",U=>U.fill),ht.append("text").attr("x",0).attr("y",0).text(U=>U.text.text).attr("fill",U=>U.text.fill).attr("font-size",U=>U.text.fontSize).attr("dominant-baseline",U=>v(U.text.horizontalPos)).attr("text-anchor",U=>m(U.text.verticalPos)).attr("transform",U=>b(U.text))}},styles:()=>""}},Symbol.toStringTag,{value:"Module"}));var ngt=function(){var i=function(Me,ve,Ge,Ke){for(Ge=Ge||{},Ke=Me.length;Ke--;Ge[Me[Ke]]=ve);return Ge},a=[1,3],f=[1,4],p=[1,5],v=[1,6],m=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],b=[1,18],E=[2,7],_=[1,22],L=[1,23],N=[1,24],B=[1,25],j=[1,26],R=[1,27],z=[1,20],K=[1,28],it=[1,29],st=[62,63],ut=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],bt=[1,47],mt=[1,48],yt=[1,49],dt=[1,50],ht=[1,51],wt=[1,52],X=[1,53],pt=[53,54],U=[1,64],xt=[1,60],nt=[1,61],Ot=[1,62],Nt=[1,63],qt=[1,65],Ct=[1,69],Z=[1,70],Tt=[1,67],Ht=[1,68],It=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],Ft={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:function(ve,Ge,Ke,we,_e,$t,re){var ie=$t.length-1;switch(_e){case 4:this.$=$t[ie].trim(),we.setAccTitle(this.$);break;case 5:case 6:this.$=$t[ie].trim(),we.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:we.addRequirement($t[ie-3],$t[ie-4]);break;case 14:we.setNewReqId($t[ie-2]);break;case 15:we.setNewReqText($t[ie-2]);break;case 16:we.setNewReqRisk($t[ie-2]);break;case 17:we.setNewReqVerifyMethod($t[ie-2]);break;case 20:this.$=we.RequirementType.REQUIREMENT;break;case 21:this.$=we.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=we.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=we.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=we.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=we.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=we.RiskLevel.LOW_RISK;break;case 27:this.$=we.RiskLevel.MED_RISK;break;case 28:this.$=we.RiskLevel.HIGH_RISK;break;case 29:this.$=we.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=we.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=we.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=we.VerifyType.VERIFY_TEST;break;case 33:we.addElement($t[ie-3]);break;case 34:we.setNewElementType($t[ie-2]);break;case 35:we.setNewElementDocRef($t[ie-2]);break;case 38:we.addRelationship($t[ie-2],$t[ie],$t[ie-4]);break;case 39:we.addRelationship($t[ie-2],$t[ie-4],$t[ie]);break;case 40:this.$=we.Relationships.CONTAINS;break;case 41:this.$=we.Relationships.COPIES;break;case 42:this.$=we.Relationships.DERIVES;break;case 43:this.$=we.Relationships.SATISFIES;break;case 44:this.$=we.Relationships.VERIFIES;break;case 45:this.$=we.Relationships.REFINES;break;case 46:this.$=we.Relationships.TRACES;break}},table:[{3:1,4:2,6:a,9:f,11:p,13:v},{1:[3]},{3:8,4:2,5:[1,7],6:a,9:f,11:p,13:v},{5:[1,9]},{10:[1,10]},{12:[1,11]},i(m,[2,6]),{3:12,4:2,6:a,9:f,11:p,13:v},{1:[2,2]},{4:17,5:b,7:13,8:E,9:f,11:p,13:v,14:14,15:15,16:16,17:19,23:21,31:_,32:L,33:N,34:B,35:j,36:R,44:z,62:K,63:it},i(m,[2,4]),i(m,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:b,7:31,8:E,9:f,11:p,13:v,14:14,15:15,16:16,17:19,23:21,31:_,32:L,33:N,34:B,35:j,36:R,44:z,62:K,63:it},{4:17,5:b,7:32,8:E,9:f,11:p,13:v,14:14,15:15,16:16,17:19,23:21,31:_,32:L,33:N,34:B,35:j,36:R,44:z,62:K,63:it},{4:17,5:b,7:33,8:E,9:f,11:p,13:v,14:14,15:15,16:16,17:19,23:21,31:_,32:L,33:N,34:B,35:j,36:R,44:z,62:K,63:it},{4:17,5:b,7:34,8:E,9:f,11:p,13:v,14:14,15:15,16:16,17:19,23:21,31:_,32:L,33:N,34:B,35:j,36:R,44:z,62:K,63:it},{4:17,5:b,7:35,8:E,9:f,11:p,13:v,14:14,15:15,16:16,17:19,23:21,31:_,32:L,33:N,34:B,35:j,36:R,44:z,62:K,63:it},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},i(st,[2,20]),i(st,[2,21]),i(st,[2,22]),i(st,[2,23]),i(st,[2,24]),i(st,[2,25]),i(ut,[2,49]),i(ut,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:bt,56:mt,57:yt,58:dt,59:ht,60:wt,61:X},{52:54,55:bt,56:mt,57:yt,58:dt,59:ht,60:wt,61:X},{5:[1,55]},{5:[1,56]},{53:[1,57]},i(pt,[2,40]),i(pt,[2,41]),i(pt,[2,42]),i(pt,[2,43]),i(pt,[2,44]),i(pt,[2,45]),i(pt,[2,46]),{54:[1,58]},{5:U,20:59,21:xt,24:nt,26:Ot,28:Nt,30:qt},{5:Ct,30:Z,46:66,47:Tt,49:Ht},{23:71,62:K,63:it},{23:72,62:K,63:it},i(It,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:U,20:77,21:xt,24:nt,26:Ot,28:Nt,30:qt},i(It,[2,19]),i(It,[2,33]),{22:[1,78]},{22:[1,79]},{5:Ct,30:Z,46:80,47:Tt,49:Ht},i(It,[2,37]),i(It,[2,38]),i(It,[2,39]),{23:81,62:K,63:it},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},i(It,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},i(It,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:U,20:106,21:xt,24:nt,26:Ot,28:Nt,30:qt},{5:U,20:107,21:xt,24:nt,26:Ot,28:Nt,30:qt},{5:U,20:108,21:xt,24:nt,26:Ot,28:Nt,30:qt},{5:U,20:109,21:xt,24:nt,26:Ot,28:Nt,30:qt},{5:Ct,30:Z,46:110,47:Tt,49:Ht},{5:Ct,30:Z,46:111,47:Tt,49:Ht},i(It,[2,14]),i(It,[2,15]),i(It,[2,16]),i(It,[2,17]),i(It,[2,34]),i(It,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:function(ve,Ge){if(Ge.recoverable)this.trace(ve);else{var Ke=new Error(ve);throw Ke.hash=Ge,Ke}},parse:function(ve){var Ge=this,Ke=[0],we=[],_e=[null],$t=[],re=this.table,ie="",Oe=0,oe=0,Ne=2,me=1,cn=$t.slice.call(arguments,1),li=Object.create(this.lexer),ya={yy:{}};for(var da in this.yy)Object.prototype.hasOwnProperty.call(this.yy,da)&&(ya.yy[da]=this.yy[da]);li.setInput(ve,ya.yy),ya.yy.lexer=li,ya.yy.parser=this,typeof li.yylloc>"u"&&(li.yylloc={});var Oo=li.yylloc;$t.push(Oo);var ds=li.options&&li.options.ranges;typeof ya.yy.parseError=="function"?this.parseError=ya.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Dr(){var Gs;return Gs=we.pop()||li.lex()||me,typeof Gs!="number"&&(Gs instanceof Array&&(we=Gs,Gs=we.pop()),Gs=Ge.symbols_[Gs]||Gs),Gs}for(var nr,di,Ee,Yn,He={},Ti,gn,ks,qa;;){if(di=Ke[Ke.length-1],this.defaultActions[di]?Ee=this.defaultActions[di]:((nr===null||typeof nr>"u")&&(nr=Dr()),Ee=re[di]&&re[di][nr]),typeof Ee>"u"||!Ee.length||!Ee[0]){var La="";qa=[];for(Ti in re[di])this.terminals_[Ti]&&Ti>Ne&&qa.push("'"+this.terminals_[Ti]+"'");li.showPosition?La="Parse error on line "+(Oe+1)+`:
`+li.showPosition()+`
Expecting `+qa.join(", ")+", got '"+(this.terminals_[nr]||nr)+"'":La="Parse error on line "+(Oe+1)+": Unexpected "+(nr==me?"end of input":"'"+(this.terminals_[nr]||nr)+"'"),this.parseError(La,{text:li.match,token:this.terminals_[nr]||nr,line:li.yylineno,loc:Oo,expected:qa})}if(Ee[0]instanceof Array&&Ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+di+", token: "+nr);switch(Ee[0]){case 1:Ke.push(nr),_e.push(li.yytext),$t.push(li.yylloc),Ke.push(Ee[1]),nr=null,oe=li.yyleng,ie=li.yytext,Oe=li.yylineno,Oo=li.yylloc;break;case 2:if(gn=this.productions_[Ee[1]][1],He.$=_e[_e.length-gn],He._$={first_line:$t[$t.length-(gn||1)].first_line,last_line:$t[$t.length-1].last_line,first_column:$t[$t.length-(gn||1)].first_column,last_column:$t[$t.length-1].last_column},ds&&(He._$.range=[$t[$t.length-(gn||1)].range[0],$t[$t.length-1].range[1]]),Yn=this.performAction.apply(He,[ie,oe,Oe,ya.yy,Ee[1],_e,$t].concat(cn)),typeof Yn<"u")return Yn;gn&&(Ke=Ke.slice(0,-1*gn*2),_e=_e.slice(0,-1*gn),$t=$t.slice(0,-1*gn)),Ke.push(this.productions_[Ee[1]][0]),_e.push(He.$),$t.push(He._$),ks=re[Ke[Ke.length-2]][Ke[Ke.length-1]],Ke.push(ks);break;case 3:return!0}}return!0}},ke=function(){var Me={EOF:1,parseError:function(Ge,Ke){if(this.yy.parser)this.yy.parser.parseError(Ge,Ke);else throw new Error(Ge)},setInput:function(ve,Ge){return this.yy=Ge||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ve=this._input[0];this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve;var Ge=ve.match(/(?:\r\n?|\n).*/g);return Ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},unput:function(ve){var Ge=ve.length,Ke=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ge),this.offset-=Ge;var we=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ke.length-1&&(this.yylineno-=Ke.length-1);var _e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ke?(Ke.length===we.length?this.yylloc.first_column:0)+we[we.length-Ke.length].length-Ke[0].length:this.yylloc.first_column-Ge},this.options.ranges&&(this.yylloc.range=[_e[0],_e[0]+this.yyleng-Ge]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ve){this.unput(this.match.slice(ve))},pastInput:function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ve=this.pastInput(),Ge=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+Ge+"^"},test_match:function(ve,Ge){var Ke,we,_e;if(this.options.backtrack_lexer&&(_e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_e.yylloc.range=this.yylloc.range.slice(0))),we=ve[0].match(/(?:\r\n?|\n).*/g),we&&(this.yylineno+=we.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:we?we[we.length-1].length-we[we.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],Ke=this.performAction.call(this,this.yy,this,Ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ke)return Ke;if(this._backtrack){for(var $t in _e)this[$t]=_e[$t];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,Ge,Ke,we;this._more||(this.yytext="",this.match="");for(var _e=this._currentRules(),$t=0;$t<_e.length;$t++)if(Ke=this._input.match(this.rules[_e[$t]]),Ke&&(!Ge||Ke[0].length>Ge[0].length)){if(Ge=Ke,we=$t,this.options.backtrack_lexer){if(ve=this.test_match(Ke,_e[$t]),ve!==!1)return ve;if(this._backtrack){Ge=!1;continue}else return!1}else if(!this.options.flex)break}return Ge?(ve=this.test_match(Ge,_e[we]),ve!==!1?ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ge=this.next();return Ge||this.lex()},begin:function(Ge){this.conditionStack.push(Ge)},popState:function(){var Ge=this.conditionStack.length-1;return Ge>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ge){return Ge=this.conditionStack.length-1-Math.abs(Ge||0),Ge>=0?this.conditionStack[Ge]:"INITIAL"},pushState:function(Ge){this.begin(Ge)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ge,Ke,we,_e){switch(we){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return Ke.yytext=Ke.yytext.trim(),62}},rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return Me}();Ft.lexer=ke;function pn(){this.yy={}}return pn.prototype=Ft,Ft.Parser=pn,new pn}();ngt.parser=ngt;const Vqe=ngt;let rgt=[],dp={},MP={},fk={},IP={};const Uqe={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},getConfig:()=>Le().req,addRequirement:(i,a)=>(MP[i]===void 0&&(MP[i]={name:i,type:a,id:dp.id,text:dp.text,risk:dp.risk,verifyMethod:dp.verifyMethod}),dp={},MP[i]),getRequirements:()=>MP,setNewReqId:i=>{dp!==void 0&&(dp.id=i)},setNewReqText:i=>{dp!==void 0&&(dp.text=i)},setNewReqRisk:i=>{dp!==void 0&&(dp.risk=i)},setNewReqVerifyMethod:i=>{dp!==void 0&&(dp.verifyMethod=i)},setAccTitle:cg,getAccTitle:op,setAccDescription:cp,getAccDescription:up,addElement:i=>(IP[i]===void 0&&(IP[i]={name:i,type:fk.type,docRef:fk.docRef},Ut.info("Added new requirement: ",i)),fk={},IP[i]),getElements:()=>IP,setNewElementType:i=>{fk!==void 0&&(fk.type=i)},setNewElementDocRef:i=>{fk!==void 0&&(fk.docRef=i)},addRelationship:(i,a,f)=>{rgt.push({type:i,src:a,dst:f})},getRelationships:()=>rgt,clear:()=>{rgt=[],dp={},MP={},fk={},IP={},ap()}},Wqe=i=>`

  marker {
    fill: ${i.relationColor};
    stroke: ${i.relationColor};
  }

  marker.cross {
    stroke: ${i.lineColor};
  }

  svg {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
  }

  .reqBox {
    fill: ${i.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${i.requirementBorderColor};
    stroke-width: ${i.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${i.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${i.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${i.requirementBorderColor};
    stroke-width: ${i.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${i.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${i.relationLabelColor};
  }

`,igt={CONTAINS:"contains",ARROW:"arrow"},aRt={ReqMarkers:igt,insertLineEndings:(i,a)=>{let f=i.append("defs").append("marker").attr("id",igt.CONTAINS+"_line_ending").attr("refX",0).attr("refY",a.line_height/2).attr("markerWidth",a.line_height).attr("markerHeight",a.line_height).attr("orient","auto").append("g");f.append("circle").attr("cx",a.line_height/2).attr("cy",a.line_height/2).attr("r",a.line_height/2).attr("fill","none"),f.append("line").attr("x1",0).attr("x2",a.line_height).attr("y1",a.line_height/2).attr("y2",a.line_height/2).attr("stroke-width",1),f.append("line").attr("y1",0).attr("y2",a.line_height).attr("x1",a.line_height/2).attr("x2",a.line_height/2).attr("stroke-width",1),i.append("defs").append("marker").attr("id",igt.ARROW+"_line_ending").attr("refX",a.line_height).attr("refY",.5*a.line_height).attr("markerWidth",a.line_height).attr("markerHeight",a.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${a.line_height},${a.line_height/2}
      M${a.line_height},${a.line_height/2}
      L0,${a.line_height}`).attr("stroke-width",1)}};let xh={},oRt=0;const cRt=(i,a)=>i.insert("rect","#"+a).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",xh.rect_min_width+"px").attr("height",xh.rect_min_height+"px"),uRt=(i,a,f)=>{let p=xh.rect_min_width/2,v=i.append("text").attr("class","req reqLabel reqTitle").attr("id",a).attr("x",p).attr("y",xh.rect_padding).attr("dominant-baseline","hanging"),m=0;f.forEach(L=>{m==0?v.append("tspan").attr("text-anchor","middle").attr("x",xh.rect_min_width/2).attr("dy",0).text(L):v.append("tspan").attr("text-anchor","middle").attr("x",xh.rect_min_width/2).attr("dy",xh.line_height*.75).text(L),m++});let b=1.5*xh.rect_padding,E=m*xh.line_height*.75,_=b+E;return i.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",xh.rect_min_width).attr("y1",_).attr("y2",_),{titleNode:v,y:_}},lRt=(i,a,f,p)=>{let v=i.append("text").attr("class","req reqLabel").attr("id",a).attr("x",xh.rect_padding).attr("y",p).attr("dominant-baseline","hanging"),m=0;const b=30;let E=[];return f.forEach(_=>{let L=_.length;for(;L>b&&m<3;){let N=_.substring(0,b);_=_.substring(b,_.length),L=_.length,E[E.length]=N,m++}if(m==3){let N=E[E.length-1];E[E.length-1]=N.substring(0,N.length-4)+"..."}else E[E.length]=_;m=0}),E.forEach(_=>{v.append("tspan").attr("x",xh.rect_padding).attr("dy",xh.line_height).text(_)}),v},Kqe=(i,a,f,p)=>{const v=a.node().getTotalLength(),m=a.node().getPointAtLength(v*.5),b="rel"+oRt;oRt++;const _=i.append("text").attr("class","req relationshipLabel").attr("id",b).attr("x",m.x).attr("y",m.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(p).node().getBBox();i.insert("rect","#"+b).attr("class","req reqLabelBox").attr("x",m.x-_.width/2).attr("y",m.y-_.height/2).attr("width",_.width).attr("height",_.height).attr("fill","white").attr("fill-opacity","85%")},Yqe=function(i,a,f,p,v){const m=f.edge(oL(a.src),oL(a.dst)),b=Z7().x(function(_){return _.x}).y(function(_){return _.y}),E=i.insert("path","#"+p).attr("class","er relationshipLine").attr("d",b(m.points)).attr("fill","none");a.type==v.db.Relationships.CONTAINS?E.attr("marker-start","url("+Yr.getUrl(xh.arrowMarkerAbsolute)+"#"+a.type+"_line_ending)"):(E.attr("stroke-dasharray","10,7"),E.attr("marker-end","url("+Yr.getUrl(xh.arrowMarkerAbsolute)+"#"+aRt.ReqMarkers.ARROW+"_line_ending)")),Kqe(i,E,xh,`<<${a.type}>>`)},Xqe=(i,a,f)=>{Object.keys(i).forEach(p=>{let v=i[p];p=oL(p),Ut.info("Added new requirement: ",p);const m=f.append("g").attr("id",p),b="req-"+p,E=cRt(m,b);let _=uRt(m,p+"_title",[`<<${v.type}>>`,`${v.name}`]);lRt(m,p+"_body",[`Id: ${v.id}`,`Text: ${v.text}`,`Risk: ${v.risk}`,`Verification: ${v.verifyMethod}`],_.y);const L=E.node().getBBox();a.setNode(p,{width:L.width,height:L.height,shape:"rect",id:p})})},Qqe=(i,a,f)=>{Object.keys(i).forEach(p=>{let v=i[p];const m=oL(p),b=f.append("g").attr("id",m),E="element-"+m,_=cRt(b,E);let L=uRt(b,E+"_title",["<<Element>>",`${p}`]);lRt(b,E+"_body",[`Type: ${v.type||"Not Specified"}`,`Doc Ref: ${v.docRef||"None"}`],L.y);const N=_.node().getBBox();a.setNode(m,{width:N.width,height:N.height,shape:"rect",id:m})})},Zqe=(i,a)=>(i.forEach(function(f){let p=oL(f.src),v=oL(f.dst);a.setEdge(p,v,{relationship:f})}),i),Jqe=function(i,a){a.nodes().forEach(function(f){f!==void 0&&a.node(f)!==void 0&&(i.select("#"+f),i.select("#"+f).attr("transform","translate("+(a.node(f).x-a.node(f).width/2)+","+(a.node(f).y-a.node(f).height/2)+" )"))})},oL=i=>i.replace(/\s/g,"").replace(/\./g,"_"),tHe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:Vqe,db:Uqe,renderer:{draw:(i,a,f,p)=>{xh=Le().requirement;const v=xh.securityLevel;let m;v==="sandbox"&&(m=yr("#i"+a));const E=yr(v==="sandbox"?m.nodes()[0].contentDocument.body:"body").select(`[id='${a}']`);aRt.insertLineEndings(E,xh);const _=new a1({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:xh.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let L=p.db.getRequirements(),N=p.db.getElements(),B=p.db.getRelationships();Xqe(L,_,E),Qqe(N,_,E),Zqe(B,_),eL(_),Jqe(E,_),B.forEach(function(it){Yqe(E,it,_,a,p)});const j=xh.rect_padding,R=E.node().getBBox(),z=R.width+j*2,K=R.height+j*2;og(E,K,z,xh.useMaxWidth),E.attr("viewBox",`${R.x-j} ${R.y-j} ${z} ${K}`)}},styles:Wqe}},Symbol.toStringTag,{value:"Module"}));var sgt=function(){var i=function(we,_e,$t,re){for($t=$t||{},re=we.length;re--;$t[we[re]]=_e);return $t},a=[1,2],f=[1,3],p=[1,4],v=[2,4],m=[1,9],b=[1,11],E=[1,13],_=[1,14],L=[1,16],N=[1,17],B=[1,18],j=[1,24],R=[1,25],z=[1,26],K=[1,27],it=[1,28],st=[1,29],ut=[1,30],bt=[1,31],mt=[1,32],yt=[1,33],dt=[1,34],ht=[1,35],wt=[1,36],X=[1,37],pt=[1,38],U=[1,39],xt=[1,41],nt=[1,42],Ot=[1,43],Nt=[1,44],qt=[1,45],Ct=[1,46],Z=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],Tt=[4,5,16,50,52,53],Ht=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],It=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],Ft=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],ke=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],pn=[68,69,70],Me=[1,120],ve={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,DOTTED_ARROW:74,SOLID_CROSS:75,DOTTED_CROSS:76,SOLID_POINT:77,DOTTED_POINT:78,TXT:79,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"DOTTED_ARROW",75:"SOLID_CROSS",76:"DOTTED_CROSS",77:"SOLID_POINT",78:"DOTTED_POINT",79:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:function(_e,$t,re,ie,Oe,oe,Ne){var me=oe.length-1;switch(Oe){case 3:return ie.apply(oe[me]),oe[me];case 4:case 9:this.$=[];break;case 5:case 10:oe[me-1].push(oe[me]),this.$=oe[me-1];break;case 6:case 7:case 11:case 12:this.$=oe[me];break;case 8:case 13:this.$=[];break;case 15:oe[me].type="createParticipant",this.$=oe[me];break;case 16:oe[me-1].unshift({type:"boxStart",boxData:ie.parseBoxData(oe[me-2])}),oe[me-1].push({type:"boxEnd",boxText:oe[me-2]}),this.$=oe[me-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(oe[me-2]),sequenceIndexStep:Number(oe[me-1]),sequenceVisible:!0,signalType:ie.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(oe[me-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:ie.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:ie.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:ie.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:ie.LINETYPE.ACTIVE_START,actor:oe[me-1]};break;case 23:this.$={type:"activeEnd",signalType:ie.LINETYPE.ACTIVE_END,actor:oe[me-1]};break;case 29:ie.setDiagramTitle(oe[me].substring(6)),this.$=oe[me].substring(6);break;case 30:ie.setDiagramTitle(oe[me].substring(7)),this.$=oe[me].substring(7);break;case 31:this.$=oe[me].trim(),ie.setAccTitle(this.$);break;case 32:case 33:this.$=oe[me].trim(),ie.setAccDescription(this.$);break;case 34:oe[me-1].unshift({type:"loopStart",loopText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.LOOP_START}),oe[me-1].push({type:"loopEnd",loopText:oe[me-2],signalType:ie.LINETYPE.LOOP_END}),this.$=oe[me-1];break;case 35:oe[me-1].unshift({type:"rectStart",color:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.RECT_START}),oe[me-1].push({type:"rectEnd",color:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.RECT_END}),this.$=oe[me-1];break;case 36:oe[me-1].unshift({type:"optStart",optText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.OPT_START}),oe[me-1].push({type:"optEnd",optText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.OPT_END}),this.$=oe[me-1];break;case 37:oe[me-1].unshift({type:"altStart",altText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.ALT_START}),oe[me-1].push({type:"altEnd",signalType:ie.LINETYPE.ALT_END}),this.$=oe[me-1];break;case 38:oe[me-1].unshift({type:"parStart",parText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.PAR_START}),oe[me-1].push({type:"parEnd",signalType:ie.LINETYPE.PAR_END}),this.$=oe[me-1];break;case 39:oe[me-1].unshift({type:"parStart",parText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.PAR_OVER_START}),oe[me-1].push({type:"parEnd",signalType:ie.LINETYPE.PAR_END}),this.$=oe[me-1];break;case 40:oe[me-1].unshift({type:"criticalStart",criticalText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.CRITICAL_START}),oe[me-1].push({type:"criticalEnd",signalType:ie.LINETYPE.CRITICAL_END}),this.$=oe[me-1];break;case 41:oe[me-1].unshift({type:"breakStart",breakText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.BREAK_START}),oe[me-1].push({type:"breakEnd",optText:ie.parseMessage(oe[me-2]),signalType:ie.LINETYPE.BREAK_END}),this.$=oe[me-1];break;case 43:this.$=oe[me-3].concat([{type:"option",optionText:ie.parseMessage(oe[me-1]),signalType:ie.LINETYPE.CRITICAL_OPTION},oe[me]]);break;case 45:this.$=oe[me-3].concat([{type:"and",parText:ie.parseMessage(oe[me-1]),signalType:ie.LINETYPE.PAR_AND},oe[me]]);break;case 47:this.$=oe[me-3].concat([{type:"else",altText:ie.parseMessage(oe[me-1]),signalType:ie.LINETYPE.ALT_ELSE},oe[me]]);break;case 48:oe[me-3].draw="participant",oe[me-3].type="addParticipant",oe[me-3].description=ie.parseMessage(oe[me-1]),this.$=oe[me-3];break;case 49:oe[me-1].draw="participant",oe[me-1].type="addParticipant",this.$=oe[me-1];break;case 50:oe[me-3].draw="actor",oe[me-3].type="addParticipant",oe[me-3].description=ie.parseMessage(oe[me-1]),this.$=oe[me-3];break;case 51:oe[me-1].draw="actor",oe[me-1].type="addParticipant",this.$=oe[me-1];break;case 52:oe[me-1].type="destroyParticipant",this.$=oe[me-1];break;case 53:this.$=[oe[me-1],{type:"addNote",placement:oe[me-2],actor:oe[me-1].actor,text:oe[me]}];break;case 54:oe[me-2]=[].concat(oe[me-1],oe[me-1]).slice(0,2),oe[me-2][0]=oe[me-2][0].actor,oe[me-2][1]=oe[me-2][1].actor,this.$=[oe[me-1],{type:"addNote",placement:ie.PLACEMENT.OVER,actor:oe[me-2].slice(0,2),text:oe[me]}];break;case 55:this.$=[oe[me-1],{type:"addLinks",actor:oe[me-1].actor,text:oe[me]}];break;case 56:this.$=[oe[me-1],{type:"addALink",actor:oe[me-1].actor,text:oe[me]}];break;case 57:this.$=[oe[me-1],{type:"addProperties",actor:oe[me-1].actor,text:oe[me]}];break;case 58:this.$=[oe[me-1],{type:"addDetails",actor:oe[me-1].actor,text:oe[me]}];break;case 61:this.$=[oe[me-2],oe[me]];break;case 62:this.$=oe[me];break;case 63:this.$=ie.PLACEMENT.LEFTOF;break;case 64:this.$=ie.PLACEMENT.RIGHTOF;break;case 65:this.$=[oe[me-4],oe[me-1],{type:"addMessage",from:oe[me-4].actor,to:oe[me-1].actor,signalType:oe[me-3],msg:oe[me],activate:!0},{type:"activeStart",signalType:ie.LINETYPE.ACTIVE_START,actor:oe[me-1]}];break;case 66:this.$=[oe[me-4],oe[me-1],{type:"addMessage",from:oe[me-4].actor,to:oe[me-1].actor,signalType:oe[me-3],msg:oe[me]},{type:"activeEnd",signalType:ie.LINETYPE.ACTIVE_END,actor:oe[me-4]}];break;case 67:this.$=[oe[me-3],oe[me-1],{type:"addMessage",from:oe[me-3].actor,to:oe[me-1].actor,signalType:oe[me-2],msg:oe[me]}];break;case 68:this.$={type:"addParticipant",actor:oe[me]};break;case 69:this.$=ie.LINETYPE.SOLID_OPEN;break;case 70:this.$=ie.LINETYPE.DOTTED_OPEN;break;case 71:this.$=ie.LINETYPE.SOLID;break;case 72:this.$=ie.LINETYPE.DOTTED;break;case 73:this.$=ie.LINETYPE.SOLID_CROSS;break;case 74:this.$=ie.LINETYPE.DOTTED_CROSS;break;case 75:this.$=ie.LINETYPE.SOLID_POINT;break;case 76:this.$=ie.LINETYPE.DOTTED_POINT;break;case 77:this.$=ie.parseMessage(oe[me].trim().substring(1));break}},table:[{3:1,4:a,5:f,6:p},{1:[3]},{3:5,4:a,5:f,6:p},{3:6,4:a,5:f,6:p},i([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],v,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:m,5:b,8:8,9:10,12:12,13:E,14:_,17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},i(Z,[2,5]),{9:47,12:12,13:E,14:_,17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},i(Z,[2,7]),i(Z,[2,8]),i(Z,[2,14]),{12:48,50:X,52:pt,53:U},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:Ct},{22:55,70:Ct},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},i(Z,[2,29]),i(Z,[2,30]),{32:[1,61]},{34:[1,62]},i(Z,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:Ct},{22:72,70:Ct},{22:73,70:Ct},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82]},{55:83,57:[1,84],65:[1,85],66:[1,86]},{22:87,70:Ct},{22:88,70:Ct},{22:89,70:Ct},{22:90,70:Ct},i([5,51,64,71,72,73,74,75,76,77,78,79],[2,68]),i(Z,[2,6]),i(Z,[2,15]),i(Tt,[2,9],{10:91}),i(Z,[2,17]),{5:[1,93],19:[1,92]},{5:[1,94]},i(Z,[2,21]),{5:[1,95]},{5:[1,96]},i(Z,[2,24]),i(Z,[2,25]),i(Z,[2,26]),i(Z,[2,27]),i(Z,[2,28]),i(Z,[2,31]),i(Z,[2,32]),i(Ht,v,{7:97}),i(Ht,v,{7:98}),i(Ht,v,{7:99}),i(It,v,{40:100,7:101}),i(Ft,v,{42:102,7:103}),i(Ft,v,{7:103,42:104}),i(ke,v,{45:105,7:106}),i(Ht,v,{7:107}),{5:[1,109],51:[1,108]},{5:[1,111],51:[1,110]},{5:[1,112]},{22:115,68:[1,113],69:[1,114],70:Ct},i(pn,[2,69]),i(pn,[2,70]),i(pn,[2,71]),i(pn,[2,72]),i(pn,[2,73]),i(pn,[2,74]),i(pn,[2,75]),i(pn,[2,76]),{22:116,70:Ct},{22:118,58:117,70:Ct},{70:[2,63]},{70:[2,64]},{56:119,79:Me},{56:121,79:Me},{56:122,79:Me},{56:123,79:Me},{4:[1,126],5:[1,128],11:125,12:127,16:[1,124],50:X,52:pt,53:U},{5:[1,129]},i(Z,[2,19]),i(Z,[2,20]),i(Z,[2,22]),i(Z,[2,23]),{4:m,5:b,8:8,9:10,12:12,13:E,14:_,16:[1,130],17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},{4:m,5:b,8:8,9:10,12:12,13:E,14:_,16:[1,131],17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},{4:m,5:b,8:8,9:10,12:12,13:E,14:_,16:[1,132],17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},{16:[1,133]},{4:m,5:b,8:8,9:10,12:12,13:E,14:_,16:[2,46],17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,49:[1,134],50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},{16:[1,135]},{4:m,5:b,8:8,9:10,12:12,13:E,14:_,16:[2,44],17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,48:[1,136],50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},{16:[1,137]},{16:[1,138]},{4:m,5:b,8:8,9:10,12:12,13:E,14:_,16:[2,42],17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,47:[1,139],50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},{4:m,5:b,8:8,9:10,12:12,13:E,14:_,16:[1,140],17:15,18:L,21:N,22:40,23:B,24:19,25:20,26:21,27:22,28:23,29:j,30:R,31:z,33:K,35:it,36:st,37:ut,38:bt,39:mt,41:yt,43:dt,44:ht,46:wt,50:X,52:pt,53:U,54:xt,59:nt,60:Ot,61:Nt,62:qt,70:Ct},{15:[1,141]},i(Z,[2,49]),{15:[1,142]},i(Z,[2,51]),i(Z,[2,52]),{22:143,70:Ct},{22:144,70:Ct},{56:145,79:Me},{56:146,79:Me},{56:147,79:Me},{64:[1,148],79:[2,62]},{5:[2,55]},{5:[2,77]},{5:[2,56]},{5:[2,57]},{5:[2,58]},i(Z,[2,16]),i(Tt,[2,10]),{12:149,50:X,52:pt,53:U},i(Tt,[2,12]),i(Tt,[2,13]),i(Z,[2,18]),i(Z,[2,34]),i(Z,[2,35]),i(Z,[2,36]),i(Z,[2,37]),{15:[1,150]},i(Z,[2,38]),{15:[1,151]},i(Z,[2,39]),i(Z,[2,40]),{15:[1,152]},i(Z,[2,41]),{5:[1,153]},{5:[1,154]},{56:155,79:Me},{56:156,79:Me},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:157,70:Ct},i(Tt,[2,11]),i(It,v,{7:101,40:158}),i(Ft,v,{7:103,42:159}),i(ke,v,{7:106,45:160}),i(Z,[2,48]),i(Z,[2,50]),{5:[2,65]},{5:[2,66]},{79:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],85:[2,63],86:[2,64],119:[2,55],120:[2,77],121:[2,56],122:[2,57],123:[2,58],145:[2,67],146:[2,53],147:[2,54],155:[2,65],156:[2,66],157:[2,61],158:[2,47],159:[2,45],160:[2,43]},parseError:function(_e,$t){if($t.recoverable)this.trace(_e);else{var re=new Error(_e);throw re.hash=$t,re}},parse:function(_e){var $t=this,re=[0],ie=[],Oe=[null],oe=[],Ne=this.table,me="",cn=0,li=0,ya=2,da=1,Oo=oe.slice.call(arguments,1),ds=Object.create(this.lexer),Dr={yy:{}};for(var nr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,nr)&&(Dr.yy[nr]=this.yy[nr]);ds.setInput(_e,Dr.yy),Dr.yy.lexer=ds,Dr.yy.parser=this,typeof ds.yylloc>"u"&&(ds.yylloc={});var di=ds.yylloc;oe.push(di);var Ee=ds.options&&ds.options.ranges;typeof Dr.yy.parseError=="function"?this.parseError=Dr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Yn(){var $s;return $s=ie.pop()||ds.lex()||da,typeof $s!="number"&&($s instanceof Array&&(ie=$s,$s=ie.pop()),$s=$t.symbols_[$s]||$s),$s}for(var He,Ti,gn,ks,qa={},La,Gs,No,vs;;){if(Ti=re[re.length-1],this.defaultActions[Ti]?gn=this.defaultActions[Ti]:((He===null||typeof He>"u")&&(He=Yn()),gn=Ne[Ti]&&Ne[Ti][He]),typeof gn>"u"||!gn.length||!gn[0]){var nu="";vs=[];for(La in Ne[Ti])this.terminals_[La]&&La>ya&&vs.push("'"+this.terminals_[La]+"'");ds.showPosition?nu="Parse error on line "+(cn+1)+`:
`+ds.showPosition()+`
Expecting `+vs.join(", ")+", got '"+(this.terminals_[He]||He)+"'":nu="Parse error on line "+(cn+1)+": Unexpected "+(He==da?"end of input":"'"+(this.terminals_[He]||He)+"'"),this.parseError(nu,{text:ds.match,token:this.terminals_[He]||He,line:ds.yylineno,loc:di,expected:vs})}if(gn[0]instanceof Array&&gn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ti+", token: "+He);switch(gn[0]){case 1:re.push(He),Oe.push(ds.yytext),oe.push(ds.yylloc),re.push(gn[1]),He=null,li=ds.yyleng,me=ds.yytext,cn=ds.yylineno,di=ds.yylloc;break;case 2:if(Gs=this.productions_[gn[1]][1],qa.$=Oe[Oe.length-Gs],qa._$={first_line:oe[oe.length-(Gs||1)].first_line,last_line:oe[oe.length-1].last_line,first_column:oe[oe.length-(Gs||1)].first_column,last_column:oe[oe.length-1].last_column},Ee&&(qa._$.range=[oe[oe.length-(Gs||1)].range[0],oe[oe.length-1].range[1]]),ks=this.performAction.apply(qa,[me,li,cn,Dr.yy,gn[1],Oe,oe].concat(Oo)),typeof ks<"u")return ks;Gs&&(re=re.slice(0,-1*Gs*2),Oe=Oe.slice(0,-1*Gs),oe=oe.slice(0,-1*Gs)),re.push(this.productions_[gn[1]][0]),Oe.push(qa.$),oe.push(qa._$),No=Ne[re[re.length-2]][re[re.length-1]],re.push(No);break;case 3:return!0}}return!0}},Ge=function(){var we={EOF:1,parseError:function($t,re){if(this.yy.parser)this.yy.parser.parseError($t,re);else throw new Error($t)},setInput:function(_e,$t){return this.yy=$t||this.yy||{},this._input=_e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _e=this._input[0];this.yytext+=_e,this.yyleng++,this.offset++,this.match+=_e,this.matched+=_e;var $t=_e.match(/(?:\r\n?|\n).*/g);return $t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_e},unput:function(_e){var $t=_e.length,re=_e.split(/(?:\r\n?|\n)/g);this._input=_e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$t),this.offset-=$t;var ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),re.length-1&&(this.yylineno-=re.length-1);var Oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:re?(re.length===ie.length?this.yylloc.first_column:0)+ie[ie.length-re.length].length-re[0].length:this.yylloc.first_column-$t},this.options.ranges&&(this.yylloc.range=[Oe[0],Oe[0]+this.yyleng-$t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_e){this.unput(this.match.slice(_e))},pastInput:function(){var _e=this.matched.substr(0,this.matched.length-this.match.length);return(_e.length>20?"...":"")+_e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _e=this.match;return _e.length<20&&(_e+=this._input.substr(0,20-_e.length)),(_e.substr(0,20)+(_e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _e=this.pastInput(),$t=new Array(_e.length+1).join("-");return _e+this.upcomingInput()+`
`+$t+"^"},test_match:function(_e,$t){var re,ie,Oe;if(this.options.backtrack_lexer&&(Oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Oe.yylloc.range=this.yylloc.range.slice(0))),ie=_e[0].match(/(?:\r\n?|\n).*/g),ie&&(this.yylineno+=ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ie?ie[ie.length-1].length-ie[ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_e[0].length},this.yytext+=_e[0],this.match+=_e[0],this.matches=_e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_e[0].length),this.matched+=_e[0],re=this.performAction.call(this,this.yy,this,$t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),re)return re;if(this._backtrack){for(var oe in Oe)this[oe]=Oe[oe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _e,$t,re,ie;this._more||(this.yytext="",this.match="");for(var Oe=this._currentRules(),oe=0;oe<Oe.length;oe++)if(re=this._input.match(this.rules[Oe[oe]]),re&&(!$t||re[0].length>$t[0].length)){if($t=re,ie=oe,this.options.backtrack_lexer){if(_e=this.test_match(re,Oe[oe]),_e!==!1)return _e;if(this._backtrack){$t=!1;continue}else return!1}else if(!this.options.flex)break}return $t?(_e=this.test_match($t,Oe[ie]),_e!==!1?_e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var $t=this.next();return $t||this.lex()},begin:function($t){this.conditionStack.push($t)},popState:function(){var $t=this.conditionStack.length-1;return $t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function($t){return $t=this.conditionStack.length-1-Math.abs($t||0),$t>=0?this.conditionStack[$t]:"INITIAL"},pushState:function($t){this.begin($t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function($t,re,ie,Oe){switch(ie){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return re.yytext=re.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return re.yytext=re.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 71;case 56:return 72;case 57:return 75;case 58:return 76;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 68;case 63:return 69;case 64:return 5;case 65:return"INVALID"}},rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65],inclusive:!0}}};return we}();ve.lexer=Ge;function Ke(){this.yy={}}return Ke.prototype=ve,ve.Parser=Ke,new Ke}();sgt.parser=sgt;const eHe=sgt;let DP,I5={},agt={},ogt={},cL=[],Bb=[],SK=!1,cgt,D5,OP,uL;const nHe=function(i){cL.push({name:i.text,wrap:i.wrap===void 0&&kT()||!!i.wrap,fill:i.color,actorKeys:[]}),D5=cL.slice(-1)[0]},ugt=function(i,a,f,p){let v=D5;const m=I5[i];if(m){if(D5&&m.box&&D5!==m.box)throw new Error("A same participant should only be defined in one Box: "+m.name+" can't be in '"+m.box.name+"' and in '"+D5.name+"' at the same time.");if(v=m.box?m.box:D5,m.box=v,m&&a===m.name&&f==null)return}(f==null||f.text==null)&&(f={text:a,wrap:null,type:p}),(p==null||f.text==null)&&(f={text:a,wrap:null,type:p}),I5[i]={box:v,name:a,description:f.text,wrap:f.wrap===void 0&&kT()||!!f.wrap,prevActor:DP,links:{},properties:{},actorCnt:null,rectData:null,type:p||"participant"},DP&&I5[DP]&&(I5[DP].nextActor=i),D5&&D5.actorKeys.push(i),DP=i},rHe=i=>{let a,f=0;for(a=0;a<Bb.length;a++)Bb[a].type===PP.ACTIVE_START&&Bb[a].from.actor===i&&f++,Bb[a].type===PP.ACTIVE_END&&Bb[a].from.actor===i&&f--;return f},iHe=function(i,a,f,p){Bb.push({from:i,to:a,message:f.text,wrap:f.wrap===void 0&&kT()||!!f.wrap,answer:p})},Zh=function(i,a,f={text:void 0,wrap:void 0},p,v=!1){if(p===PP.ACTIVE_END&&rHe(i.actor)<1){let b=new Error("Trying to inactivate an inactive participant ("+i.actor+")");throw b.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},b}return Bb.push({from:i,to:a,message:f.text,wrap:f.wrap===void 0&&kT()||!!f.wrap,type:p,activate:v}),!0},sHe=function(){return cL.length>0},aHe=function(){return cL.some(i=>i.name)},oHe=function(){return Bb},cHe=function(){return cL},uHe=function(){return I5},lHe=function(){return agt},hHe=function(){return ogt},NP=function(i){return I5[i]},fHe=function(){return Object.keys(I5)},dHe=function(){SK=!0},gHe=function(){SK=!1},pHe=()=>SK,bHe=function(i){cgt=i},kT=()=>cgt!==void 0?cgt:Le().sequence.wrap,vHe=function(){I5={},agt={},ogt={},cL=[],Bb=[],SK=!1,ap()},wHe=function(i){const a=i.trim(),f={text:a.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:a.match(/^:?wrap:/)!==null?!0:a.match(/^:?nowrap:/)!==null?!1:void 0};return Ut.debug("parseMessage:",f),f},mHe=function(i){const a=i.match(/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/);let f=a!=null&&a[1]?a[1].trim():"transparent",p=a!=null&&a[2]?a[2].trim():void 0;if(window&&window.CSS)window.CSS.supports("color",f)||(f="transparent",p=i.trim());else{const m=new Option().style;m.color=f,m.color!==f&&(f="transparent",p=i.trim())}return{color:f,text:p!==void 0?Dd(p.replace(/^:?(?:no)?wrap:/,""),Le()):void 0,wrap:p!==void 0?p.match(/^:?wrap:/)!==null?!0:p.match(/^:?nowrap:/)!==null?!1:void 0:void 0}},PP={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32},yHe={FILLED:0,OPEN:1},xHe={LEFTOF:0,RIGHTOF:1,OVER:2},hRt=function(i,a,f){f.text,f.wrap===void 0&&kT()||f.wrap;const p=[].concat(i,i);Bb.push({from:p[0],to:p[1],message:f.text,wrap:f.wrap===void 0&&kT()||!!f.wrap,type:PP.NOTE,placement:a})},fRt=function(i,a){const f=NP(i);try{let p=Dd(a.text,Le());p=p.replace(/&amp;/g,"&"),p=p.replace(/&equals;/g,"=");const v=JSON.parse(p);lgt(f,v)}catch(p){Ut.error("error while parsing actor link text",p)}},kHe=function(i,a){const f=NP(i);try{const b={};let E=Dd(a.text,Le());var p=E.indexOf("@");E=E.replace(/&amp;/g,"&"),E=E.replace(/&equals;/g,"=");var v=E.slice(0,p-1).trim(),m=E.slice(p+1).trim();b[v]=m,lgt(f,b)}catch(b){Ut.error("error while parsing actor link text",b)}};function lgt(i,a){if(i.links==null)i.links=a;else for(let f in a)i.links[f]=a[f]}const dRt=function(i,a){const f=NP(i);try{let p=Dd(a.text,Le());const v=JSON.parse(p);gRt(f,v)}catch(p){Ut.error("error while parsing actor properties text",p)}};function gRt(i,a){if(i.properties==null)i.properties=a;else for(let f in a)i.properties[f]=a[f]}function EHe(){D5=void 0}const pRt=function(i,a){const f=NP(i),p=document.getElementById(a.text);try{const v=p.innerHTML,m=JSON.parse(v);m.properties&&gRt(f,m.properties),m.links&&lgt(f,m.links)}catch(v){Ut.error("error while parsing actor details text",v)}},THe=function(i,a){if(i!==void 0&&i.properties!==void 0)return i.properties[a]},bRt=function(i){if(Array.isArray(i))i.forEach(function(a){bRt(a)});else switch(i.type){case"sequenceIndex":Bb.push({from:void 0,to:void 0,message:{start:i.sequenceIndex,step:i.sequenceIndexStep,visible:i.sequenceVisible},wrap:!1,type:i.signalType});break;case"addParticipant":ugt(i.actor,i.actor,i.description,i.draw);break;case"createParticipant":if(I5[i.actor])throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");OP=i.actor,ugt(i.actor,i.actor,i.description,i.draw),agt[i.actor]=Bb.length;break;case"destroyParticipant":uL=i.actor,ogt[i.actor]=Bb.length;break;case"activeStart":Zh(i.actor,void 0,void 0,i.signalType);break;case"activeEnd":Zh(i.actor,void 0,void 0,i.signalType);break;case"addNote":hRt(i.actor,i.placement,i.text);break;case"addLinks":fRt(i.actor,i.text);break;case"addALink":kHe(i.actor,i.text);break;case"addProperties":dRt(i.actor,i.text);break;case"addDetails":pRt(i.actor,i.text);break;case"addMessage":if(OP){if(i.to!==OP)throw new Error("The created participant "+OP+" does not have an associated creating message after its declaration. Please check the sequence diagram.");OP=void 0}else if(uL){if(i.to!==uL&&i.from!==uL)throw new Error("The destroyed participant "+uL+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");uL=void 0}Zh(i.from,i.to,i.msg,i.signalType,i.activate);break;case"boxStart":nHe(i.boxData);break;case"boxEnd":EHe();break;case"loopStart":Zh(void 0,void 0,i.loopText,i.signalType);break;case"loopEnd":Zh(void 0,void 0,void 0,i.signalType);break;case"rectStart":Zh(void 0,void 0,i.color,i.signalType);break;case"rectEnd":Zh(void 0,void 0,void 0,i.signalType);break;case"optStart":Zh(void 0,void 0,i.optText,i.signalType);break;case"optEnd":Zh(void 0,void 0,void 0,i.signalType);break;case"altStart":Zh(void 0,void 0,i.altText,i.signalType);break;case"else":Zh(void 0,void 0,i.altText,i.signalType);break;case"altEnd":Zh(void 0,void 0,void 0,i.signalType);break;case"setAccTitle":cg(i.text);break;case"parStart":Zh(void 0,void 0,i.parText,i.signalType);break;case"and":Zh(void 0,void 0,i.parText,i.signalType);break;case"parEnd":Zh(void 0,void 0,void 0,i.signalType);break;case"criticalStart":Zh(void 0,void 0,i.criticalText,i.signalType);break;case"option":Zh(void 0,void 0,i.optionText,i.signalType);break;case"criticalEnd":Zh(void 0,void 0,void 0,i.signalType);break;case"breakStart":Zh(void 0,void 0,i.breakText,i.signalType);break;case"breakEnd":Zh(void 0,void 0,void 0,i.signalType);break}},vRt={addActor:ugt,addMessage:iHe,addSignal:Zh,addLinks:fRt,addDetails:pRt,addProperties:dRt,autoWrap:kT,setWrap:bHe,enableSequenceNumbers:dHe,disableSequenceNumbers:gHe,showSequenceNumbers:pHe,getMessages:oHe,getActors:uHe,getCreatedActors:lHe,getDestroyedActors:hHe,getActor:NP,getActorKeys:fHe,getActorProperty:THe,getAccTitle:op,getBoxes:cHe,getDiagramTitle:Db,setDiagramTitle:Z2,getConfig:()=>Le().sequence,clear:vHe,parseMessage:wHe,parseBoxData:mHe,LINETYPE:PP,ARROWTYPE:yHe,PLACEMENT:xHe,addNote:hRt,setAccTitle:cg,apply:bRt,setAccDescription:cp,getAccDescription:up,hasAtLeastOneBox:sHe,hasAtLeastOneBoxWithTitle:aHe},CHe=i=>`.actor {
    stroke: ${i.actorBorder};
    fill: ${i.actorBkg};
  }

  text.actor > tspan {
    fill: ${i.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${i.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${i.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${i.signalColor};
  }

  #arrowhead path {
    fill: ${i.signalColor};
    stroke: ${i.signalColor};
  }

  .sequenceNumber {
    fill: ${i.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${i.signalColor};
  }

  #crosshead path {
    fill: ${i.signalColor};
    stroke: ${i.signalColor};
  }

  .messageText {
    fill: ${i.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${i.labelBoxBorderColor};
    fill: ${i.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${i.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${i.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${i.labelBoxBorderColor};
    fill: ${i.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${i.noteBorderColor};
    fill: ${i.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${i.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${i.activationBkgColor};
    stroke: ${i.activationBorderColor};
  }

  .activation1 {
    fill: ${i.activationBkgColor};
    stroke: ${i.activationBorderColor};
  }

  .activation2 {
    fill: ${i.activationBkgColor};
    stroke: ${i.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${i.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${i.actorBorder};
    fill: ${i.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${i.actorBorder};
    fill: ${i.actorBkg};
    stroke-width: 2px;
  }
`,ET=18*2,hgt=function(i,a){return HW(i,a)},wRt=(i,a)=>{WSe(()=>{const f=document.querySelectorAll(i);f.length!==0&&(f[0].addEventListener("mouseover",function(){LHe("actor"+a+"_popup")}),f[0].addEventListener("mouseout",function(){MHe("actor"+a+"_popup")}))})},_He=function(i,a,f,p,v){if(a.links===void 0||a.links===null||Object.keys(a.links).length===0)return{height:0,width:0};const m=a.links,b=a.actorCnt,E=a.rectData;var _="none";v&&(_="block !important");const L=i.append("g");L.attr("id","actor"+b+"_popup"),L.attr("class","actorPopupMenu"),L.attr("display",_),wRt("#actor"+b+"_popup",b);var N="";E.class!==void 0&&(N=" "+E.class);let B=E.width>f?E.width:f;const j=L.append("rect");if(j.attr("class","actorPopupMenuPanel"+N),j.attr("x",E.x),j.attr("y",E.height),j.attr("fill",E.fill),j.attr("stroke",E.stroke),j.attr("width",B),j.attr("height",E.height),j.attr("rx",E.rx),j.attr("ry",E.ry),m!=null){var R=20;for(let it in m){var z=L.append("a"),K=Q6(m[it]);z.attr("xlink:href",K),z.attr("target","_blank"),UHe(p)(it,z,E.x+10,E.height+R,B,20,{class:"actor"},p),R+=30}}return j.attr("height",R),{height:E.height+R,width:B}},SHe=function(i){return"var pu = document.getElementById('"+i+"'); if (pu != null) { pu.style.display = 'block'; }"},AHe=function(i){return"var pu = document.getElementById('"+i+"'); if (pu != null) { pu.style.display = 'none'; }"},LHe=function(i){var a=document.getElementById(i);a!=null&&(a.style.display="block")},MHe=function(i){var a=document.getElementById(i);a!=null&&(a.style.display="none")},lL=function(i,a){let f=0,p=0;const v=a.text.split(Yr.lineBreakRegex),[m,b]=$A(a.fontSize);let E=[],_=0,L=()=>a.y;if(a.valign!==void 0&&a.textMargin!==void 0&&a.textMargin>0)switch(a.valign){case"top":case"start":L=()=>Math.round(a.y+a.textMargin);break;case"middle":case"center":L=()=>Math.round(a.y+(f+p+a.textMargin)/2);break;case"bottom":case"end":L=()=>Math.round(a.y+(f+p+2*a.textMargin)-a.textMargin);break}if(a.anchor!==void 0&&a.textMargin!==void 0&&a.width!==void 0)switch(a.anchor){case"left":case"start":a.x=Math.round(a.x+a.textMargin),a.anchor="start",a.dominantBaseline="middle",a.alignmentBaseline="middle";break;case"middle":case"center":a.x=Math.round(a.x+a.width/2),a.anchor="middle",a.dominantBaseline="middle",a.alignmentBaseline="middle";break;case"right":case"end":a.x=Math.round(a.x+a.width-a.textMargin),a.anchor="end",a.dominantBaseline="middle",a.alignmentBaseline="middle";break}for(let[N,B]of v.entries()){a.textMargin!==void 0&&a.textMargin===0&&m!==void 0&&(_=N*m);const j=i.append("text");j.attr("x",a.x),j.attr("y",L()),a.anchor!==void 0&&j.attr("text-anchor",a.anchor).attr("dominant-baseline",a.dominantBaseline).attr("alignment-baseline",a.alignmentBaseline),a.fontFamily!==void 0&&j.style("font-family",a.fontFamily),b!==void 0&&j.style("font-size",b),a.fontWeight!==void 0&&j.style("font-weight",a.fontWeight),a.fill!==void 0&&j.attr("fill",a.fill),a.class!==void 0&&j.attr("class",a.class),a.dy!==void 0?j.attr("dy",a.dy):_!==0&&j.attr("dy",_);const R=B||RDt;if(a.tspan){const z=j.append("tspan");z.attr("x",a.x),a.fill!==void 0&&z.attr("fill",a.fill),z.text(R)}else j.text(R);a.valign!==void 0&&a.textMargin!==void 0&&a.textMargin>0&&(p+=(j._groups||j)[0][0].getBBox().height,f=p),E.push(j)}return E},mRt=function(i,a){function f(v,m,b,E,_){return v+","+m+" "+(v+b)+","+m+" "+(v+b)+","+(m+E-_)+" "+(v+b-_*1.2)+","+(m+E)+" "+v+","+(m+E)}const p=i.append("polygon");return p.attr("points",f(a.x,a.y,a.width,a.height,7)),p.attr("class","labelBox"),a.y=a.y+a.height/2,lL(i,a),p};let hm=-1;const yRt=(i,a,f,p)=>{i.select&&f.forEach(v=>{const m=a[v],b=i.select("#actor"+m.actorCnt);!p.mirrorActors&&m.stopy?b.attr("y2",m.stopy+m.height/2):p.mirrorActors&&b.attr("y2",m.stopy)})},IHe=function(i,a,f,p){const v=p?a.stopy:a.starty,m=a.x+a.width/2,b=v+5,E=i.append("g").lower();var _=E;p||(hm++,_.append("line").attr("id","actor"+hm).attr("x1",m).attr("y1",b).attr("x2",m).attr("y2",2e3).attr("class","actor-line").attr("class","200").attr("stroke-width","0.5px").attr("stroke","#999"),_=E.append("g"),a.actorCnt=hm,a.links!=null&&(_.attr("id","root-"+hm),wRt("#root-"+hm,hm)));const L=fT();var N="actor";a.properties!=null&&a.properties.class?N=a.properties.class:L.fill="#eaeaea",L.x=a.x,L.y=v,L.width=a.width,L.height=a.height,L.class=N,L.rx=3,L.ry=3;const B=hgt(_,L);if(a.rectData=L,a.properties!=null&&a.properties.icon){const R=a.properties.icon.trim();R.charAt(0)==="@"?pIe(_,L.x+L.width-20,L.y+10,R.substr(1)):gIe(_,L.x+L.width-20,L.y+10,R)}fgt(f)(a.description,_,L.x,L.y,L.width,L.height,{class:"actor"},f);let j=a.height;if(B.node){const R=B.node().getBBox();a.height=R.height,j=R.height}return j},DHe=function(i,a,f,p){const v=p?a.stopy:a.starty,m=a.x+a.width/2,b=v+80;i.lower(),p||(hm++,i.append("line").attr("id","actor"+hm).attr("x1",m).attr("y1",b).attr("x2",m).attr("y2",2e3).attr("class","actor-line").attr("class","200").attr("stroke-width","0.5px").attr("stroke","#999"),a.actorCnt=hm);const E=i.append("g");E.attr("class","actor-man");const _=fT();_.x=a.x,_.y=v,_.fill="#eaeaea",_.width=a.width,_.height=a.height,_.class="actor",_.rx=3,_.ry=3,E.append("line").attr("id","actor-man-torso"+hm).attr("x1",m).attr("y1",v+25).attr("x2",m).attr("y2",v+45),E.append("line").attr("id","actor-man-arms"+hm).attr("x1",m-ET/2).attr("y1",v+33).attr("x2",m+ET/2).attr("y2",v+33),E.append("line").attr("x1",m-ET/2).attr("y1",v+60).attr("x2",m).attr("y2",v+45),E.append("line").attr("x1",m).attr("y1",v+45).attr("x2",m+ET/2-2).attr("y2",v+60);const L=E.append("circle");L.attr("cx",a.x+a.width/2),L.attr("cy",v+10),L.attr("r",15),L.attr("width",a.width),L.attr("height",a.height);const N=E.node().getBBox();return a.height=N.height,fgt(f)(a.description,E,_.x,_.y+35,_.width,_.height,{class:"actor"},f),a.height},OHe=function(i,a,f,p){switch(a.type){case"actor":return DHe(i,a,f,p);case"participant":return IHe(i,a,f,p)}},NHe=function(i,a,f){const v=i.append("g");xRt(v,a),a.name&&fgt(f)(a.name,v,a.x,a.y+(a.textMaxHeight||0)/2,a.width,0,{class:"text"},f),v.lower()},PHe=function(i){return i.append("g")},FHe=function(i,a,f,p,v){const m=fT(),b=a.anchored;m.x=a.startx,m.y=a.starty,m.class="activation"+v%3,m.width=a.stopx-a.startx,m.height=f-a.starty,hgt(b,m)},BHe=function(i,a,f,p){const{boxMargin:v,boxTextMargin:m,labelBoxHeight:b,labelBoxWidth:E,messageFontFamily:_,messageFontSize:L,messageFontWeight:N}=p,B=i.append("g"),j=function(K,it,st,ut){return B.append("line").attr("x1",K).attr("y1",it).attr("x2",st).attr("y2",ut).attr("class","loopLine")};j(a.startx,a.starty,a.stopx,a.starty),j(a.stopx,a.starty,a.stopx,a.stopy),j(a.startx,a.stopy,a.stopx,a.stopy),j(a.startx,a.starty,a.startx,a.stopy),a.sections!==void 0&&a.sections.forEach(function(K){j(a.startx,K.y,a.stopx,K.y).style("stroke-dasharray","3, 3")});let R=Pdt();R.text=f,R.x=a.startx,R.y=a.starty,R.fontFamily=_,R.fontSize=L,R.fontWeight=N,R.anchor="middle",R.valign="middle",R.tspan=!1,R.width=E||50,R.height=b||20,R.textMargin=m,R.class="labelText",mRt(B,R),R=kRt(),R.text=a.title,R.x=a.startx+E/2+(a.stopx-a.startx)/2,R.y=a.starty+v+m,R.anchor="middle",R.valign="middle",R.textMargin=m,R.class="loopText",R.fontFamily=_,R.fontSize=L,R.fontWeight=N,R.wrap=!0;let z=lL(B,R);return a.sectionTitles!==void 0&&a.sectionTitles.forEach(function(K,it){if(K.message){R.text=K.message,R.x=a.startx+(a.stopx-a.startx)/2,R.y=a.sections[it].y+v+m,R.class="loopText",R.anchor="middle",R.valign="middle",R.tspan=!1,R.fontFamily=_,R.fontSize=L,R.fontWeight=N,R.wrap=a.wrap,z=lL(B,R);let st=Math.round(z.map(ut=>(ut._groups||ut)[0][0].getBBox().height).reduce((ut,bt)=>ut+bt));a.sections[it].height+=st-(v+m)}}),a.height=Math.round(a.stopy-a.starty),B},xRt=function(i,a){bNt(i,a)},RHe=function(i){i.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},jHe=function(i){i.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},$He=function(i){i.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},zHe=function(i){i.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},qHe=function(i){i.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},HHe=function(i){i.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},GHe=function(i){i.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},kRt=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},VHe=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},fgt=function(){function i(v,m,b,E,_,L,N){const B=m.append("text").attr("x",b+_/2).attr("y",E+L/2+5).style("text-anchor","middle").text(v);p(B,N)}function a(v,m,b,E,_,L,N,B){const{actorFontSize:j,actorFontFamily:R,actorFontWeight:z}=B,[K,it]=$A(j),st=v.split(Yr.lineBreakRegex);for(let ut=0;ut<st.length;ut++){const bt=ut*K-K*(st.length-1)/2,mt=m.append("text").attr("x",b+_/2).attr("y",E).style("text-anchor","middle").style("font-size",it).style("font-weight",z).style("font-family",R);mt.append("tspan").attr("x",b+_/2).attr("dy",bt).text(st[ut]),mt.attr("y",E+L/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),p(mt,N)}}function f(v,m,b,E,_,L,N,B){const j=m.append("switch"),z=j.append("foreignObject").attr("x",b).attr("y",E).attr("width",_).attr("height",L).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");z.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(v),a(v,j,b,E,_,L,N,B),p(z,N)}function p(v,m){for(const b in m)m.hasOwnProperty(b)&&v.attr(b,m[b])}return function(v){return v.textPlacement==="fo"?f:v.textPlacement==="old"?i:a}}(),UHe=function(){function i(v,m,b,E,_,L,N){const B=m.append("text").attr("x",b).attr("y",E).style("text-anchor","start").text(v);p(B,N)}function a(v,m,b,E,_,L,N,B){const{actorFontSize:j,actorFontFamily:R,actorFontWeight:z}=B,K=v.split(Yr.lineBreakRegex);for(let it=0;it<K.length;it++){const st=it*j-j*(K.length-1)/2,ut=m.append("text").attr("x",b).attr("y",E).style("text-anchor","start").style("font-size",j).style("font-weight",z).style("font-family",R);ut.append("tspan").attr("x",b).attr("dy",st).text(K[it]),ut.attr("y",E+L/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),p(ut,N)}}function f(v,m,b,E,_,L,N,B){const j=m.append("switch"),z=j.append("foreignObject").attr("x",b).attr("y",E).attr("width",_).attr("height",L).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");z.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(v),a(v,j,b,E,_,L,N,B),p(z,N)}function p(v,m){for(const b in m)m.hasOwnProperty(b)&&v.attr(b,m[b])}return function(v){return v.textPlacement==="fo"?f:v.textPlacement==="old"?i:a}}(),Jh={drawRect:hgt,drawText:lL,drawLabel:mRt,drawActor:OHe,drawBox:NHe,drawPopup:_He,anchorElement:PHe,drawActivation:FHe,drawLoop:BHe,drawBackgroundRect:xRt,insertArrowHead:zHe,insertArrowFilledHead:qHe,insertSequenceNumber:HHe,insertArrowCrossHead:GHe,insertDatabaseIcon:RHe,insertComputerIcon:jHe,insertClockIcon:$He,getTextObj:kRt,getNoteRect:VHe,popupMenu:SHe,popdownMenu:AHe,fixLifeLineHeights:yRt,sanitizeUrl:Q6};let fn={};const Pr={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(i=>i.height||0))+(this.loops.length===0?0:this.loops.map(i=>i.height||0).reduce((i,a)=>i+a))+(this.messages.length===0?0:this.messages.map(i=>i.height||0).reduce((i,a)=>i+a))+(this.notes.length===0?0:this.notes.map(i=>i.height||0).reduce((i,a)=>i+a))},clear:function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},addBox:function(i){this.boxes.push(i)},addActor:function(i){this.actors.push(i)},addLoop:function(i){this.loops.push(i)},addMessage:function(i){this.messages.push(i)},addNote:function(i){this.notes.push(i)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],boxes:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,TRt(Le())},updateVal:function(i,a,f,p){i[a]===void 0?i[a]=f:i[a]=p(f,i[a])},updateBounds:function(i,a,f,p){const v=this;let m=0;function b(E){return function(L){m++;const N=v.sequenceItems.length-m+1;v.updateVal(L,"starty",a-N*fn.boxMargin,Math.min),v.updateVal(L,"stopy",p+N*fn.boxMargin,Math.max),v.updateVal(Pr.data,"startx",i-N*fn.boxMargin,Math.min),v.updateVal(Pr.data,"stopx",f+N*fn.boxMargin,Math.max),E!=="activation"&&(v.updateVal(L,"startx",i-N*fn.boxMargin,Math.min),v.updateVal(L,"stopx",f+N*fn.boxMargin,Math.max),v.updateVal(Pr.data,"starty",a-N*fn.boxMargin,Math.min),v.updateVal(Pr.data,"stopy",p+N*fn.boxMargin,Math.max))}}this.sequenceItems.forEach(b()),this.activations.forEach(b("activation"))},insert:function(i,a,f,p){const v=Yr.getMin(i,f),m=Yr.getMax(i,f),b=Yr.getMin(a,p),E=Yr.getMax(a,p);this.updateVal(Pr.data,"startx",v,Math.min),this.updateVal(Pr.data,"starty",b,Math.min),this.updateVal(Pr.data,"stopx",m,Math.max),this.updateVal(Pr.data,"stopy",E,Math.max),this.updateBounds(v,b,m,E)},newActivation:function(i,a,f){const p=f[i.from.actor],v=AK(i.from.actor).length||0,m=p.x+p.width/2+(v-1)*fn.activationWidth/2;this.activations.push({startx:m,starty:this.verticalPos+2,stopx:m+fn.activationWidth,stopy:void 0,actor:i.from.actor,anchored:Jh.anchorElement(a)})},endActivation:function(i){const a=this.activations.map(function(f){return f.actor}).lastIndexOf(i.from.actor);return this.activations.splice(a,1)[0]},createLoop:function(i={message:void 0,wrap:!1,width:void 0},a){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:i.message,wrap:i.wrap,width:i.width,height:0,fill:a}},newLoop:function(i={message:void 0,wrap:!1,width:void 0},a){this.sequenceItems.push(this.createLoop(i,a))},endLoop:function(){return this.sequenceItems.pop()},isLoopOverlap:function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},addSectionToLoop:function(i){const a=this.sequenceItems.pop();a.sections=a.sections||[],a.sectionTitles=a.sectionTitles||[],a.sections.push({y:Pr.getVerticalPos(),height:0}),a.sectionTitles.push(i),this.sequenceItems.push(a)},saveVerticalPos:function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},resetVerticalPos:function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},bumpVerticalPos:function(i){this.verticalPos=this.verticalPos+i,this.data.stopy=Yr.getMax(this.data.stopy,this.verticalPos)},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},WHe=function(i,a){Pr.bumpVerticalPos(fn.boxMargin),a.height=fn.boxMargin,a.starty=Pr.getVerticalPos();const f=fT();f.x=a.startx,f.y=a.starty,f.width=a.width||fn.width,f.class="note";const p=i.append("g"),v=Jh.drawRect(p,f),m=Pdt();m.x=a.startx,m.y=a.starty,m.width=f.width,m.dy="1em",m.text=a.message,m.class="noteText",m.fontFamily=fn.noteFontFamily,m.fontSize=fn.noteFontSize,m.fontWeight=fn.noteFontWeight,m.anchor=fn.noteAlign,m.textMargin=fn.noteMargin,m.valign="center";const b=lL(p,m),E=Math.round(b.map(_=>(_._groups||_)[0][0].getBBox().height).reduce((_,L)=>_+L));v.attr("height",E+2*fn.noteMargin),a.height+=E+2*fn.noteMargin,Pr.bumpVerticalPos(E+2*fn.noteMargin),a.stopy=a.starty+E+2*fn.noteMargin,a.stopx=a.startx+f.width,Pr.insert(a.startx,a.starty,a.stopx,a.stopy),Pr.models.addNote(a)},TT=i=>({fontFamily:i.messageFontFamily,fontSize:i.messageFontSize,fontWeight:i.messageFontWeight}),hL=i=>({fontFamily:i.noteFontFamily,fontSize:i.noteFontSize,fontWeight:i.noteFontWeight}),dgt=i=>({fontFamily:i.actorFontFamily,fontSize:i.actorFontSize,fontWeight:i.actorFontWeight});function KHe(i,a){Pr.bumpVerticalPos(10);const{startx:f,stopx:p,message:v}=a,m=Yr.splitBreaks(v).length,b=$a.calculateTextDimensions(v,TT(fn)),E=b.height/m;a.height+=E,Pr.bumpVerticalPos(E);let _,L=b.height-10;const N=b.width;if(f===p){_=Pr.getVerticalPos()+L,fn.rightAngles||(L+=fn.boxMargin,_=Pr.getVerticalPos()+L),L+=30;const B=Yr.getMax(N/2,fn.width/2);Pr.insert(f-B,Pr.getVerticalPos()-10+L,p+B,Pr.getVerticalPos()+30+L)}else L+=fn.boxMargin,_=Pr.getVerticalPos()+L,Pr.insert(f,_-10,p,_);return Pr.bumpVerticalPos(L),a.height+=L,a.stopy=a.starty+a.height,Pr.insert(a.fromBounds,a.starty,a.toBounds,a.stopy),_}const YHe=function(i,a,f,p){const{startx:v,stopx:m,starty:b,message:E,type:_,sequenceIndex:L,sequenceVisible:N}=a,B=$a.calculateTextDimensions(E,TT(fn)),j=Pdt();j.x=v,j.y=b+10,j.width=m-v,j.class="messageText",j.dy="1em",j.text=E,j.fontFamily=fn.messageFontFamily,j.fontSize=fn.messageFontSize,j.fontWeight=fn.messageFontWeight,j.anchor=fn.messageAlign,j.valign="center",j.textMargin=fn.wrapPadding,j.tspan=!1,lL(i,j);const R=B.width;let z;v===m?fn.rightAngles?z=i.append("path").attr("d",`M  ${v},${f} H ${v+Yr.getMax(fn.width/2,R/2)} V ${f+25} H ${v}`):z=i.append("path").attr("d","M "+v+","+f+" C "+(v+60)+","+(f-10)+" "+(v+60)+","+(f+30)+" "+v+","+(f+20)):(z=i.append("line"),z.attr("x1",v),z.attr("y1",f),z.attr("x2",m),z.attr("y2",f)),_===p.db.LINETYPE.DOTTED||_===p.db.LINETYPE.DOTTED_CROSS||_===p.db.LINETYPE.DOTTED_POINT||_===p.db.LINETYPE.DOTTED_OPEN?(z.style("stroke-dasharray","3, 3"),z.attr("class","messageLine1")):z.attr("class","messageLine0");let K="";fn.arrowMarkerAbsolute&&(K=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,K=K.replace(/\(/g,"\\("),K=K.replace(/\)/g,"\\)")),z.attr("stroke-width",2),z.attr("stroke","none"),z.style("fill","none"),(_===p.db.LINETYPE.SOLID||_===p.db.LINETYPE.DOTTED)&&z.attr("marker-end","url("+K+"#arrowhead)"),(_===p.db.LINETYPE.SOLID_POINT||_===p.db.LINETYPE.DOTTED_POINT)&&z.attr("marker-end","url("+K+"#filled-head)"),(_===p.db.LINETYPE.SOLID_CROSS||_===p.db.LINETYPE.DOTTED_CROSS)&&z.attr("marker-end","url("+K+"#crosshead)"),(N||fn.showSequenceNumbers)&&(z.attr("marker-start","url("+K+"#sequencenumber)"),i.append("text").attr("x",v).attr("y",f+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(L))},XHe=function(i,a,f,p,v,m,b){let E=0,_=0,L,N=0;for(const B of p){const j=a[B],R=j.box;L&&L!=R&&(b||Pr.models.addBox(L),_+=fn.boxMargin+L.margin),R&&R!=L&&(b||(R.x=E+_,R.y=v),_+=R.margin),j.width=j.width||fn.width,j.height=Yr.getMax(j.height||fn.height,fn.height),j.margin=j.margin||fn.actorMargin,N=Yr.getMax(N,j.height),f[j.name]&&(_+=j.width/2),j.x=E+_,j.starty=Pr.getVerticalPos(),Pr.insert(j.x,v,j.x+j.width,j.height),E+=j.width+_,j.box&&(j.box.width=E+R.margin-j.box.x),_=j.margin,L=j.box,Pr.models.addActor(j)}L&&!b&&Pr.models.addBox(L),Pr.bumpVerticalPos(N)},ggt=function(i,a,f,p){if(p){let v=0;Pr.bumpVerticalPos(fn.boxMargin*2);for(const m of f){const b=a[m];b.stopy||(b.stopy=Pr.getVerticalPos());const E=Jh.drawActor(i,b,fn,!0);v=Yr.getMax(v,E)}Pr.bumpVerticalPos(v+fn.boxMargin)}else for(const v of f){const m=a[v];Jh.drawActor(i,m,fn,!1)}},ERt=function(i,a,f,p){let v=0,m=0;for(const b of f){const E=a[b],_=tGe(E),L=Jh.drawPopup(i,E,_,fn,fn.forceMenus,p);L.height>v&&(v=L.height),L.width+E.x>m&&(m=L.width+E.x)}return{maxHeight:v,maxWidth:m}},TRt=function(i){Y1(fn,i),i.fontFamily&&(fn.actorFontFamily=fn.noteFontFamily=fn.messageFontFamily=i.fontFamily),i.fontSize&&(fn.actorFontSize=fn.noteFontSize=fn.messageFontSize=i.fontSize),i.fontWeight&&(fn.actorFontWeight=fn.noteFontWeight=fn.messageFontWeight=i.fontWeight)},AK=function(i){return Pr.activations.filter(function(a){return a.actor===i})},CRt=function(i,a){const f=a[i],p=AK(i),v=p.reduce(function(b,E){return Yr.getMin(b,E.startx)},f.x+f.width/2-1),m=p.reduce(function(b,E){return Yr.getMax(b,E.stopx)},f.x+f.width/2+1);return[v,m]};function y3(i,a,f,p,v){Pr.bumpVerticalPos(f);let m=p;if(a.id&&a.message&&i[a.id]){const b=i[a.id].width,E=TT(fn);a.message=$a.wrapLabel(`[${a.message}]`,b-2*fn.wrapPadding,E),a.width=b,a.wrap=!0;const _=$a.calculateTextDimensions(a.message,E),L=Yr.getMax(_.height,fn.labelBoxHeight);m=p+L,Ut.debug(`${L} - ${a.message}`)}v(a),Pr.bumpVerticalPos(m)}function QHe(i,a,f,p,v,m,b){function E(L,N){L.x<v[i.from].x?(Pr.insert(a.stopx-N,a.starty,a.startx,a.stopy+L.height/2+fn.noteMargin),a.stopx=a.stopx+N):(Pr.insert(a.startx,a.starty,a.stopx+N,a.stopy+L.height/2+fn.noteMargin),a.stopx=a.stopx-N)}function _(L,N){L.x<v[i.to].x?(Pr.insert(a.startx-N,a.starty,a.stopx,a.stopy+L.height/2+fn.noteMargin),a.startx=a.startx+N):(Pr.insert(a.stopx,a.starty,a.startx+N,a.stopy+L.height/2+fn.noteMargin),a.startx=a.startx-N)}if(m[i.to]==p){const L=v[i.to],N=L.type=="actor"?ET/2+3:L.width/2+3;E(L,N),L.starty=f-L.height/2,Pr.bumpVerticalPos(L.height/2)}else if(b[i.from]==p){const L=v[i.from];if(fn.mirrorActors){const N=L.type=="actor"?ET/2:L.width/2;_(L,N)}L.stopy=f-L.height/2,Pr.bumpVerticalPos(L.height/2)}else if(b[i.to]==p){const L=v[i.to];if(fn.mirrorActors){const N=L.type=="actor"?ET/2+3:L.width/2+3;E(L,N)}L.stopy=f-L.height/2,Pr.bumpVerticalPos(L.height/2)}}const ZHe=function(i,a,f,p){const{securityLevel:v,sequence:m}=Le();fn=m;let b;v==="sandbox"&&(b=yr("#i"+a));const E=yr(v==="sandbox"?b.nodes()[0].contentDocument.body:"body"),_=v==="sandbox"?b.nodes()[0].contentDocument:document;Pr.init(),Ut.debug(p.db);const L=v==="sandbox"?E.select(`[id="${a}"]`):yr(`[id="${a}"]`),N=p.db.getActors(),B=p.db.getCreatedActors(),j=p.db.getDestroyedActors(),R=p.db.getBoxes();let z=p.db.getActorKeys();const K=p.db.getMessages(),it=p.db.getDiagramTitle(),st=p.db.hasAtLeastOneBox(),ut=p.db.hasAtLeastOneBoxWithTitle(),bt=JHe(N,K,p);if(fn.height=eGe(N,bt,R),Jh.insertComputerIcon(L),Jh.insertDatabaseIcon(L),Jh.insertClockIcon(L),st&&(Pr.bumpVerticalPos(fn.boxMargin),ut&&Pr.bumpVerticalPos(R[0].textMaxHeight)),fn.hideUnusedParticipants===!0){const Ct=new Set;K.forEach(Z=>{Ct.add(Z.from),Ct.add(Z.to)}),z=z.filter(Z=>Ct.has(Z))}XHe(L,N,B,z,0,K,!1);const mt=iGe(K,N,bt,p);Jh.insertArrowHead(L),Jh.insertArrowCrossHead(L),Jh.insertArrowFilledHead(L),Jh.insertSequenceNumber(L);function yt(Ct,Z){const Tt=Pr.endActivation(Ct);Tt.starty+18>Z&&(Tt.starty=Z-6,Z+=12),Jh.drawActivation(L,Tt,Z,fn,AK(Ct.from.actor).length),Pr.insert(Tt.startx,Z-10,Tt.stopx,Z)}let dt=1,ht=1;const wt=[],X=[];K.forEach(function(Ct,Z){let Tt,Ht,It;switch(Ct.type){case p.db.LINETYPE.NOTE:Pr.resetVerticalPos(),Ht=Ct.noteModel,WHe(L,Ht);break;case p.db.LINETYPE.ACTIVE_START:Pr.newActivation(Ct,L,N);break;case p.db.LINETYPE.ACTIVE_END:yt(Ct,Pr.getVerticalPos());break;case p.db.LINETYPE.LOOP_START:y3(mt,Ct,fn.boxMargin,fn.boxMargin+fn.boxTextMargin,Ft=>Pr.newLoop(Ft));break;case p.db.LINETYPE.LOOP_END:Tt=Pr.endLoop(),Jh.drawLoop(L,Tt,"loop",fn),Pr.bumpVerticalPos(Tt.stopy-Pr.getVerticalPos()),Pr.models.addLoop(Tt);break;case p.db.LINETYPE.RECT_START:y3(mt,Ct,fn.boxMargin,fn.boxMargin,Ft=>Pr.newLoop(void 0,Ft.message));break;case p.db.LINETYPE.RECT_END:Tt=Pr.endLoop(),X.push(Tt),Pr.models.addLoop(Tt),Pr.bumpVerticalPos(Tt.stopy-Pr.getVerticalPos());break;case p.db.LINETYPE.OPT_START:y3(mt,Ct,fn.boxMargin,fn.boxMargin+fn.boxTextMargin,Ft=>Pr.newLoop(Ft));break;case p.db.LINETYPE.OPT_END:Tt=Pr.endLoop(),Jh.drawLoop(L,Tt,"opt",fn),Pr.bumpVerticalPos(Tt.stopy-Pr.getVerticalPos()),Pr.models.addLoop(Tt);break;case p.db.LINETYPE.ALT_START:y3(mt,Ct,fn.boxMargin,fn.boxMargin+fn.boxTextMargin,Ft=>Pr.newLoop(Ft));break;case p.db.LINETYPE.ALT_ELSE:y3(mt,Ct,fn.boxMargin+fn.boxTextMargin,fn.boxMargin,Ft=>Pr.addSectionToLoop(Ft));break;case p.db.LINETYPE.ALT_END:Tt=Pr.endLoop(),Jh.drawLoop(L,Tt,"alt",fn),Pr.bumpVerticalPos(Tt.stopy-Pr.getVerticalPos()),Pr.models.addLoop(Tt);break;case p.db.LINETYPE.PAR_START:case p.db.LINETYPE.PAR_OVER_START:y3(mt,Ct,fn.boxMargin,fn.boxMargin+fn.boxTextMargin,Ft=>Pr.newLoop(Ft)),Pr.saveVerticalPos();break;case p.db.LINETYPE.PAR_AND:y3(mt,Ct,fn.boxMargin+fn.boxTextMargin,fn.boxMargin,Ft=>Pr.addSectionToLoop(Ft));break;case p.db.LINETYPE.PAR_END:Tt=Pr.endLoop(),Jh.drawLoop(L,Tt,"par",fn),Pr.bumpVerticalPos(Tt.stopy-Pr.getVerticalPos()),Pr.models.addLoop(Tt);break;case p.db.LINETYPE.AUTONUMBER:dt=Ct.message.start||dt,ht=Ct.message.step||ht,Ct.message.visible?p.db.enableSequenceNumbers():p.db.disableSequenceNumbers();break;case p.db.LINETYPE.CRITICAL_START:y3(mt,Ct,fn.boxMargin,fn.boxMargin+fn.boxTextMargin,Ft=>Pr.newLoop(Ft));break;case p.db.LINETYPE.CRITICAL_OPTION:y3(mt,Ct,fn.boxMargin+fn.boxTextMargin,fn.boxMargin,Ft=>Pr.addSectionToLoop(Ft));break;case p.db.LINETYPE.CRITICAL_END:Tt=Pr.endLoop(),Jh.drawLoop(L,Tt,"critical",fn),Pr.bumpVerticalPos(Tt.stopy-Pr.getVerticalPos()),Pr.models.addLoop(Tt);break;case p.db.LINETYPE.BREAK_START:y3(mt,Ct,fn.boxMargin,fn.boxMargin+fn.boxTextMargin,Ft=>Pr.newLoop(Ft));break;case p.db.LINETYPE.BREAK_END:Tt=Pr.endLoop(),Jh.drawLoop(L,Tt,"break",fn),Pr.bumpVerticalPos(Tt.stopy-Pr.getVerticalPos()),Pr.models.addLoop(Tt);break;default:try{It=Ct.msgModel,It.starty=Pr.getVerticalPos(),It.sequenceIndex=dt,It.sequenceVisible=p.db.showSequenceNumbers();const Ft=KHe(L,It);QHe(Ct,It,Ft,Z,N,B,j),wt.push({messageModel:It,lineStartY:Ft}),Pr.models.addMessage(It)}catch(Ft){Ut.error("error while drawing message",Ft)}}[p.db.LINETYPE.SOLID_OPEN,p.db.LINETYPE.DOTTED_OPEN,p.db.LINETYPE.SOLID,p.db.LINETYPE.DOTTED,p.db.LINETYPE.SOLID_CROSS,p.db.LINETYPE.DOTTED_CROSS,p.db.LINETYPE.SOLID_POINT,p.db.LINETYPE.DOTTED_POINT].includes(Ct.type)&&(dt=dt+ht)}),Ut.debug("createdActors",B),Ut.debug("destroyedActors",j),ggt(L,N,z,!1),wt.forEach(Ct=>YHe(L,Ct.messageModel,Ct.lineStartY,p)),fn.mirrorActors&&ggt(L,N,z,!0),X.forEach(Ct=>Jh.drawBackgroundRect(L,Ct)),yRt(L,N,z,fn),Pr.models.boxes.forEach(function(Ct){Ct.height=Pr.getVerticalPos()-Ct.y,Pr.insert(Ct.x,Ct.y,Ct.x+Ct.width,Ct.height),Ct.startx=Ct.x,Ct.starty=Ct.y,Ct.stopx=Ct.startx+Ct.width,Ct.stopy=Ct.starty+Ct.height,Ct.stroke="rgb(0,0,0, 0.5)",Jh.drawBox(L,Ct,fn)}),st&&Pr.bumpVerticalPos(fn.boxMargin);const pt=ERt(L,N,z,_),{bounds:U}=Pr.getBounds();let xt=U.stopy-U.starty;xt<pt.maxHeight&&(xt=pt.maxHeight);let nt=xt+2*fn.diagramMarginY;fn.mirrorActors&&(nt=nt-fn.boxMargin+fn.bottomMarginAdj);let Ot=U.stopx-U.startx;Ot<pt.maxWidth&&(Ot=pt.maxWidth);const Nt=Ot+2*fn.diagramMarginX;it&&L.append("text").text(it).attr("x",(U.stopx-U.startx)/2-2*fn.diagramMarginX).attr("y",-25),og(L,nt,Nt,fn.useMaxWidth);const qt=it?40:0;L.attr("viewBox",U.startx-fn.diagramMarginX+" -"+(fn.diagramMarginY+qt)+" "+Nt+" "+(nt+qt)),Ut.debug("models:",Pr.models)};function JHe(i,a,f){const p={};return a.forEach(function(v){if(i[v.to]&&i[v.from]){const m=i[v.to];if(v.placement===f.db.PLACEMENT.LEFTOF&&!m.prevActor||v.placement===f.db.PLACEMENT.RIGHTOF&&!m.nextActor)return;const b=v.placement!==void 0,E=!b,_=b?hL(fn):TT(fn),L=v.wrap?$a.wrapLabel(v.message,fn.width-2*fn.wrapPadding,_):v.message,B=$a.calculateTextDimensions(L,_).width+2*fn.wrapPadding;E&&v.from===m.nextActor?p[v.to]=Yr.getMax(p[v.to]||0,B):E&&v.from===m.prevActor?p[v.from]=Yr.getMax(p[v.from]||0,B):E&&v.from===v.to?(p[v.from]=Yr.getMax(p[v.from]||0,B/2),p[v.to]=Yr.getMax(p[v.to]||0,B/2)):v.placement===f.db.PLACEMENT.RIGHTOF?p[v.from]=Yr.getMax(p[v.from]||0,B):v.placement===f.db.PLACEMENT.LEFTOF?p[m.prevActor]=Yr.getMax(p[m.prevActor]||0,B):v.placement===f.db.PLACEMENT.OVER&&(m.prevActor&&(p[m.prevActor]=Yr.getMax(p[m.prevActor]||0,B/2)),m.nextActor&&(p[v.from]=Yr.getMax(p[v.from]||0,B/2)))}}),Ut.debug("maxMessageWidthPerActor:",p),p}const tGe=function(i){let a=0;const f=dgt(fn);for(const p in i.links){const m=$a.calculateTextDimensions(p,f).width+2*fn.wrapPadding+2*fn.boxMargin;a<m&&(a=m)}return a};function eGe(i,a,f){let p=0;Object.keys(i).forEach(m=>{const b=i[m];b.wrap&&(b.description=$a.wrapLabel(b.description,fn.width-2*fn.wrapPadding,dgt(fn)));const E=$a.calculateTextDimensions(b.description,dgt(fn));b.width=b.wrap?fn.width:Yr.getMax(fn.width,E.width+2*fn.wrapPadding),b.height=b.wrap?Yr.getMax(E.height,fn.height):fn.height,p=Yr.getMax(p,b.height)});for(const m in a){const b=i[m];if(!b)continue;const E=i[b.nextActor];if(!E){const B=a[m]+fn.actorMargin-b.width/2;b.margin=Yr.getMax(B,fn.actorMargin);continue}const L=a[m]+fn.actorMargin-b.width/2-E.width/2;b.margin=Yr.getMax(L,fn.actorMargin)}let v=0;return f.forEach(m=>{const b=TT(fn);let E=m.actorKeys.reduce((N,B)=>N+=i[B].width+(i[B].margin||0),0);E-=2*fn.boxTextMargin,m.wrap&&(m.name=$a.wrapLabel(m.name,E-2*fn.wrapPadding,b));const _=$a.calculateTextDimensions(m.name,b);v=Yr.getMax(_.height,v);const L=Yr.getMax(E,_.width+2*fn.wrapPadding);if(m.margin=fn.boxTextMargin,E<L){const N=(L-E)/2;m.margin+=N}}),f.forEach(m=>m.textMaxHeight=v),Yr.getMax(p,fn.height)}const nGe=function(i,a,f){const p=a[i.from].x,v=a[i.to].x,m=i.wrap&&i.message;let b=$a.calculateTextDimensions(m?$a.wrapLabel(i.message,fn.width,hL(fn)):i.message,hL(fn));const E={width:m?fn.width:Yr.getMax(fn.width,b.width+2*fn.noteMargin),height:0,startx:a[i.from].x,stopx:0,starty:0,stopy:0,message:i.message};return i.placement===f.db.PLACEMENT.RIGHTOF?(E.width=m?Yr.getMax(fn.width,b.width):Yr.getMax(a[i.from].width/2+a[i.to].width/2,b.width+2*fn.noteMargin),E.startx=p+(a[i.from].width+fn.actorMargin)/2):i.placement===f.db.PLACEMENT.LEFTOF?(E.width=m?Yr.getMax(fn.width,b.width+2*fn.noteMargin):Yr.getMax(a[i.from].width/2+a[i.to].width/2,b.width+2*fn.noteMargin),E.startx=p-E.width+(a[i.from].width-fn.actorMargin)/2):i.to===i.from?(b=$a.calculateTextDimensions(m?$a.wrapLabel(i.message,Yr.getMax(fn.width,a[i.from].width),hL(fn)):i.message,hL(fn)),E.width=m?Yr.getMax(fn.width,a[i.from].width):Yr.getMax(a[i.from].width,fn.width,b.width+2*fn.noteMargin),E.startx=p+(a[i.from].width-E.width)/2):(E.width=Math.abs(p+a[i.from].width/2-(v+a[i.to].width/2))+fn.actorMargin,E.startx=p<v?p+a[i.from].width/2-fn.actorMargin/2:v+a[i.to].width/2-fn.actorMargin/2),m&&(E.message=$a.wrapLabel(i.message,E.width-2*fn.wrapPadding,hL(fn))),Ut.debug(`NM:[${E.startx},${E.stopx},${E.starty},${E.stopy}:${E.width},${E.height}=${i.message}]`),E},rGe=function(i,a,f){if(![f.db.LINETYPE.SOLID_OPEN,f.db.LINETYPE.DOTTED_OPEN,f.db.LINETYPE.SOLID,f.db.LINETYPE.DOTTED,f.db.LINETYPE.SOLID_CROSS,f.db.LINETYPE.DOTTED_CROSS,f.db.LINETYPE.SOLID_POINT,f.db.LINETYPE.DOTTED_POINT].includes(i.type))return{};const[p,v]=CRt(i.from,a),[m,b]=CRt(i.to,a),E=p<=m,_=E?v:p;let L=E?m:b;const N=Math.abs(m-b)>2,B=K=>E?-K:K;i.from===i.to?L=_:(i.activate&&!N&&(L+=B(fn.activationWidth/2-1)),[f.db.LINETYPE.SOLID_OPEN,f.db.LINETYPE.DOTTED_OPEN].includes(i.type)||(L+=B(3)));const j=[p,v,m,b],R=Math.abs(_-L);i.wrap&&i.message&&(i.message=$a.wrapLabel(i.message,Yr.getMax(R+2*fn.wrapPadding,fn.width),TT(fn)));const z=$a.calculateTextDimensions(i.message,TT(fn));return{width:Yr.getMax(i.wrap?0:z.width+2*fn.wrapPadding,R+2*fn.wrapPadding,fn.width),height:0,startx:_,stopx:L,starty:0,stopy:0,message:i.message,type:i.type,wrap:i.wrap,fromBounds:Math.min.apply(null,j),toBounds:Math.max.apply(null,j)}},iGe=function(i,a,f,p){const v={},m=[];let b,E,_;return i.forEach(function(L){switch(L.id=$a.random({length:10}),L.type){case p.db.LINETYPE.LOOP_START:case p.db.LINETYPE.ALT_START:case p.db.LINETYPE.OPT_START:case p.db.LINETYPE.PAR_START:case p.db.LINETYPE.PAR_OVER_START:case p.db.LINETYPE.CRITICAL_START:case p.db.LINETYPE.BREAK_START:m.push({id:L.id,msg:L.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case p.db.LINETYPE.ALT_ELSE:case p.db.LINETYPE.PAR_AND:case p.db.LINETYPE.CRITICAL_OPTION:L.message&&(b=m.pop(),v[b.id]=b,v[L.id]=b,m.push(b));break;case p.db.LINETYPE.LOOP_END:case p.db.LINETYPE.ALT_END:case p.db.LINETYPE.OPT_END:case p.db.LINETYPE.PAR_END:case p.db.LINETYPE.CRITICAL_END:case p.db.LINETYPE.BREAK_END:b=m.pop(),v[b.id]=b;break;case p.db.LINETYPE.ACTIVE_START:{const B=a[L.from?L.from.actor:L.to.actor],j=AK(L.from?L.from.actor:L.to.actor).length,R=B.x+B.width/2+(j-1)*fn.activationWidth/2,z={startx:R,stopx:R+fn.activationWidth,actor:L.from.actor,enabled:!0};Pr.activations.push(z)}break;case p.db.LINETYPE.ACTIVE_END:{const B=Pr.activations.map(j=>j.actor).lastIndexOf(L.from.actor);delete Pr.activations.splice(B,1)[0]}break}L.placement!==void 0?(E=nGe(L,a,p),L.noteModel=E,m.forEach(B=>{b=B,b.from=Yr.getMin(b.from,E.startx),b.to=Yr.getMax(b.to,E.startx+E.width),b.width=Yr.getMax(b.width,Math.abs(b.from-b.to))-fn.labelBoxWidth})):(_=rGe(L,a,p),L.msgModel=_,_.startx&&_.stopx&&m.length>0&&m.forEach(B=>{if(b=B,_.startx===_.stopx){const j=a[L.from],R=a[L.to];b.from=Yr.getMin(j.x-_.width/2,j.x-j.width/2,b.from),b.to=Yr.getMax(R.x+_.width/2,R.x+j.width/2,b.to),b.width=Yr.getMax(b.width,Math.abs(b.to-b.from))-fn.labelBoxWidth}else b.from=Yr.getMin(_.startx,b.from),b.to=Yr.getMax(_.stopx,b.to),b.width=Yr.getMax(b.width,_.width)-fn.labelBoxWidth}))}),Pr.activations=[],Ut.debug("Loop type widths:",v),v},sGe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:eHe,db:vRt,renderer:{bounds:Pr,drawActors:ggt,drawActorsPopup:ERt,setConf:TRt,draw:ZHe},styles:CHe,init:({wrap:i})=>{vRt.setWrap(i)}}},Symbol.toStringTag,{value:"Module"}));var pgt=function(){var i=function(_e,$t,re,ie){for(re=re||{},ie=_e.length;ie--;re[_e[ie]]=$t);return re},a=[1,16],f=[1,17],p=[1,18],v=[1,37],m=[1,38],b=[1,24],E=[1,22],_=[1,23],L=[1,29],N=[1,30],B=[1,31],j=[1,32],R=[1,33],z=[1,34],K=[1,25],it=[1,26],st=[1,27],ut=[1,28],bt=[1,42],mt=[1,39],yt=[1,40],dt=[1,41],ht=[1,43],wt=[1,9],X=[1,8,9],pt=[1,54],U=[1,55],xt=[1,56],nt=[1,57],Ot=[1,58],Nt=[1,59],qt=[1,60],Ct=[1,8,9,38],Z=[1,71],Tt=[1,8,9,12,13,21,36,38,41,58,59,60,61,62,63,64,69,71],Ht=[1,8,9,12,13,19,21,36,38,41,45,58,59,60,61,62,63,64,69,71,84,86,87,88,89],It=[13,84,86,87,88,89],Ft=[13,63,64,84,86,87,88,89],ke=[13,58,59,60,61,62,84,86,87,88,89],pn=[1,90],Me=[1,8,9,36,38,41],ve=[1,8,9,21],Ge={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,className:17,classLiteralName:18,GENERICTYPE:19,relationStatement:20,LABEL:21,namespaceStatement:22,classStatement:23,memberStatement:24,annotationStatement:25,clickStatement:26,cssClassStatement:27,noteStatement:28,direction:29,acc_title:30,acc_title_value:31,acc_descr:32,acc_descr_value:33,acc_descr_multiline_value:34,namespaceIdentifier:35,STRUCT_START:36,classStatements:37,STRUCT_STOP:38,NAMESPACE:39,classIdentifier:40,STYLE_SEPARATOR:41,members:42,CLASS:43,ANNOTATION_START:44,ANNOTATION_END:45,MEMBER:46,SEPARATOR:47,relation:48,NOTE_FOR:49,noteText:50,NOTE:51,direction_tb:52,direction_bt:53,direction_rl:54,direction_lr:55,relationType:56,lineType:57,AGGREGATION:58,EXTENSION:59,COMPOSITION:60,DEPENDENCY:61,LOLLIPOP:62,LINE:63,DOTTED_LINE:64,CALLBACK:65,LINK:66,LINK_TARGET:67,CLICK:68,CALLBACK_NAME:69,CALLBACK_ARGS:70,HREF:71,CSSCLASS:72,commentToken:73,textToken:74,graphCodeTokens:75,textNoTagsToken:76,TAGSTART:77,TAGEND:78,"==":79,"--":80,PCT:81,DEFAULT:82,SPACE:83,MINUS:84,keywords:85,UNICODE_TEXT:86,NUM:87,ALPHA:88,BQUOTE_STR:89,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",19:"GENERICTYPE",21:"LABEL",30:"acc_title",31:"acc_title_value",32:"acc_descr",33:"acc_descr_value",34:"acc_descr_multiline_value",36:"STRUCT_START",38:"STRUCT_STOP",39:"NAMESPACE",41:"STYLE_SEPARATOR",43:"CLASS",44:"ANNOTATION_START",45:"ANNOTATION_END",46:"MEMBER",47:"SEPARATOR",49:"NOTE_FOR",51:"NOTE",52:"direction_tb",53:"direction_bt",54:"direction_rl",55:"direction_lr",58:"AGGREGATION",59:"EXTENSION",60:"COMPOSITION",61:"DEPENDENCY",62:"LOLLIPOP",63:"LINE",64:"DOTTED_LINE",65:"CALLBACK",66:"LINK",67:"LINK_TARGET",68:"CLICK",69:"CALLBACK_NAME",70:"CALLBACK_ARGS",71:"HREF",72:"CSSCLASS",75:"graphCodeTokens",77:"TAGSTART",78:"TAGEND",79:"==",80:"--",81:"PCT",82:"DEFAULT",83:"SPACE",84:"MINUS",85:"keywords",86:"UNICODE_TEXT",87:"NUM",88:"ALPHA",89:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,2],[17,1],[17,1],[17,2],[17,2],[17,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[22,4],[22,5],[35,2],[37,1],[37,2],[37,3],[23,1],[23,3],[23,4],[23,6],[40,2],[40,3],[25,4],[42,1],[42,2],[24,1],[24,2],[24,1],[24,1],[20,3],[20,4],[20,4],[20,5],[28,3],[28,2],[29,1],[29,1],[29,1],[29,1],[48,3],[48,2],[48,2],[48,1],[56,1],[56,1],[56,1],[56,1],[56,1],[57,1],[57,1],[26,3],[26,4],[26,3],[26,4],[26,4],[26,5],[26,3],[26,4],[26,4],[26,5],[26,4],[26,5],[26,5],[26,6],[27,3],[73,1],[73,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[76,1],[76,1],[76,1],[76,1],[16,1],[16,1],[16,1],[16,1],[18,1],[50,1]],performAction:function($t,re,ie,Oe,oe,Ne,me){var cn=Ne.length-1;switch(oe){case 8:this.$=Ne[cn-1];break;case 9:case 11:case 12:this.$=Ne[cn];break;case 10:case 13:this.$=Ne[cn-1]+Ne[cn];break;case 14:case 15:this.$=Ne[cn-1]+"~"+Ne[cn]+"~";break;case 16:Oe.addRelation(Ne[cn]);break;case 17:Ne[cn-1].title=Oe.cleanupLabel(Ne[cn]),Oe.addRelation(Ne[cn-1]);break;case 26:this.$=Ne[cn].trim(),Oe.setAccTitle(this.$);break;case 27:case 28:this.$=Ne[cn].trim(),Oe.setAccDescription(this.$);break;case 29:Oe.addClassesToNamespace(Ne[cn-3],Ne[cn-1]);break;case 30:Oe.addClassesToNamespace(Ne[cn-4],Ne[cn-1]);break;case 31:this.$=Ne[cn],Oe.addNamespace(Ne[cn]);break;case 32:this.$=[Ne[cn]];break;case 33:this.$=[Ne[cn-1]];break;case 34:Ne[cn].unshift(Ne[cn-2]),this.$=Ne[cn];break;case 36:Oe.setCssClass(Ne[cn-2],Ne[cn]);break;case 37:Oe.addMembers(Ne[cn-3],Ne[cn-1]);break;case 38:Oe.setCssClass(Ne[cn-5],Ne[cn-3]),Oe.addMembers(Ne[cn-5],Ne[cn-1]);break;case 39:this.$=Ne[cn],Oe.addClass(Ne[cn]);break;case 40:this.$=Ne[cn-1],Oe.addClass(Ne[cn-1]),Oe.setClassLabel(Ne[cn-1],Ne[cn]);break;case 41:Oe.addAnnotation(Ne[cn],Ne[cn-2]);break;case 42:this.$=[Ne[cn]];break;case 43:Ne[cn].push(Ne[cn-1]),this.$=Ne[cn];break;case 44:break;case 45:Oe.addMember(Ne[cn-1],Oe.cleanupLabel(Ne[cn]));break;case 46:break;case 47:break;case 48:this.$={id1:Ne[cn-2],id2:Ne[cn],relation:Ne[cn-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:Ne[cn-3],id2:Ne[cn],relation:Ne[cn-1],relationTitle1:Ne[cn-2],relationTitle2:"none"};break;case 50:this.$={id1:Ne[cn-3],id2:Ne[cn],relation:Ne[cn-2],relationTitle1:"none",relationTitle2:Ne[cn-1]};break;case 51:this.$={id1:Ne[cn-4],id2:Ne[cn],relation:Ne[cn-2],relationTitle1:Ne[cn-3],relationTitle2:Ne[cn-1]};break;case 52:Oe.addNote(Ne[cn],Ne[cn-1]);break;case 53:Oe.addNote(Ne[cn]);break;case 54:Oe.setDirection("TB");break;case 55:Oe.setDirection("BT");break;case 56:Oe.setDirection("RL");break;case 57:Oe.setDirection("LR");break;case 58:this.$={type1:Ne[cn-2],type2:Ne[cn],lineType:Ne[cn-1]};break;case 59:this.$={type1:"none",type2:Ne[cn],lineType:Ne[cn-1]};break;case 60:this.$={type1:Ne[cn-1],type2:"none",lineType:Ne[cn]};break;case 61:this.$={type1:"none",type2:"none",lineType:Ne[cn]};break;case 62:this.$=Oe.relationType.AGGREGATION;break;case 63:this.$=Oe.relationType.EXTENSION;break;case 64:this.$=Oe.relationType.COMPOSITION;break;case 65:this.$=Oe.relationType.DEPENDENCY;break;case 66:this.$=Oe.relationType.LOLLIPOP;break;case 67:this.$=Oe.lineType.LINE;break;case 68:this.$=Oe.lineType.DOTTED_LINE;break;case 69:case 75:this.$=Ne[cn-2],Oe.setClickEvent(Ne[cn-1],Ne[cn]);break;case 70:case 76:this.$=Ne[cn-3],Oe.setClickEvent(Ne[cn-2],Ne[cn-1]),Oe.setTooltip(Ne[cn-2],Ne[cn]);break;case 71:this.$=Ne[cn-2],Oe.setLink(Ne[cn-1],Ne[cn]);break;case 72:this.$=Ne[cn-3],Oe.setLink(Ne[cn-2],Ne[cn-1],Ne[cn]);break;case 73:this.$=Ne[cn-3],Oe.setLink(Ne[cn-2],Ne[cn-1]),Oe.setTooltip(Ne[cn-2],Ne[cn]);break;case 74:this.$=Ne[cn-4],Oe.setLink(Ne[cn-3],Ne[cn-2],Ne[cn]),Oe.setTooltip(Ne[cn-3],Ne[cn-1]);break;case 77:this.$=Ne[cn-3],Oe.setClickEvent(Ne[cn-2],Ne[cn-1],Ne[cn]);break;case 78:this.$=Ne[cn-4],Oe.setClickEvent(Ne[cn-3],Ne[cn-2],Ne[cn-1]),Oe.setTooltip(Ne[cn-3],Ne[cn]);break;case 79:this.$=Ne[cn-3],Oe.setLink(Ne[cn-2],Ne[cn]);break;case 80:this.$=Ne[cn-4],Oe.setLink(Ne[cn-3],Ne[cn-1],Ne[cn]);break;case 81:this.$=Ne[cn-4],Oe.setLink(Ne[cn-3],Ne[cn-1]),Oe.setTooltip(Ne[cn-3],Ne[cn]);break;case 82:this.$=Ne[cn-5],Oe.setLink(Ne[cn-4],Ne[cn-2],Ne[cn]),Oe.setTooltip(Ne[cn-4],Ne[cn-1]);break;case 83:Oe.setCssClass(Ne[cn-1],Ne[cn]);break}},table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:35,17:19,18:36,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:a,32:f,34:p,35:20,39:v,40:21,43:m,44:b,46:E,47:_,49:L,51:N,52:B,53:j,54:R,55:z,65:K,66:it,68:st,72:ut,84:bt,86:mt,87:yt,88:dt,89:ht},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},i(wt,[2,5],{8:[1,44]}),{8:[1,45]},i(X,[2,16],{21:[1,46]}),i(X,[2,18]),i(X,[2,19]),i(X,[2,20]),i(X,[2,21]),i(X,[2,22]),i(X,[2,23]),i(X,[2,24]),i(X,[2,25]),{31:[1,47]},{33:[1,48]},i(X,[2,28]),i(X,[2,44],{48:49,56:52,57:53,13:[1,50],21:[1,51],58:pt,59:U,60:xt,61:nt,62:Ot,63:Nt,64:qt}),{36:[1,61]},i(Ct,[2,35],{36:[1,63],41:[1,62]}),i(X,[2,46]),i(X,[2,47]),{16:64,84:bt,86:mt,87:yt,88:dt},{16:35,17:65,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},{16:35,17:66,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},{16:35,17:67,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},{13:[1,68]},{16:35,17:69,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},{13:Z,50:70},i(X,[2,54]),i(X,[2,55]),i(X,[2,56]),i(X,[2,57]),i(Tt,[2,11],{16:35,18:36,17:72,19:[1,73],84:bt,86:mt,87:yt,88:dt,89:ht}),i(Tt,[2,12],{19:[1,74]}),{15:75,16:76,84:bt,86:mt,87:yt,88:dt},{16:35,17:77,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},i(Ht,[2,97]),i(Ht,[2,98]),i(Ht,[2,99]),i(Ht,[2,100]),i([1,8,9,12,13,19,21,36,38,41,58,59,60,61,62,63,64,69,71],[2,101]),i(wt,[2,6],{10:5,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,17:19,35:20,40:21,16:35,18:36,5:78,30:a,32:f,34:p,39:v,43:m,44:b,46:E,47:_,49:L,51:N,52:B,53:j,54:R,55:z,65:K,66:it,68:st,72:ut,84:bt,86:mt,87:yt,88:dt,89:ht}),{5:79,10:5,16:35,17:19,18:36,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:a,32:f,34:p,35:20,39:v,40:21,43:m,44:b,46:E,47:_,49:L,51:N,52:B,53:j,54:R,55:z,65:K,66:it,68:st,72:ut,84:bt,86:mt,87:yt,88:dt,89:ht},i(X,[2,17]),i(X,[2,26]),i(X,[2,27]),{13:[1,81],16:35,17:80,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},{48:82,56:52,57:53,58:pt,59:U,60:xt,61:nt,62:Ot,63:Nt,64:qt},i(X,[2,45]),{57:83,63:Nt,64:qt},i(It,[2,61],{56:84,58:pt,59:U,60:xt,61:nt,62:Ot}),i(Ft,[2,62]),i(Ft,[2,63]),i(Ft,[2,64]),i(Ft,[2,65]),i(Ft,[2,66]),i(ke,[2,67]),i(ke,[2,68]),{8:[1,86],23:87,37:85,40:21,43:m},{16:88,84:bt,86:mt,87:yt,88:dt},{42:89,46:pn},{45:[1,91]},{13:[1,92]},{13:[1,93]},{69:[1,94],71:[1,95]},{16:96,84:bt,86:mt,87:yt,88:dt},{13:Z,50:97},i(X,[2,53]),i(X,[2,102]),i(Tt,[2,13]),i(Tt,[2,14]),i(Tt,[2,15]),{36:[2,31]},{15:98,16:76,36:[2,9],84:bt,86:mt,87:yt,88:dt},i(Me,[2,39],{11:99,12:[1,100]}),i(wt,[2,7]),{9:[1,101]},i(ve,[2,48]),{16:35,17:102,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},{13:[1,104],16:35,17:103,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},i(It,[2,60],{56:105,58:pt,59:U,60:xt,61:nt,62:Ot}),i(It,[2,59]),{38:[1,106]},{23:87,37:107,40:21,43:m},{8:[1,108],38:[2,32]},i(Ct,[2,36],{36:[1,109]}),{38:[1,110]},{38:[2,42],42:111,46:pn},{16:35,17:112,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},i(X,[2,69],{13:[1,113]}),i(X,[2,71],{13:[1,115],67:[1,114]}),i(X,[2,75],{13:[1,116],70:[1,117]}),{13:[1,118]},i(X,[2,83]),i(X,[2,52]),{36:[2,10]},i(Me,[2,40]),{13:[1,119]},{1:[2,4]},i(ve,[2,50]),i(ve,[2,49]),{16:35,17:120,18:36,84:bt,86:mt,87:yt,88:dt,89:ht},i(It,[2,58]),i(X,[2,29]),{38:[1,121]},{23:87,37:122,38:[2,33],40:21,43:m},{42:123,46:pn},i(Ct,[2,37]),{38:[2,43]},i(X,[2,41]),i(X,[2,70]),i(X,[2,72]),i(X,[2,73],{67:[1,124]}),i(X,[2,76]),i(X,[2,77],{13:[1,125]}),i(X,[2,79],{13:[1,127],67:[1,126]}),{14:[1,128]},i(ve,[2,51]),i(X,[2,30]),{38:[2,34]},{38:[1,129]},i(X,[2,74]),i(X,[2,78]),i(X,[2,80]),i(X,[2,81],{67:[1,130]}),i(Me,[2,8]),i(Ct,[2,38]),i(X,[2,82])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],75:[2,31],98:[2,10],101:[2,4],111:[2,43],122:[2,34]},parseError:function($t,re){if(re.recoverable)this.trace($t);else{var ie=new Error($t);throw ie.hash=re,ie}},parse:function($t){var re=this,ie=[0],Oe=[],oe=[null],Ne=[],me=this.table,cn="",li=0,ya=0,da=2,Oo=1,ds=Ne.slice.call(arguments,1),Dr=Object.create(this.lexer),nr={yy:{}};for(var di in this.yy)Object.prototype.hasOwnProperty.call(this.yy,di)&&(nr.yy[di]=this.yy[di]);Dr.setInput($t,nr.yy),nr.yy.lexer=Dr,nr.yy.parser=this,typeof Dr.yylloc>"u"&&(Dr.yylloc={});var Ee=Dr.yylloc;Ne.push(Ee);var Yn=Dr.options&&Dr.options.ranges;typeof nr.yy.parseError=="function"?this.parseError=nr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function He(){var Lu;return Lu=Oe.pop()||Dr.lex()||Oo,typeof Lu!="number"&&(Lu instanceof Array&&(Oe=Lu,Lu=Oe.pop()),Lu=re.symbols_[Lu]||Lu),Lu}for(var Ti,gn,ks,qa,La={},Gs,No,vs,nu;;){if(gn=ie[ie.length-1],this.defaultActions[gn]?ks=this.defaultActions[gn]:((Ti===null||typeof Ti>"u")&&(Ti=He()),ks=me[gn]&&me[gn][Ti]),typeof ks>"u"||!ks.length||!ks[0]){var $s="";nu=[];for(Gs in me[gn])this.terminals_[Gs]&&Gs>da&&nu.push("'"+this.terminals_[Gs]+"'");Dr.showPosition?$s="Parse error on line "+(li+1)+`:
`+Dr.showPosition()+`
Expecting `+nu.join(", ")+", got '"+(this.terminals_[Ti]||Ti)+"'":$s="Parse error on line "+(li+1)+": Unexpected "+(Ti==Oo?"end of input":"'"+(this.terminals_[Ti]||Ti)+"'"),this.parseError($s,{text:Dr.match,token:this.terminals_[Ti]||Ti,line:Dr.yylineno,loc:Ee,expected:nu})}if(ks[0]instanceof Array&&ks.length>1)throw new Error("Parse Error: multiple actions possible at state: "+gn+", token: "+Ti);switch(ks[0]){case 1:ie.push(Ti),oe.push(Dr.yytext),Ne.push(Dr.yylloc),ie.push(ks[1]),Ti=null,ya=Dr.yyleng,cn=Dr.yytext,li=Dr.yylineno,Ee=Dr.yylloc;break;case 2:if(No=this.productions_[ks[1]][1],La.$=oe[oe.length-No],La._$={first_line:Ne[Ne.length-(No||1)].first_line,last_line:Ne[Ne.length-1].last_line,first_column:Ne[Ne.length-(No||1)].first_column,last_column:Ne[Ne.length-1].last_column},Yn&&(La._$.range=[Ne[Ne.length-(No||1)].range[0],Ne[Ne.length-1].range[1]]),qa=this.performAction.apply(La,[cn,ya,li,nr.yy,ks[1],oe,Ne].concat(ds)),typeof qa<"u")return qa;No&&(ie=ie.slice(0,-1*No*2),oe=oe.slice(0,-1*No),Ne=Ne.slice(0,-1*No)),ie.push(this.productions_[ks[1]][0]),oe.push(La.$),Ne.push(La._$),vs=me[ie[ie.length-2]][ie[ie.length-1]],ie.push(vs);break;case 3:return!0}}return!0}},Ke=function(){var _e={EOF:1,parseError:function(re,ie){if(this.yy.parser)this.yy.parser.parseError(re,ie);else throw new Error(re)},setInput:function($t,re){return this.yy=re||this.yy||{},this._input=$t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var $t=this._input[0];this.yytext+=$t,this.yyleng++,this.offset++,this.match+=$t,this.matched+=$t;var re=$t.match(/(?:\r\n?|\n).*/g);return re?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$t},unput:function($t){var re=$t.length,ie=$t.split(/(?:\r\n?|\n)/g);this._input=$t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-re),this.offset-=re;var Oe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ie.length-1&&(this.yylineno-=ie.length-1);var oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ie?(ie.length===Oe.length?this.yylloc.first_column:0)+Oe[Oe.length-ie.length].length-ie[0].length:this.yylloc.first_column-re},this.options.ranges&&(this.yylloc.range=[oe[0],oe[0]+this.yyleng-re]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function($t){this.unput(this.match.slice($t))},pastInput:function(){var $t=this.matched.substr(0,this.matched.length-this.match.length);return($t.length>20?"...":"")+$t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var $t=this.match;return $t.length<20&&($t+=this._input.substr(0,20-$t.length)),($t.substr(0,20)+($t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var $t=this.pastInput(),re=new Array($t.length+1).join("-");return $t+this.upcomingInput()+`
`+re+"^"},test_match:function($t,re){var ie,Oe,oe;if(this.options.backtrack_lexer&&(oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(oe.yylloc.range=this.yylloc.range.slice(0))),Oe=$t[0].match(/(?:\r\n?|\n).*/g),Oe&&(this.yylineno+=Oe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Oe?Oe[Oe.length-1].length-Oe[Oe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$t[0].length},this.yytext+=$t[0],this.match+=$t[0],this.matches=$t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($t[0].length),this.matched+=$t[0],ie=this.performAction.call(this,this.yy,this,re,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ie)return ie;if(this._backtrack){for(var Ne in oe)this[Ne]=oe[Ne];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $t,re,ie,Oe;this._more||(this.yytext="",this.match="");for(var oe=this._currentRules(),Ne=0;Ne<oe.length;Ne++)if(ie=this._input.match(this.rules[oe[Ne]]),ie&&(!re||ie[0].length>re[0].length)){if(re=ie,Oe=Ne,this.options.backtrack_lexer){if($t=this.test_match(ie,oe[Ne]),$t!==!1)return $t;if(this._backtrack){re=!1;continue}else return!1}else if(!this.options.flex)break}return re?($t=this.test_match(re,oe[Oe]),$t!==!1?$t:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var re=this.next();return re||this.lex()},begin:function(re){this.conditionStack.push(re)},popState:function(){var re=this.conditionStack.length-1;return re>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(re){return re=this.conditionStack.length-1-Math.abs(re||0),re>=0?this.conditionStack[re]:"INITIAL"},pushState:function(re){this.begin(re)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(re,ie,Oe,oe){switch(Oe){case 0:return 52;case 1:return 53;case 2:return 54;case 3:return 55;case 4:break;case 5:break;case 6:return this.begin("acc_title"),30;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),32;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 69;case 22:this.popState();break;case 23:return 70;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return this.begin("namespace"),39;case 28:return this.popState(),8;case 29:break;case 30:return this.begin("namespace-body"),36;case 31:return this.popState(),38;case 32:return"EOF_IN_STRUCT";case 33:return 8;case 34:break;case 35:return"EDGE_STATE";case 36:return this.begin("class"),43;case 37:return this.popState(),8;case 38:break;case 39:return this.popState(),this.popState(),38;case 40:return this.begin("class-body"),36;case 41:return this.popState(),38;case 42:return"EOF_IN_STRUCT";case 43:return"EDGE_STATE";case 44:return"OPEN_IN_STRUCT";case 45:break;case 46:return"MEMBER";case 47:return 72;case 48:return 65;case 49:return 66;case 50:return 68;case 51:return 49;case 52:return 51;case 53:return 44;case 54:return 45;case 55:return 71;case 56:this.popState();break;case 57:return"GENERICTYPE";case 58:this.begin("generic");break;case 59:this.popState();break;case 60:return"BQUOTE_STR";case 61:this.begin("bqstring");break;case 62:return 67;case 63:return 67;case 64:return 67;case 65:return 67;case 66:return 59;case 67:return 59;case 68:return 61;case 69:return 61;case 70:return 60;case 71:return 58;case 72:return 62;case 73:return 63;case 74:return 64;case 75:return 21;case 76:return 41;case 77:return 84;case 78:return"DOT";case 79:return"PLUS";case 80:return 81;case 81:return"EQUALS";case 82:return"EQUALS";case 83:return 88;case 84:return 12;case 85:return 14;case 86:return"PUNCTUATION";case 87:return 87;case 88:return 86;case 89:return 83;case 90:return 9}},rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,31,32,33,34,35,36,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},namespace:{rules:[26,27,28,29,30,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},"class-body":{rules:[26,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},class:{rules:[26,37,38,39,40,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},acc_descr:{rules:[9,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},acc_title:{rules:[7,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},callback_args:{rules:[22,23,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},callback_name:{rules:[19,20,21,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},href:{rules:[26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},struct:{rules:[26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},generic:{rules:[26,47,48,49,50,51,52,53,54,55,56,57,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},bqstring:{rules:[26,47,48,49,50,51,52,53,54,55,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},string:{rules:[24,25,26,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,36,47,48,49,50,51,52,53,54,55,58,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],inclusive:!0}}};return _e}();Ge.lexer=Ke;function we(){this.yy={}}return we.prototype=Ge,Ge.Parser=we,new we}();pgt.parser=pgt;const _Rt=pgt,SRt=["#","+","~","-",""];class ARt{constructor(a,f){this.memberType=f,this.visibility="",this.classifier="";const p=Dd(a,Le());this.parseMember(p)}getDisplayDetails(){let a=this.visibility+zN(this.id);this.memberType==="method"&&(a+=`(${zN(this.parameters.trim())})`,this.returnType&&(a+=" : "+zN(this.returnType))),a=a.trim();const f=this.parseClassifier();return{displayText:a,cssStyle:f}}parseMember(a){let f="";if(this.memberType==="method"){const p=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/,v=a.match(p);if(v){const m=v[1]?v[1].trim():"";if(SRt.includes(m)&&(this.visibility=m),this.id=v[2].trim(),this.parameters=v[3]?v[3].trim():"",f=v[4]?v[4].trim():"",this.returnType=v[5]?v[5].trim():"",f===""){const b=this.returnType.substring(this.returnType.length-1);b.match(/[$*]/)&&(f=b,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const p=a.length,v=a.substring(0,1),m=a.substring(p-1);SRt.includes(v)&&(this.visibility=v),m.match(/[*?]/)&&(f=m),this.id=a.substring(this.visibility===""?0:1,f===""?p:p-1)}this.classifier=f}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}const LK="classId-";let bgt=[],Ql={},MK=[],LRt=0,dk={},vgt=0,FP=[];const CT=i=>Yr.sanitizeText(i,Le()),fL=function(i){const a=Yr.sanitizeText(i,Le());let f="",p=a;if(a.indexOf("~")>0){const v=a.split("~");p=CT(v[0]),f=CT(v[1])}return{className:p,type:f}},aGe=function(i,a){const f=Yr.sanitizeText(i,Le());a&&(a=CT(a));const{className:p}=fL(f);Ql[p].label=a},IK=function(i){const a=Yr.sanitizeText(i,Le()),{className:f,type:p}=fL(a);if(Object.hasOwn(Ql,f))return;const v=Yr.sanitizeText(f,Le());Ql[v]={id:v,type:p,label:v,cssClasses:[],methods:[],members:[],annotations:[],domId:LK+v+"-"+LRt},LRt++},MRt=function(i){const a=Yr.sanitizeText(i,Le());if(a in Ql)return Ql[a].domId;throw new Error("Class not found: "+a)},oGe=function(){bgt=[],Ql={},MK=[],FP=[],FP.push(DRt),dk={},vgt=0,ap()},cGe=function(i){return Ql[i]},uGe=function(){return Ql},lGe=function(){return bgt},hGe=function(){return MK},fGe=function(i){Ut.debug("Adding relation: "+JSON.stringify(i)),IK(i.id1),IK(i.id2),i.id1=fL(i.id1).className,i.id2=fL(i.id2).className,i.relationTitle1=Yr.sanitizeText(i.relationTitle1.trim(),Le()),i.relationTitle2=Yr.sanitizeText(i.relationTitle2.trim(),Le()),bgt.push(i)},dGe=function(i,a){const f=fL(i).className;Ql[f].annotations.push(a)},IRt=function(i,a){IK(i);const f=fL(i).className,p=Ql[f];if(typeof a=="string"){const v=a.trim();v.startsWith("<<")&&v.endsWith(">>")?p.annotations.push(CT(v.substring(2,v.length-2))):v.indexOf(")")>0?p.methods.push(new ARt(v,"method")):v&&p.members.push(new ARt(v,"attribute"))}},gGe=function(i,a){Array.isArray(a)&&(a.reverse(),a.forEach(f=>IRt(i,f)))},pGe=function(i,a){const f={id:`note${MK.length}`,class:a,text:i};MK.push(f)},bGe=function(i){return i.startsWith(":")&&(i=i.substring(1)),CT(i.trim())},wgt=function(i,a){i.split(",").forEach(function(f){let p=f;f[0].match(/\d/)&&(p=LK+p),Ql[p]!==void 0&&Ql[p].cssClasses.push(a)})},vGe=function(i,a){i.split(",").forEach(function(f){a!==void 0&&(Ql[f].tooltip=CT(a))})},wGe=function(i,a){return a?dk[a].classes[i].tooltip:Ql[i].tooltip},mGe=function(i,a,f){const p=Le();i.split(",").forEach(function(v){let m=v;v[0].match(/\d/)&&(m=LK+m),Ql[m]!==void 0&&(Ql[m].link=$a.formatUrl(a,p),p.securityLevel==="sandbox"?Ql[m].linkTarget="_top":typeof f=="string"?Ql[m].linkTarget=CT(f):Ql[m].linkTarget="_blank")}),wgt(i,"clickable")},yGe=function(i,a,f){i.split(",").forEach(function(p){xGe(p,a,f),Ql[p].haveCallback=!0}),wgt(i,"clickable")},xGe=function(i,a,f){const p=Yr.sanitizeText(i,Le());if(Le().securityLevel!=="loose"||a===void 0)return;const m=p;if(Ql[m]!==void 0){const b=MRt(m);let E=[];if(typeof f=="string"){E=f.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let _=0;_<E.length;_++){let L=E[_].trim();L.charAt(0)==='"'&&L.charAt(L.length-1)==='"'&&(L=L.substr(1,L.length-2)),E[_]=L}}E.length===0&&E.push(b),FP.push(function(){const _=document.querySelector(`[id="${b}"]`);_!==null&&_.addEventListener("click",function(){$a.runFunc(a,...E)},!1)})}},kGe=function(i){FP.forEach(function(a){a(i)})},EGe={LINE:0,DOTTED_LINE:1},TGe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},DRt=function(i){let a=yr(".mermaidTooltip");(a._groups||a)[0][0]===null&&(a=yr("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),yr(i).select("svg").selectAll("g.node").on("mouseover",function(){const v=yr(this);if(v.attr("title")===null)return;const b=this.getBoundingClientRect();a.transition().duration(200).style("opacity",".9"),a.text(v.attr("title")).style("left",window.scrollX+b.left+(b.right-b.left)/2+"px").style("top",window.scrollY+b.top-14+document.body.scrollTop+"px"),a.html(a.html().replace(/&lt;br\/&gt;/g,"<br/>")),v.classed("hover",!0)}).on("mouseout",function(){a.transition().duration(500).style("opacity",0),yr(this).classed("hover",!1)})};FP.push(DRt);let ORt="TB";const DK={setAccTitle:cg,getAccTitle:op,getAccDescription:up,setAccDescription:cp,getConfig:()=>Le().class,addClass:IK,bindFunctions:kGe,clear:oGe,getClass:cGe,getClasses:uGe,getNotes:hGe,addAnnotation:dGe,addNote:pGe,getRelations:lGe,addRelation:fGe,getDirection:()=>ORt,setDirection:i=>{ORt=i},addMember:IRt,addMembers:gGe,cleanupLabel:bGe,lineType:EGe,relationType:TGe,setClickEvent:yGe,setCssClass:wgt,setLink:mGe,getTooltip:wGe,setTooltip:vGe,lookUpDomId:MRt,setDiagramTitle:Z2,getDiagramTitle:Db,setClassLabel:aGe,addNamespace:function(i){dk[i]===void 0&&(dk[i]={id:i,classes:{},children:{},domId:LK+i+"-"+vgt},vgt++)},addClassesToNamespace:function(i,a){dk[i]!==void 0&&a.map(f=>{Ql[f].parent=i,dk[i].classes[f]=Ql[f]})},getNamespace:function(i){return dk[i]},getNamespaces:function(){return dk}},NRt=i=>`g.classGroup text {
  fill: ${i.nodeBorder};
  fill: ${i.classText};
  stroke: none;
  font-family: ${i.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${i.classText};
}
.edgeLabel .label rect {
  fill: ${i.mainBkg};
}
.label text {
  fill: ${i.classText};
}
.edgeLabel .label span {
  background: ${i.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${i.mainBkg};
    stroke: ${i.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${i.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${i.mainBkg};
  stroke: ${i.nodeBorder};
}

g.classGroup line {
  stroke: ${i.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${i.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${i.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${i.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${i.lineColor} !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${i.lineColor} !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${i.lineColor} !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${i.lineColor} !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${i.mainBkg} !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${i.mainBkg} !important;
  stroke: ${i.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${i.textColor};
}
`;let PRt=0;const CGe=function(i,a,f,p,v){const m=function(ut){switch(ut){case v.db.relationType.AGGREGATION:return"aggregation";case v.db.relationType.EXTENSION:return"extension";case v.db.relationType.COMPOSITION:return"composition";case v.db.relationType.DEPENDENCY:return"dependency";case v.db.relationType.LOLLIPOP:return"lollipop"}};a.points=a.points.filter(ut=>!Number.isNaN(ut.y));const b=a.points,E=Z7().x(function(ut){return ut.x}).y(function(ut){return ut.y}).curve(FN),_=i.append("path").attr("d",E(b)).attr("id","edge"+PRt).attr("class","relation");let L="";p.arrowMarkerAbsolute&&(L=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,L=L.replace(/\(/g,"\\("),L=L.replace(/\)/g,"\\)")),f.relation.lineType==1&&_.attr("class","relation dashed-line"),f.relation.lineType==10&&_.attr("class","relation dotted-line"),f.relation.type1!=="none"&&_.attr("marker-start","url("+L+"#"+m(f.relation.type1)+"Start)"),f.relation.type2!=="none"&&_.attr("marker-end","url("+L+"#"+m(f.relation.type2)+"End)");let N,B;const j=a.points.length;let R=$a.calcLabelPosition(a.points);N=R.x,B=R.y;let z,K,it,st;if(j%2!==0&&j>1){let ut=$a.calcCardinalityPosition(f.relation.type1!=="none",a.points,a.points[0]),bt=$a.calcCardinalityPosition(f.relation.type2!=="none",a.points,a.points[j-1]);Ut.debug("cardinality_1_point "+JSON.stringify(ut)),Ut.debug("cardinality_2_point "+JSON.stringify(bt)),z=ut.x,K=ut.y,it=bt.x,st=bt.y}if(f.title!==void 0){const ut=i.append("g").attr("class","classLabel"),bt=ut.append("text").attr("class","label").attr("x",N).attr("y",B).attr("fill","red").attr("text-anchor","middle").text(f.title);window.label=bt;const mt=bt.node().getBBox();ut.insert("rect",":first-child").attr("class","box").attr("x",mt.x-p.padding/2).attr("y",mt.y-p.padding/2).attr("width",mt.width+p.padding).attr("height",mt.height+p.padding)}Ut.info("Rendering relation "+JSON.stringify(f)),f.relationTitle1!==void 0&&f.relationTitle1!=="none"&&i.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",z).attr("y",K).attr("fill","black").attr("font-size","6").text(f.relationTitle1),f.relationTitle2!==void 0&&f.relationTitle2!=="none"&&i.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",it).attr("y",st).attr("fill","black").attr("font-size","6").text(f.relationTitle2),PRt++},_Ge=function(i,a,f,p){Ut.debug("Rendering class ",a,f);const v=a.id,m={id:v,label:a.id,width:0,height:0},b=i.append("g").attr("id",p.db.lookUpDomId(v)).attr("class","classGroup");let E;a.link?E=b.append("svg:a").attr("xlink:href",a.link).attr("target",a.linkTarget).append("text").attr("y",f.textHeight+f.padding).attr("x",0):E=b.append("text").attr("y",f.textHeight+f.padding).attr("x",0);let _=!0;a.annotations.forEach(function(bt){const mt=E.append("tspan").text(""+bt+"");_||mt.attr("dy",f.textHeight),_=!1});let L=FRt(a);const N=E.append("tspan").text(L).attr("class","title");_||N.attr("dy",f.textHeight);const B=E.node().getBBox().height;let j,R,z;if(a.members.length>0){j=b.append("line").attr("x1",0).attr("y1",f.padding+B+f.dividerMargin/2).attr("y2",f.padding+B+f.dividerMargin/2);const bt=b.append("text").attr("x",f.padding).attr("y",B+f.dividerMargin+f.textHeight).attr("fill","white").attr("class","classText");_=!0,a.members.forEach(function(mt){BRt(bt,mt,_,f),_=!1}),R=bt.node().getBBox()}if(a.methods.length>0){z=b.append("line").attr("x1",0).attr("y1",f.padding+B+f.dividerMargin+R.height).attr("y2",f.padding+B+f.dividerMargin+R.height);const bt=b.append("text").attr("x",f.padding).attr("y",B+2*f.dividerMargin+R.height+f.textHeight).attr("fill","white").attr("class","classText");_=!0,a.methods.forEach(function(mt){BRt(bt,mt,_,f),_=!1})}const K=b.node().getBBox();var it=" ";a.cssClasses.length>0&&(it=it+a.cssClasses.join(" "));const ut=b.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",K.width+2*f.padding).attr("height",K.height+f.padding+.5*f.dividerMargin).attr("class",it).node().getBBox().width;return E.node().childNodes.forEach(function(bt){bt.setAttribute("x",(ut-bt.getBBox().width)/2)}),a.tooltip&&E.insert("title").text(a.tooltip),j&&j.attr("x2",ut),z&&z.attr("x2",ut),m.width=ut,m.height=K.height+f.padding+.5*f.dividerMargin,m},FRt=function(i){let a=i.id;return i.type&&(a+="<"+zN(i.type)+">"),a},SGe=function(i,a,f,p){Ut.debug("Rendering note ",a,f);const v=a.id,m={id:v,text:a.text,width:0,height:0},b=i.append("g").attr("id",v).attr("class","classGroup");let E=b.append("text").attr("y",f.textHeight+f.padding).attr("x",0);const _=JSON.parse(`"${a.text}"`).split(`
`);_.forEach(function(j){Ut.debug(`Adding line: ${j}`),E.append("tspan").text(j).attr("class","title").attr("dy",f.textHeight)});const L=b.node().getBBox(),B=b.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",L.width+2*f.padding).attr("height",L.height+_.length*f.textHeight+f.padding+.5*f.dividerMargin).node().getBBox().width;return E.node().childNodes.forEach(function(j){j.setAttribute("x",(B-j.getBBox().width)/2)}),m.width=B,m.height=L.height+_.length*f.textHeight+f.padding+.5*f.dividerMargin,m},BRt=function(i,a,f,p){const{displayText:v,cssStyle:m}=a.getDisplayDetails(),b=i.append("tspan").attr("x",p.padding).text(v);m!==""&&b.attr("style",a.cssStyle),f||b.attr("dy",p.textHeight)},mgt={getClassTitleString:FRt,drawClass:_Ge,drawEdge:CGe,drawNote:SGe};let OK={};const NK=20,BP=function(i){const a=Object.entries(OK).find(f=>f[1].label===i);if(a)return a[0]},AGe=function(i){i.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),i.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),i.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},LGe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:_Rt,db:DK,renderer:{draw:function(i,a,f,p){const v=Le().class;OK={},Ut.info("Rendering diagram "+i);const m=Le().securityLevel;let b;m==="sandbox"&&(b=yr("#i"+a));const E=yr(m==="sandbox"?b.nodes()[0].contentDocument.body:"body"),_=E.select(`[id='${a}']`);AGe(_);const L=new a1({multigraph:!0});L.setGraph({isMultiGraph:!0}),L.setDefaultEdgeLabel(function(){return{}});const N=p.db.getClasses(),B=Object.keys(N);for(const ut of B){const bt=N[ut],mt=mgt.drawClass(_,bt,v,p);OK[mt.id]=mt,L.setNode(mt.id,mt),Ut.info("Org height: "+mt.height)}p.db.getRelations().forEach(function(ut){Ut.info("tjoho"+BP(ut.id1)+BP(ut.id2)+JSON.stringify(ut)),L.setEdge(BP(ut.id1),BP(ut.id2),{relation:ut},ut.title||"DEFAULT")}),p.db.getNotes().forEach(function(ut){Ut.debug(`Adding note: ${JSON.stringify(ut)}`);const bt=mgt.drawNote(_,ut,v,p);OK[bt.id]=bt,L.setNode(bt.id,bt),ut.class&&ut.class in N&&L.setEdge(ut.id,BP(ut.class),{relation:{id1:ut.id,id2:ut.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),eL(L),L.nodes().forEach(function(ut){ut!==void 0&&L.node(ut)!==void 0&&(Ut.debug("Node "+ut+": "+JSON.stringify(L.node(ut))),E.select("#"+(p.db.lookUpDomId(ut)||ut)).attr("transform","translate("+(L.node(ut).x-L.node(ut).width/2)+","+(L.node(ut).y-L.node(ut).height/2)+" )"))}),L.edges().forEach(function(ut){ut!==void 0&&L.edge(ut)!==void 0&&(Ut.debug("Edge "+ut.v+" -> "+ut.w+": "+JSON.stringify(L.edge(ut))),mgt.drawEdge(_,L.edge(ut),L.edge(ut).relation,v,p))});const z=_.node().getBBox(),K=z.width+NK*2,it=z.height+NK*2;og(_,it,K,v.useMaxWidth);const st=`${z.x-NK} ${z.y-NK} ${K} ${it}`;Ut.debug(`viewBox ${st}`),_.attr("viewBox",st)}},styles:NRt,init:i=>{i.class||(i.class={}),i.class.arrowMarkerAbsolute=i.arrowMarkerAbsolute,DK.clear()}}},Symbol.toStringTag,{value:"Module"})),ygt=i=>Yr.sanitizeText(i,Le());let xgt={dividerMargin:10,padding:5,textHeight:10,curve:void 0};const MGe=function(i,a,f,p){const v=Object.keys(i);Ut.info("keys:",v),Ut.info(i),v.forEach(function(m){var L,N;const b=i[m],_={shape:"rect",id:b.id,domId:b.domId,labelText:ygt(b.id),labelStyle:"",style:"fill: none; stroke: black",padding:((L=Le().flowchart)==null?void 0:L.padding)??((N=Le().class)==null?void 0:N.padding)};a.setNode(b.id,_),RRt(b.classes,a,f,p,b.id),Ut.info("setNode",_)})},RRt=function(i,a,f,p,v){const m=Object.keys(i);Ut.info("keys:",m),Ut.info(i),m.filter(b=>i[b].parent==v).forEach(function(b){var z,K;const E=i[b],_=E.cssClasses.join(" "),L={labelStyle:"",style:""},N=E.label??E.id,B=0,j="class_box",R={labelStyle:L.labelStyle,shape:j,labelText:ygt(N),classData:E,rx:B,ry:B,class:_,style:L.style,id:E.id,domId:E.domId,tooltip:p.db.getTooltip(E.id,v)||"",haveCallback:E.haveCallback,link:E.link,width:E.type==="group"?500:void 0,type:E.type,padding:((z=Le().flowchart)==null?void 0:z.padding)??((K=Le().class)==null?void 0:K.padding)};a.setNode(E.id,R),v&&a.setParent(E.id,v),Ut.info("setNode",R)})},IGe=function(i,a,f,p){Ut.info(i),i.forEach(function(v,m){var K,it;const b=v,E="",_={labelStyle:"",style:""},L=b.text,N=0,B="note",j={labelStyle:_.labelStyle,shape:B,labelText:ygt(L),noteData:b,rx:N,ry:N,class:E,style:_.style,id:b.id,domId:b.id,tooltip:"",type:"note",padding:((K=Le().flowchart)==null?void 0:K.padding)??((it=Le().class)==null?void 0:it.padding)};if(a.setNode(b.id,j),Ut.info("setNode",j),!b.class||!(b.class in p))return;const R=f+m,z={id:`edgeNote${R}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:X2(xgt.curve,ig)};a.setEdge(b.id,b.class,z,R)})},DGe=function(i,a){const f=Le().flowchart;let p=0;i.forEach(function(v){var b;p++;const m={classes:"relation",pattern:v.relation.lineType==1?"dashed":"solid",id:"id"+p,arrowhead:v.type==="arrow_open"?"none":"normal",startLabelRight:v.relationTitle1==="none"?"":v.relationTitle1,endLabelLeft:v.relationTitle2==="none"?"":v.relationTitle2,arrowTypeStart:jRt(v.relation.type1),arrowTypeEnd:jRt(v.relation.type2),style:"fill:none",labelStyle:"",curve:X2(f==null?void 0:f.curve,ig)};if(Ut.info(m,v),v.style!==void 0){const E=em(v.style);m.style=E.style,m.labelStyle=E.labelStyle}v.text=v.title,v.text===void 0?v.style!==void 0&&(m.arrowheadStyle="fill: #333"):(m.arrowheadStyle="fill: #333",m.labelpos="c",((b=Le().flowchart)==null?void 0:b.htmlLabels)??Le().htmlLabels?(m.labelType="html",m.label='<span class="edgeLabel">'+v.text+"</span>"):(m.labelType="text",m.label=v.text.replace(Yr.lineBreakRegex,`
`),v.style===void 0&&(m.style=m.style||"stroke: #333; stroke-width: 1.5px;fill:none"),m.labelStyle=m.labelStyle.replace("color:","fill:"))),a.setEdge(v.id1,v.id2,m,p)})},OGe=function(i){xgt={...xgt,...i}},NGe=async function(i,a,f,p){Ut.info("Drawing class - ",a);const v=Le().flowchart??Le().class,m=Le().securityLevel;Ut.info("config:",v);const b=(v==null?void 0:v.nodeSpacing)??50,E=(v==null?void 0:v.rankSpacing)??50,_=new a1({multigraph:!0,compound:!0}).setGraph({rankdir:p.db.getDirection(),nodesep:b,ranksep:E,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),L=p.db.getNamespaces(),N=p.db.getClasses(),B=p.db.getRelations(),j=p.db.getNotes();Ut.info(B),MGe(L,_,a,p),RRt(N,_,a,p),DGe(B,_),IGe(j,_,B.length+1,N);let R;m==="sandbox"&&(R=yr("#i"+a));const z=yr(m==="sandbox"?R.nodes()[0].contentDocument.body:"body"),K=z.select(`[id="${a}"]`),it=z.select("#"+a+" g");if(await I0t(it,_,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",a),$a.insertTitle(K,"classTitleText",(v==null?void 0:v.titleTopMargin)??5,p.db.getDiagramTitle()),cT(_,K,v==null?void 0:v.diagramPadding,v==null?void 0:v.useMaxWidth),!(v!=null&&v.htmlLabels)){const st=m==="sandbox"?R.nodes()[0].contentDocument:document,ut=st.querySelectorAll('[id="'+a+'"] .edgeLabel .label');for(const bt of ut){const mt=bt.getBBox(),yt=st.createElementNS("http://www.w3.org/2000/svg","rect");yt.setAttribute("rx",0),yt.setAttribute("ry",0),yt.setAttribute("width",mt.width),yt.setAttribute("height",mt.height),bt.insertBefore(yt,bt.firstChild)}}};function jRt(i){let a;switch(i){case 0:a="aggregation";break;case 1:a="extension";break;case 2:a="composition";break;case 3:a="dependency";break;case 4:a="lollipop";break;default:a="none"}return a}const PGe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:_Rt,db:DK,renderer:{setConf:OGe,draw:NGe},styles:NRt,init:i=>{i.class||(i.class={}),i.class.arrowMarkerAbsolute=i.arrowMarkerAbsolute,DK.clear()}}},Symbol.toStringTag,{value:"Module"}));var kgt=function(){var i=function(Ct,Z,Tt,Ht){for(Tt=Tt||{},Ht=Ct.length;Ht--;Tt[Ct[Ht]]=Z);return Tt},a=[1,2],f=[1,3],p=[1,4],v=[2,4],m=[1,9],b=[1,11],E=[1,15],_=[1,16],L=[1,17],N=[1,18],B=[1,30],j=[1,19],R=[1,20],z=[1,21],K=[1,22],it=[1,23],st=[1,25],ut=[1,26],bt=[1,27],mt=[1,28],yt=[1,29],dt=[1,32],ht=[1,33],wt=[1,34],X=[1,35],pt=[1,31],U=[1,4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],xt=[1,4,5,13,14,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],nt=[4,5,15,16,18,20,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],Ot={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,cssClassStatement:11,idStatement:12,DESCR:13,"-->":14,HIDE_EMPTY:15,scale:16,WIDTH:17,COMPOSIT_STATE:18,STRUCT_START:19,STRUCT_STOP:20,STATE_DESCR:21,AS:22,ID:23,FORK:24,JOIN:25,CHOICE:26,CONCURRENT:27,note:28,notePosition:29,NOTE_TEXT:30,direction:31,acc_title:32,acc_title_value:33,acc_descr:34,acc_descr_value:35,acc_descr_multiline_value:36,classDef:37,CLASSDEF_ID:38,CLASSDEF_STYLEOPTS:39,DEFAULT:40,class:41,CLASSENTITY_IDS:42,STYLECLASS:43,direction_tb:44,direction_bt:45,direction_rl:46,direction_lr:47,eol:48,";":49,EDGE_STATE:50,STYLE_SEPARATOR:51,left_of:52,right_of:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",13:"DESCR",14:"-->",15:"HIDE_EMPTY",16:"scale",17:"WIDTH",18:"COMPOSIT_STATE",19:"STRUCT_START",20:"STRUCT_STOP",21:"STATE_DESCR",22:"AS",23:"ID",24:"FORK",25:"JOIN",26:"CHOICE",27:"CONCURRENT",28:"note",30:"NOTE_TEXT",32:"acc_title",33:"acc_title_value",34:"acc_descr",35:"acc_descr_value",36:"acc_descr_multiline_value",37:"classDef",38:"CLASSDEF_ID",39:"CLASSDEF_STYLEOPTS",40:"DEFAULT",41:"class",42:"CLASSENTITY_IDS",43:"STYLECLASS",44:"direction_tb",45:"direction_bt",46:"direction_rl",47:"direction_lr",49:";",50:"EDGE_STATE",51:"STYLE_SEPARATOR",52:"left_of",53:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[31,1],[31,1],[31,1],[31,1],[48,1],[48,1],[12,1],[12,1],[12,3],[12,3],[29,1],[29,1]],performAction:function(Z,Tt,Ht,It,Ft,ke,pn){var Me=ke.length-1;switch(Ft){case 3:return It.setRootDoc(ke[Me]),ke[Me];case 4:this.$=[];break;case 5:ke[Me]!="nl"&&(ke[Me-1].push(ke[Me]),this.$=ke[Me-1]);break;case 6:case 7:this.$=ke[Me];break;case 8:this.$="nl";break;case 11:this.$=ke[Me];break;case 12:const we=ke[Me-1];we.description=It.trimColon(ke[Me]),this.$=we;break;case 13:this.$={stmt:"relation",state1:ke[Me-2],state2:ke[Me]};break;case 14:const _e=It.trimColon(ke[Me]);this.$={stmt:"relation",state1:ke[Me-3],state2:ke[Me-1],description:_e};break;case 18:this.$={stmt:"state",id:ke[Me-3],type:"default",description:"",doc:ke[Me-1]};break;case 19:var ve=ke[Me],Ge=ke[Me-2].trim();if(ke[Me].match(":")){var Ke=ke[Me].split(":");ve=Ke[0],Ge=[Ge,Ke[1]]}this.$={stmt:"state",id:ve,type:"default",description:Ge};break;case 20:this.$={stmt:"state",id:ke[Me-3],type:"default",description:ke[Me-5],doc:ke[Me-1]};break;case 21:this.$={stmt:"state",id:ke[Me],type:"fork"};break;case 22:this.$={stmt:"state",id:ke[Me],type:"join"};break;case 23:this.$={stmt:"state",id:ke[Me],type:"choice"};break;case 24:this.$={stmt:"state",id:It.getDividerId(),type:"divider"};break;case 25:this.$={stmt:"state",id:ke[Me-1].trim(),note:{position:ke[Me-2].trim(),text:ke[Me].trim()}};break;case 28:this.$=ke[Me].trim(),It.setAccTitle(this.$);break;case 29:case 30:this.$=ke[Me].trim(),It.setAccDescription(this.$);break;case 31:case 32:this.$={stmt:"classDef",id:ke[Me-1].trim(),classes:ke[Me].trim()};break;case 33:this.$={stmt:"applyClass",id:ke[Me-1].trim(),styleClass:ke[Me].trim()};break;case 34:It.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 35:It.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 36:It.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 37:It.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 40:case 41:this.$={stmt:"state",id:ke[Me].trim(),type:"default",description:""};break;case 42:this.$={stmt:"state",id:ke[Me-2].trim(),classes:[ke[Me].trim()],type:"default",description:""};break;case 43:this.$={stmt:"state",id:ke[Me-2].trim(),classes:[ke[Me].trim()],type:"default",description:""};break}},table:[{3:1,4:a,5:f,6:p},{1:[3]},{3:5,4:a,5:f,6:p},{3:6,4:a,5:f,6:p},i([1,4,5,15,16,18,21,23,24,25,26,27,28,32,34,36,37,41,44,45,46,47,50],v,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:m,5:b,8:8,9:10,10:12,11:13,12:14,15:E,16:_,18:L,21:N,23:B,24:j,25:R,26:z,27:K,28:it,31:24,32:st,34:ut,36:bt,37:mt,41:yt,44:dt,45:ht,46:wt,47:X,50:pt},i(U,[2,5]),{9:36,10:12,11:13,12:14,15:E,16:_,18:L,21:N,23:B,24:j,25:R,26:z,27:K,28:it,31:24,32:st,34:ut,36:bt,37:mt,41:yt,44:dt,45:ht,46:wt,47:X,50:pt},i(U,[2,7]),i(U,[2,8]),i(U,[2,9]),i(U,[2,10]),i(U,[2,11],{13:[1,37],14:[1,38]}),i(U,[2,15]),{17:[1,39]},i(U,[2,17],{19:[1,40]}),{22:[1,41]},i(U,[2,21]),i(U,[2,22]),i(U,[2,23]),i(U,[2,24]),{29:42,30:[1,43],52:[1,44],53:[1,45]},i(U,[2,27]),{33:[1,46]},{35:[1,47]},i(U,[2,30]),{38:[1,48],40:[1,49]},{42:[1,50]},i(xt,[2,40],{51:[1,51]}),i(xt,[2,41],{51:[1,52]}),i(U,[2,34]),i(U,[2,35]),i(U,[2,36]),i(U,[2,37]),i(U,[2,6]),i(U,[2,12]),{12:53,23:B,50:pt},i(U,[2,16]),i(nt,v,{7:54}),{23:[1,55]},{23:[1,56]},{22:[1,57]},{23:[2,44]},{23:[2,45]},i(U,[2,28]),i(U,[2,29]),{39:[1,58]},{39:[1,59]},{43:[1,60]},{23:[1,61]},{23:[1,62]},i(U,[2,13],{13:[1,63]}),{4:m,5:b,8:8,9:10,10:12,11:13,12:14,15:E,16:_,18:L,20:[1,64],21:N,23:B,24:j,25:R,26:z,27:K,28:it,31:24,32:st,34:ut,36:bt,37:mt,41:yt,44:dt,45:ht,46:wt,47:X,50:pt},i(U,[2,19],{19:[1,65]}),{30:[1,66]},{23:[1,67]},i(U,[2,31]),i(U,[2,32]),i(U,[2,33]),i(xt,[2,42]),i(xt,[2,43]),i(U,[2,14]),i(U,[2,18]),i(nt,v,{7:68}),i(U,[2,25]),i(U,[2,26]),{4:m,5:b,8:8,9:10,10:12,11:13,12:14,15:E,16:_,18:L,20:[1,69],21:N,23:B,24:j,25:R,26:z,27:K,28:it,31:24,32:st,34:ut,36:bt,37:mt,41:yt,44:dt,45:ht,46:wt,47:X,50:pt},i(U,[2,20])],defaultActions:{5:[2,1],6:[2,2],44:[2,44],45:[2,45]},parseError:function(Z,Tt){if(Tt.recoverable)this.trace(Z);else{var Ht=new Error(Z);throw Ht.hash=Tt,Ht}},parse:function(Z){var Tt=this,Ht=[0],It=[],Ft=[null],ke=[],pn=this.table,Me="",ve=0,Ge=0,Ke=2,we=1,_e=ke.slice.call(arguments,1),$t=Object.create(this.lexer),re={yy:{}};for(var ie in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ie)&&(re.yy[ie]=this.yy[ie]);$t.setInput(Z,re.yy),re.yy.lexer=$t,re.yy.parser=this,typeof $t.yylloc>"u"&&($t.yylloc={});var Oe=$t.yylloc;ke.push(Oe);var oe=$t.options&&$t.options.ranges;typeof re.yy.parseError=="function"?this.parseError=re.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ne(){var Ee;return Ee=It.pop()||$t.lex()||we,typeof Ee!="number"&&(Ee instanceof Array&&(It=Ee,Ee=It.pop()),Ee=Tt.symbols_[Ee]||Ee),Ee}for(var me,cn,li,ya,da={},Oo,ds,Dr,nr;;){if(cn=Ht[Ht.length-1],this.defaultActions[cn]?li=this.defaultActions[cn]:((me===null||typeof me>"u")&&(me=Ne()),li=pn[cn]&&pn[cn][me]),typeof li>"u"||!li.length||!li[0]){var di="";nr=[];for(Oo in pn[cn])this.terminals_[Oo]&&Oo>Ke&&nr.push("'"+this.terminals_[Oo]+"'");$t.showPosition?di="Parse error on line "+(ve+1)+`:
`+$t.showPosition()+`
Expecting `+nr.join(", ")+", got '"+(this.terminals_[me]||me)+"'":di="Parse error on line "+(ve+1)+": Unexpected "+(me==we?"end of input":"'"+(this.terminals_[me]||me)+"'"),this.parseError(di,{text:$t.match,token:this.terminals_[me]||me,line:$t.yylineno,loc:Oe,expected:nr})}if(li[0]instanceof Array&&li.length>1)throw new Error("Parse Error: multiple actions possible at state: "+cn+", token: "+me);switch(li[0]){case 1:Ht.push(me),Ft.push($t.yytext),ke.push($t.yylloc),Ht.push(li[1]),me=null,Ge=$t.yyleng,Me=$t.yytext,ve=$t.yylineno,Oe=$t.yylloc;break;case 2:if(ds=this.productions_[li[1]][1],da.$=Ft[Ft.length-ds],da._$={first_line:ke[ke.length-(ds||1)].first_line,last_line:ke[ke.length-1].last_line,first_column:ke[ke.length-(ds||1)].first_column,last_column:ke[ke.length-1].last_column},oe&&(da._$.range=[ke[ke.length-(ds||1)].range[0],ke[ke.length-1].range[1]]),ya=this.performAction.apply(da,[Me,Ge,ve,re.yy,li[1],Ft,ke].concat(_e)),typeof ya<"u")return ya;ds&&(Ht=Ht.slice(0,-1*ds*2),Ft=Ft.slice(0,-1*ds),ke=ke.slice(0,-1*ds)),Ht.push(this.productions_[li[1]][0]),Ft.push(da.$),ke.push(da._$),Dr=pn[Ht[Ht.length-2]][Ht[Ht.length-1]],Ht.push(Dr);break;case 3:return!0}}return!0}},Nt=function(){var Ct={EOF:1,parseError:function(Tt,Ht){if(this.yy.parser)this.yy.parser.parseError(Tt,Ht);else throw new Error(Tt)},setInput:function(Z,Tt){return this.yy=Tt||this.yy||{},this._input=Z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Z=this._input[0];this.yytext+=Z,this.yyleng++,this.offset++,this.match+=Z,this.matched+=Z;var Tt=Z.match(/(?:\r\n?|\n).*/g);return Tt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Z},unput:function(Z){var Tt=Z.length,Ht=Z.split(/(?:\r\n?|\n)/g);this._input=Z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Tt),this.offset-=Tt;var It=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ht.length-1&&(this.yylineno-=Ht.length-1);var Ft=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ht?(Ht.length===It.length?this.yylloc.first_column:0)+It[It.length-Ht.length].length-Ht[0].length:this.yylloc.first_column-Tt},this.options.ranges&&(this.yylloc.range=[Ft[0],Ft[0]+this.yyleng-Tt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Z){this.unput(this.match.slice(Z))},pastInput:function(){var Z=this.matched.substr(0,this.matched.length-this.match.length);return(Z.length>20?"...":"")+Z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Z=this.match;return Z.length<20&&(Z+=this._input.substr(0,20-Z.length)),(Z.substr(0,20)+(Z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Z=this.pastInput(),Tt=new Array(Z.length+1).join("-");return Z+this.upcomingInput()+`
`+Tt+"^"},test_match:function(Z,Tt){var Ht,It,Ft;if(this.options.backtrack_lexer&&(Ft={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ft.yylloc.range=this.yylloc.range.slice(0))),It=Z[0].match(/(?:\r\n?|\n).*/g),It&&(this.yylineno+=It.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:It?It[It.length-1].length-It[It.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z[0].length},this.yytext+=Z[0],this.match+=Z[0],this.matches=Z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z[0].length),this.matched+=Z[0],Ht=this.performAction.call(this,this.yy,this,Tt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ht)return Ht;if(this._backtrack){for(var ke in Ft)this[ke]=Ft[ke];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Z,Tt,Ht,It;this._more||(this.yytext="",this.match="");for(var Ft=this._currentRules(),ke=0;ke<Ft.length;ke++)if(Ht=this._input.match(this.rules[Ft[ke]]),Ht&&(!Tt||Ht[0].length>Tt[0].length)){if(Tt=Ht,It=ke,this.options.backtrack_lexer){if(Z=this.test_match(Ht,Ft[ke]),Z!==!1)return Z;if(this._backtrack){Tt=!1;continue}else return!1}else if(!this.options.flex)break}return Tt?(Z=this.test_match(Tt,Ft[It]),Z!==!1?Z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Tt=this.next();return Tt||this.lex()},begin:function(Tt){this.conditionStack.push(Tt)},popState:function(){var Tt=this.conditionStack.length-1;return Tt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Tt){return Tt=this.conditionStack.length-1-Math.abs(Tt||0),Tt>=0?this.conditionStack[Tt]:"INITIAL"},pushState:function(Tt){this.begin(Tt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Tt,Ht,It,Ft){switch(It){case 0:return 40;case 1:return 44;case 2:return 45;case 3:return 46;case 4:return 47;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),16;case 13:return 17;case 14:this.popState();break;case 15:return this.begin("acc_title"),32;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),34;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),37;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),38;case 25:return this.popState(),39;case 26:return this.pushState("CLASS"),41;case 27:return this.popState(),this.pushState("CLASS_STYLE"),42;case 28:return this.popState(),43;case 29:return this.pushState("SCALE"),16;case 30:return 17;case 31:this.popState();break;case 32:this.pushState("STATE");break;case 33:return this.popState(),Ht.yytext=Ht.yytext.slice(0,-8).trim(),24;case 34:return this.popState(),Ht.yytext=Ht.yytext.slice(0,-8).trim(),25;case 35:return this.popState(),Ht.yytext=Ht.yytext.slice(0,-10).trim(),26;case 36:return this.popState(),Ht.yytext=Ht.yytext.slice(0,-8).trim(),24;case 37:return this.popState(),Ht.yytext=Ht.yytext.slice(0,-8).trim(),25;case 38:return this.popState(),Ht.yytext=Ht.yytext.slice(0,-10).trim(),26;case 39:return 44;case 40:return 45;case 41:return 46;case 42:return 47;case 43:this.pushState("STATE_STRING");break;case 44:return this.pushState("STATE_ID"),"AS";case 45:return this.popState(),"ID";case 46:this.popState();break;case 47:return"STATE_DESCR";case 48:return 18;case 49:this.popState();break;case 50:return this.popState(),this.pushState("struct"),19;case 51:break;case 52:return this.popState(),20;case 53:break;case 54:return this.begin("NOTE"),28;case 55:return this.popState(),this.pushState("NOTE_ID"),52;case 56:return this.popState(),this.pushState("NOTE_ID"),53;case 57:this.popState(),this.pushState("FLOATING_NOTE");break;case 58:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 59:break;case 60:return"NOTE_TEXT";case 61:return this.popState(),"ID";case 62:return this.popState(),this.pushState("NOTE_TEXT"),23;case 63:return this.popState(),Ht.yytext=Ht.yytext.substr(2).trim(),30;case 64:return this.popState(),Ht.yytext=Ht.yytext.slice(0,-8).trim(),30;case 65:return 6;case 66:return 6;case 67:return 15;case 68:return 50;case 69:return 23;case 70:return Ht.yytext=Ht.yytext.trim(),13;case 71:return 14;case 72:return 27;case 73:return 51;case 74:return 5;case 75:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,32,39,40,41,42,51,52,53,54,68,69,70,71,72],inclusive:!1},FLOATING_NOTE_ID:{rules:[61],inclusive:!1},FLOATING_NOTE:{rules:[58,59,60],inclusive:!1},NOTE_TEXT:{rules:[63,64],inclusive:!1},NOTE_ID:{rules:[62],inclusive:!1},NOTE:{rules:[55,56,57],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,30,31],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[45],inclusive:!1},STATE_STRING:{rules:[46,47],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,33,34,35,36,37,38,43,44,48,49,50],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,50,54,65,66,67,68,69,70,71,73,74,75],inclusive:!0}}};return Ct}();Ot.lexer=Nt;function qt(){this.yy={}}return qt.prototype=Ot,Ot.Parser=qt,new qt}();kgt.parser=kgt;const $Rt=kgt,FGe="LR",BGe="TB",PK="state",Egt="relation",RGe="classDef",jGe="applyClass",RP="default",zRt="divider",Tgt="[*]",qRt="start",HRt=Tgt,GRt="end",VRt="color",URt="fill",$Ge="bgFill",zGe=",";function WRt(){return{}}let KRt=FGe,FK=[],jP=WRt();const YRt=()=>({relations:[],states:{},documents:{}});let BK={root:YRt()},k0=BK.root,$P=0,XRt=0;const qGe={LINE:0,DOTTED_LINE:1},HGe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},RK=i=>JSON.parse(JSON.stringify(i)),GGe=i=>{Ut.info("Setting root doc",i),FK=i},VGe=()=>FK,jK=(i,a,f)=>{if(a.stmt===Egt)jK(i,a.state1,!0),jK(i,a.state2,!1);else if(a.stmt===PK&&(a.id==="[*]"?(a.id=f?i.id+"_start":i.id+"_end",a.start=f):a.id=a.id.trim()),a.doc){const p=[];let v=[],m;for(m=0;m<a.doc.length;m++)if(a.doc[m].type===zRt){const b=RK(a.doc[m]);b.doc=RK(v),p.push(b),v=[]}else v.push(a.doc[m]);if(p.length>0&&v.length>0){const b={stmt:PK,id:HDt(),type:"divider",doc:RK(v)};p.push(RK(b)),a.doc=p}a.doc.forEach(b=>jK(a,b,!0))}},UGe=()=>(jK({id:"root"},{id:"root",doc:FK},!0),{id:"root",doc:FK}),WGe=i=>{let a;i.doc?a=i.doc:a=i,Ut.info(a),QRt(!0),Ut.info("Extract",a),a.forEach(f=>{switch(f.stmt){case PK:_T(f.id.trim(),f.type,f.doc,f.description,f.note,f.classes,f.styles,f.textStyles);break;case Egt:ZRt(f.state1,f.state2,f.description);break;case RGe:JRt(f.id.trim(),f.classes);break;case jGe:Agt(f.id.trim(),f.styleClass);break}})},_T=function(i,a=RP,f=null,p=null,v=null,m=null,b=null,E=null){const _=i==null?void 0:i.trim();k0.states[_]===void 0?(Ut.info("Adding state ",_,p),k0.states[_]={id:_,descriptions:[],type:a,doc:f,note:v,classes:[],styles:[],textStyles:[]}):(k0.states[_].doc||(k0.states[_].doc=f),k0.states[_].type||(k0.states[_].type=a)),p&&(Ut.info("Setting state description",_,p),typeof p=="string"&&Sgt(_,p.trim()),typeof p=="object"&&p.forEach(L=>Sgt(_,L.trim()))),v&&(k0.states[_].note=v,k0.states[_].note.text=Yr.sanitizeText(k0.states[_].note.text,Le())),m&&(Ut.info("Setting state classes",_,m),(typeof m=="string"?[m]:m).forEach(N=>Agt(_,N.trim()))),b&&(Ut.info("Setting state styles",_,b),(typeof b=="string"?[b]:b).forEach(N=>rVe(_,N.trim()))),E&&(Ut.info("Setting state styles",_,b),(typeof E=="string"?[E]:E).forEach(N=>iVe(_,N.trim())))},QRt=function(i){BK={root:YRt()},k0=BK.root,$P=0,jP=WRt(),i||ap()},zP=function(i){return k0.states[i]},KGe=function(){return k0.states},YGe=function(){Ut.info("Documents = ",BK)},XGe=function(){return k0.relations};function Cgt(i=""){let a=i;return i===Tgt&&($P++,a=`${qRt}${$P}`),a}function _gt(i="",a=RP){return i===Tgt?qRt:a}function QGe(i=""){let a=i;return i===HRt&&($P++,a=`${GRt}${$P}`),a}function ZGe(i="",a=RP){return i===HRt?GRt:a}function JGe(i,a,f){let p=Cgt(i.id.trim()),v=_gt(i.id.trim(),i.type),m=Cgt(a.id.trim()),b=_gt(a.id.trim(),a.type);_T(p,v,i.doc,i.description,i.note,i.classes,i.styles,i.textStyles),_T(m,b,a.doc,a.description,a.note,a.classes,a.styles,a.textStyles),k0.relations.push({id1:p,id2:m,relationTitle:Yr.sanitizeText(f,Le())})}const ZRt=function(i,a,f){if(typeof i=="object")JGe(i,a,f);else{const p=Cgt(i.trim()),v=_gt(i),m=QGe(a.trim()),b=ZGe(a);_T(p,v),_T(m,b),k0.relations.push({id1:p,id2:m,title:Yr.sanitizeText(f,Le())})}},Sgt=function(i,a){const f=k0.states[i],p=a.startsWith(":")?a.replace(":","").trim():a;f.descriptions.push(Yr.sanitizeText(p,Le()))},tVe=function(i){return i.substring(0,1)===":"?i.substr(2).trim():i.trim()},eVe=()=>(XRt++,"divider-id-"+XRt),JRt=function(i,a=""){jP[i]===void 0&&(jP[i]={id:i,styles:[],textStyles:[]});const f=jP[i];a!=null&&a.split(zGe).forEach(p=>{const v=p.replace(/([^;]*);/,"$1").trim();if(p.match(VRt)){const b=v.replace(URt,$Ge).replace(VRt,URt);f.textStyles.push(b)}f.styles.push(v)})},nVe=function(){return jP},Agt=function(i,a){i.split(",").forEach(function(f){let p=zP(f);if(p===void 0){const v=f.trim();_T(v),p=zP(v)}p.classes.push(a)})},rVe=function(i,a){const f=zP(i);f!==void 0&&f.textStyles.push(a)},iVe=function(i,a){const f=zP(i);f!==void 0&&f.textStyles.push(a)},O5={getConfig:()=>Le().state,addState:_T,clear:QRt,getState:zP,getStates:KGe,getRelations:XGe,getClasses:nVe,getDirection:()=>KRt,addRelation:ZRt,getDividerId:eVe,setDirection:i=>{KRt=i},cleanupLabel:tVe,lineType:qGe,relationType:HGe,logDocuments:YGe,getRootDoc:VGe,setRootDoc:GGe,getRootDocV2:UGe,extract:WGe,trimColon:i=>i&&i[0]===":"?i.substr(1).trim():i.trim(),getAccTitle:op,setAccTitle:cg,getAccDescription:up,setAccDescription:cp,addStyleClass:JRt,setCssClass:Agt,addDescription:Sgt,setDiagramTitle:Z2,getDiagramTitle:Db},tjt=i=>`
defs #statediagram-barbEnd {
    fill: ${i.transitionColor};
    stroke: ${i.transitionColor};
  }
g.stateGroup text {
  fill: ${i.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${i.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${i.stateLabelColor};
}

g.stateGroup rect {
  fill: ${i.mainBkg};
  stroke: ${i.nodeBorder};
}

g.stateGroup line {
  stroke: ${i.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${i.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${i.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${i.noteBorderColor};
  fill: ${i.noteBkgColor};

  text {
    fill: ${i.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${i.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${i.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${i.transitionLabelColor||i.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${i.transitionLabelColor||i.tertiaryTextColor};
}

.stateLabel text {
  fill: ${i.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${i.specialStateColor};
  stroke: ${i.specialStateColor};
}

.node .fork-join {
  fill: ${i.specialStateColor};
  stroke: ${i.specialStateColor};
}

.node circle.state-end {
  fill: ${i.innerEndBackground};
  stroke: ${i.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${i.compositeBackground||i.background};
  // stroke: ${i.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${i.stateBkg||i.mainBkg};
  stroke: ${i.stateBorder||i.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${i.mainBkg};
  stroke: ${i.stateBorder||i.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${i.lineColor};
}

.statediagram-cluster rect {
  fill: ${i.compositeTitleBackground};
  stroke: ${i.stateBorder||i.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${i.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${i.stateBorder||i.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${i.compositeBackground||i.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${i.altBackground?i.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${i.altBackground?i.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${i.noteBkgColor};
  stroke: ${i.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${i.noteBkgColor};
  stroke: ${i.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${i.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${i.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${i.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${i.lineColor};
  stroke: ${i.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${i.textColor};
}
`,Lgt={},sVe=(i,a)=>{Lgt[i]=a},aVe=i=>Lgt[i],ejt=()=>Object.keys(Lgt),oVe={get:aVe,set:sVe,keys:ejt,size:()=>ejt().length},cVe=i=>i.append("circle").attr("class","start-state").attr("r",Le().state.sizeUnit).attr("cx",Le().state.padding+Le().state.sizeUnit).attr("cy",Le().state.padding+Le().state.sizeUnit),uVe=i=>i.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Le().state.textHeight).attr("class","divider").attr("x2",Le().state.textHeight*2).attr("y1",0).attr("y2",0),lVe=(i,a)=>{const f=i.append("text").attr("x",2*Le().state.padding).attr("y",Le().state.textHeight+2*Le().state.padding).attr("font-size",Le().state.fontSize).attr("class","state-title").text(a.id),p=f.node().getBBox();return i.insert("rect",":first-child").attr("x",Le().state.padding).attr("y",Le().state.padding).attr("width",p.width+2*Le().state.padding).attr("height",p.height+2*Le().state.padding).attr("rx",Le().state.radius),f},hVe=(i,a)=>{const f=function(j,R,z){const K=j.append("tspan").attr("x",2*Le().state.padding).text(R);z||K.attr("dy",Le().state.textHeight)},v=i.append("text").attr("x",2*Le().state.padding).attr("y",Le().state.textHeight+1.3*Le().state.padding).attr("font-size",Le().state.fontSize).attr("class","state-title").text(a.descriptions[0]).node().getBBox(),m=v.height,b=i.append("text").attr("x",Le().state.padding).attr("y",m+Le().state.padding*.4+Le().state.dividerMargin+Le().state.textHeight).attr("class","state-description");let E=!0,_=!0;a.descriptions.forEach(function(j){E||(f(b,j,_),_=!1),E=!1});const L=i.append("line").attr("x1",Le().state.padding).attr("y1",Le().state.padding+m+Le().state.dividerMargin/2).attr("y2",Le().state.padding+m+Le().state.dividerMargin/2).attr("class","descr-divider"),N=b.node().getBBox(),B=Math.max(N.width,v.width);return L.attr("x2",B+3*Le().state.padding),i.insert("rect",":first-child").attr("x",Le().state.padding).attr("y",Le().state.padding).attr("width",B+2*Le().state.padding).attr("height",N.height+m+2*Le().state.padding).attr("rx",Le().state.radius),i},fVe=(i,a,f)=>{const p=Le().state.padding,v=2*Le().state.padding,m=i.node().getBBox(),b=m.width,E=m.x,_=i.append("text").attr("x",0).attr("y",Le().state.titleShift).attr("font-size",Le().state.fontSize).attr("class","state-title").text(a.id),N=_.node().getBBox().width+v;let B=Math.max(N,b);B===b&&(B=B+v);let j;const R=i.node().getBBox();a.doc,j=E-p,N>b&&(j=(b-B)/2+p),Math.abs(E-R.x)<p&&N>b&&(j=E-(N-b)/2);const z=1-Le().state.textHeight;return i.insert("rect",":first-child").attr("x",j).attr("y",z).attr("class",f?"alt-composit":"composit").attr("width",B).attr("height",R.height+Le().state.textHeight+Le().state.titleShift+1).attr("rx","0"),_.attr("x",j+p),N<=b&&_.attr("x",E+(B-v)/2-N/2+p),i.insert("rect",":first-child").attr("x",j).attr("y",Le().state.titleShift-Le().state.textHeight-Le().state.padding).attr("width",B).attr("height",Le().state.textHeight*3).attr("rx",Le().state.radius),i.insert("rect",":first-child").attr("x",j).attr("y",Le().state.titleShift-Le().state.textHeight-Le().state.padding).attr("width",B).attr("height",R.height+3+2*Le().state.textHeight).attr("rx",Le().state.radius),i},dVe=i=>(i.append("circle").attr("class","end-state-outer").attr("r",Le().state.sizeUnit+Le().state.miniPadding).attr("cx",Le().state.padding+Le().state.sizeUnit+Le().state.miniPadding).attr("cy",Le().state.padding+Le().state.sizeUnit+Le().state.miniPadding),i.append("circle").attr("class","end-state-inner").attr("r",Le().state.sizeUnit).attr("cx",Le().state.padding+Le().state.sizeUnit+2).attr("cy",Le().state.padding+Le().state.sizeUnit+2)),gVe=(i,a)=>{let f=Le().state.forkWidth,p=Le().state.forkHeight;if(a.parentId){let v=f;f=p,p=v}return i.append("rect").style("stroke","black").style("fill","black").attr("width",f).attr("height",p).attr("x",Le().state.padding).attr("y",Le().state.padding)},pVe=(i,a,f,p)=>{let v=0;const m=p.append("text");m.style("text-anchor","start"),m.attr("class","noteText");let b=i.replace(/\r\n/g,"<br/>");b=b.replace(/\n/g,"<br/>");const E=b.split(Yr.lineBreakRegex);let _=1.25*Le().state.noteMargin;for(const L of E){const N=L.trim();if(N.length>0){const B=m.append("tspan");if(B.text(N),_===0){const j=B.node().getBBox();_+=j.height}v+=_,B.attr("x",a+Le().state.noteMargin),B.attr("y",f+v+1.25*Le().state.noteMargin)}}return{textWidth:m.node().getBBox().width,textHeight:v}},bVe=(i,a)=>{a.attr("class","state-note");const f=a.append("rect").attr("x",0).attr("y",Le().state.padding),p=a.append("g"),{textWidth:v,textHeight:m}=pVe(i,0,0,p);return f.attr("height",m+2*Le().state.noteMargin),f.attr("width",v+Le().state.noteMargin*2),f},njt=function(i,a){const f=a.id,p={id:f,label:a.id,width:0,height:0},v=i.append("g").attr("id",f).attr("class","stateGroup");a.type==="start"&&cVe(v),a.type==="end"&&dVe(v),(a.type==="fork"||a.type==="join")&&gVe(v,a),a.type==="note"&&bVe(a.note.text,v),a.type==="divider"&&uVe(v),a.type==="default"&&a.descriptions.length===0&&lVe(v,a),a.type==="default"&&a.descriptions.length>0&&hVe(v,a);const m=v.node().getBBox();return p.width=m.width+2*Le().state.padding,p.height=m.height+2*Le().state.padding,oVe.set(f,p),p};let rjt=0;const vVe=function(i,a,f){const p=function(_){switch(_){case O5.relationType.AGGREGATION:return"aggregation";case O5.relationType.EXTENSION:return"extension";case O5.relationType.COMPOSITION:return"composition";case O5.relationType.DEPENDENCY:return"dependency"}};a.points=a.points.filter(_=>!Number.isNaN(_.y));const v=a.points,m=Z7().x(function(_){return _.x}).y(function(_){return _.y}).curve(FN),b=i.append("path").attr("d",m(v)).attr("id","edge"+rjt).attr("class","transition");let E="";if(Le().state.arrowMarkerAbsolute&&(E=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,E=E.replace(/\(/g,"\\("),E=E.replace(/\)/g,"\\)")),b.attr("marker-end","url("+E+"#"+p(O5.relationType.DEPENDENCY)+"End)"),f.title!==void 0){const _=i.append("g").attr("class","stateLabel"),{x:L,y:N}=$a.calcLabelPosition(a.points),B=Yr.getRows(f.title);let j=0;const R=[];let z=0,K=0;for(let ut=0;ut<=B.length;ut++){const bt=_.append("text").attr("text-anchor","middle").text(B[ut]).attr("x",L).attr("y",N+j),mt=bt.node().getBBox();z=Math.max(z,mt.width),K=Math.min(K,mt.x),Ut.info(mt.x,L,N+j),j===0&&(j=bt.node().getBBox().height,Ut.info("Title height",j,N)),R.push(bt)}let it=j*B.length;if(B.length>1){const ut=(B.length-1)*j*.5;R.forEach((bt,mt)=>bt.attr("y",N+mt*j-ut)),it=j*B.length}const st=_.node().getBBox();_.insert("rect",":first-child").attr("class","box").attr("x",L-z/2-Le().state.padding/2).attr("y",N-it/2-Le().state.padding/2-3.5).attr("width",z+Le().state.padding).attr("height",it+Le().state.padding),Ut.info(st)}rjt++};let Rb;const Mgt={},wVe=function(){},mVe=function(i){i.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},yVe=function(i,a,f,p){Rb=Le().state;const v=Le().securityLevel;let m;v==="sandbox"&&(m=yr("#i"+a));const b=yr(v==="sandbox"?m.nodes()[0].contentDocument.body:"body"),E=v==="sandbox"?m.nodes()[0].contentDocument:document;Ut.debug("Rendering diagram "+i);const _=b.select(`[id='${a}']`);mVe(_);const L=p.db.getRootDoc();ijt(L,_,void 0,!1,b,E,p);const N=Rb.padding,B=_.node().getBBox(),j=B.width+N*2,R=B.height+N*2,z=j*1.75;og(_,R,z,Rb.useMaxWidth),_.attr("viewBox",`${B.x-Rb.padding}  ${B.y-Rb.padding} `+j+" "+R)},xVe=i=>i?i.length*Rb.fontSizeFactor:1,ijt=(i,a,f,p,v,m,b)=>{const E=new a1({compound:!0,multigraph:!0});let _,L=!0;for(_=0;_<i.length;_++)if(i[_].stmt==="relation"){L=!1;break}f?E.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:L?1:Rb.edgeLengthFactor,nodeSep:L?1:50,isMultiGraph:!0}):E.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:L?1:Rb.edgeLengthFactor,nodeSep:L?1:50,ranker:"tight-tree",isMultiGraph:!0}),E.setDefaultEdgeLabel(function(){return{}}),b.db.extract(i);const N=b.db.getStates(),B=b.db.getRelations(),j=Object.keys(N);for(const st of j){const ut=N[st];f&&(ut.parentId=f);let bt;if(ut.doc){let mt=a.append("g").attr("id",ut.id).attr("class","stateGroup");bt=ijt(ut.doc,mt,ut.id,!p,v,m,b);{mt=fVe(mt,ut,p);let yt=mt.node().getBBox();bt.width=yt.width,bt.height=yt.height+Rb.padding/2,Mgt[ut.id]={y:Rb.compositTitleSize}}}else bt=njt(a,ut);if(ut.note){const mt={descriptions:[],id:ut.id+"-note",note:ut.note,type:"note"},yt=njt(a,mt);ut.note.position==="left of"?(E.setNode(bt.id+"-note",yt),E.setNode(bt.id,bt)):(E.setNode(bt.id,bt),E.setNode(bt.id+"-note",yt)),E.setParent(bt.id,bt.id+"-group"),E.setParent(bt.id+"-note",bt.id+"-group")}else E.setNode(bt.id,bt)}Ut.debug("Count=",E.nodeCount(),E);let R=0;B.forEach(function(st){R++,Ut.debug("Setting edge",st),E.setEdge(st.id1,st.id2,{relation:st,width:xVe(st.title),height:Rb.labelHeight*Yr.getRows(st.title).length,labelpos:"c"},"id"+R)}),eL(E),Ut.debug("Graph after layout",E.nodes());const z=a.node();E.nodes().forEach(function(st){st!==void 0&&E.node(st)!==void 0?(Ut.warn("Node "+st+": "+JSON.stringify(E.node(st))),v.select("#"+z.id+" #"+st).attr("transform","translate("+(E.node(st).x-E.node(st).width/2)+","+(E.node(st).y+(Mgt[st]?Mgt[st].y:0)-E.node(st).height/2)+" )"),v.select("#"+z.id+" #"+st).attr("data-x-shift",E.node(st).x-E.node(st).width/2),m.querySelectorAll("#"+z.id+" #"+st+" .divider").forEach(bt=>{const mt=bt.parentElement;let yt=0,dt=0;mt&&(mt.parentElement&&(yt=mt.parentElement.getBBox().width),dt=parseInt(mt.getAttribute("data-x-shift"),10),Number.isNaN(dt)&&(dt=0)),bt.setAttribute("x1",0-dt+8),bt.setAttribute("x2",yt-dt-8)})):Ut.debug("No Node "+st+": "+JSON.stringify(E.node(st)))});let K=z.getBBox();E.edges().forEach(function(st){st!==void 0&&E.edge(st)!==void 0&&(Ut.debug("Edge "+st.v+" -> "+st.w+": "+JSON.stringify(E.edge(st))),vVe(a,E.edge(st),E.edge(st).relation))}),K=z.getBBox();const it={id:f||"root",label:f||"root",width:0,height:0};return it.width=K.width+2*Rb.padding,it.height=K.height+2*Rb.padding,Ut.debug("Doc rendered",it,E),it},kVe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:$Rt,db:O5,renderer:{setConf:wVe,draw:yVe},styles:tjt,init:i=>{i.state||(i.state={}),i.state.arrowMarkerAbsolute=i.arrowMarkerAbsolute,O5.clear()}}},Symbol.toStringTag,{value:"Module"})),$K="rect",Igt="rectWithTitle",EVe="start",TVe="end",CVe="divider",_Ve="roundedWithTitle",SVe="note",AVe="noteGroup",dL="statediagram",LVe=`${dL}-state`,sjt="transition",MVe="note",IVe=`${sjt} note-edge`,DVe=`${dL}-${MVe}`,OVe=`${dL}-cluster`,NVe=`${dL}-cluster-alt`,ajt="parent",ojt="note",PVe="state",Dgt="----",FVe=`${Dgt}${ojt}`,cjt=`${Dgt}${ajt}`,ujt="fill:none",ljt="fill: #333",hjt="c",fjt="text",djt="normal";let zK={},gk=0;const BVe=function(i){const a=Object.keys(i);for(const f of a)i[f]},RVe=function(i,a){return a.db.extract(a.db.getRootDocV2()),a.db.getClasses()};function jVe(i){return i==null?"":i.classes?i.classes.join(" "):""}function Ogt(i="",a=0,f="",p=Dgt){const v=f!==null&&f.length>0?`${p}${f}`:"";return`${PVe}-${i}${v}-${a}`}const qP=(i,a,f,p,v,m)=>{const b=f.id,E=jVe(p[b]);if(b!=="root"){let _=$K;f.start===!0&&(_=EVe),f.start===!1&&(_=TVe),f.type!==RP&&(_=f.type),zK[b]||(zK[b]={id:b,shape:_,description:Yr.sanitizeText(b,Le()),classes:`${E} ${LVe}`});const L=zK[b];f.description&&(Array.isArray(L.description)?(L.shape=Igt,L.description.push(f.description)):L.description.length>0?(L.shape=Igt,L.description===b?L.description=[f.description]:L.description=[L.description,f.description]):(L.shape=$K,L.description=f.description),L.description=Yr.sanitizeTextOrArray(L.description,Le())),L.description.length===1&&L.shape===Igt&&(L.shape=$K),!L.type&&f.doc&&(Ut.info("Setting cluster for ",b,Ngt(f)),L.type="group",L.dir=Ngt(f),L.shape=f.type===zRt?CVe:_Ve,L.classes=L.classes+" "+OVe+" "+(m?NVe:""));const N={labelStyle:"",shape:L.shape,labelText:L.description,classes:L.classes,style:"",id:b,dir:L.dir,domId:Ogt(b,gk),type:L.type,padding:15};if(N.centerLabel=!0,f.note){const B={labelStyle:"",shape:SVe,labelText:f.note.text,classes:DVe,style:"",id:b+FVe+"-"+gk,domId:Ogt(b,gk,ojt),type:L.type,padding:15},j={labelStyle:"",shape:AVe,labelText:f.note.text,classes:L.classes,style:"",id:b+cjt,domId:Ogt(b,gk,ajt),type:"group",padding:0};gk++;const R=b+cjt;i.setNode(R,j),i.setNode(B.id,B),i.setNode(b,N),i.setParent(b,R),i.setParent(B.id,R);let z=b,K=B.id;f.note.position==="left of"&&(z=B.id,K=b),i.setEdge(z,K,{arrowhead:"none",arrowType:"",style:ujt,labelStyle:"",classes:IVe,arrowheadStyle:ljt,labelpos:hjt,labelType:fjt,thickness:djt})}else i.setNode(b,N)}a&&a.id!=="root"&&(Ut.trace("Setting node ",b," to be child of its parent ",a.id),i.setParent(b,a.id)),f.doc&&(Ut.trace("Adding nodes children "),$Ve(i,f,f.doc,p,v,!m))},$Ve=(i,a,f,p,v,m)=>{Ut.trace("items",f),f.forEach(b=>{switch(b.stmt){case PK:qP(i,a,b,p,v,m);break;case RP:qP(i,a,b,p,v,m);break;case Egt:{qP(i,a,b.state1,p,v,m),qP(i,a,b.state2,p,v,m);const E={id:"edge"+gk,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:ujt,labelStyle:"",label:Yr.sanitizeText(b.description,Le()),arrowheadStyle:ljt,labelpos:hjt,labelType:fjt,thickness:djt,classes:sjt};i.setEdge(b.state1.id,b.state2.id,E,gk),gk++}break}})},Ngt=(i,a=BGe)=>{let f=a;if(i.doc)for(let p=0;p<i.doc.length;p++){const v=i.doc[p];v.stmt==="dir"&&(f=v.value)}return f},zVe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:$Rt,db:O5,renderer:{setConf:BVe,getClasses:RVe,draw:async function(i,a,f,p){Ut.info("Drawing state diagram (v2)",a),zK={},p.db.getDirection();const{securityLevel:v,state:m}=Le(),b=m.nodeSpacing||50,E=m.rankSpacing||50;Ut.info(p.db.getRootDocV2()),p.db.extract(p.db.getRootDocV2()),Ut.info(p.db.getRootDocV2());const _=p.db.getStates(),L=new a1({multigraph:!0,compound:!0}).setGraph({rankdir:Ngt(p.db.getRootDocV2()),nodesep:b,ranksep:E,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});qP(L,void 0,p.db.getRootDocV2(),_,p.db,!0);let N;v==="sandbox"&&(N=yr("#i"+a));const B=yr(v==="sandbox"?N.nodes()[0].contentDocument.body:"body"),j=B.select(`[id="${a}"]`),R=B.select("#"+a+" g");await I0t(R,L,["barb"],dL,a);const z=8;$a.insertTitle(j,"statediagramTitleText",m.titleTopMargin,p.db.getDiagramTitle());const K=j.node().getBBox(),it=K.width+z*2,st=K.height+z*2;j.attr("class",dL);const ut=j.node().getBBox();og(j,st,it,m.useMaxWidth);const bt=`${ut.x-z} ${ut.y-z} ${it} ${st}`;Ut.debug(`viewBox ${bt}`),j.attr("viewBox",bt);const mt=document.querySelectorAll('[id="'+a+'"] .edgeLabel .label');for(const yt of mt){const dt=yt.getBBox(),ht=document.createElementNS("http://www.w3.org/2000/svg",$K);ht.setAttribute("rx",0),ht.setAttribute("ry",0),ht.setAttribute("width",dt.width),ht.setAttribute("height",dt.height),yt.insertBefore(ht,yt.firstChild)}}},styles:tjt,init:i=>{i.state||(i.state={}),i.state.arrowMarkerAbsolute=i.arrowMarkerAbsolute,O5.clear()}}},Symbol.toStringTag,{value:"Module"}));var Pgt=function(){var i=function(B,j,R,z){for(R=R||{},z=B.length;z--;R[B[z]]=j);return R},a=[6,8,10,11,12,14,16,17,18],f=[1,9],p=[1,10],v=[1,11],m=[1,12],b=[1,13],E=[1,14],_={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:function(j,R,z,K,it,st,ut){var bt=st.length-1;switch(it){case 1:return st[bt-1];case 2:this.$=[];break;case 3:st[bt-1].push(st[bt]),this.$=st[bt-1];break;case 4:case 5:this.$=st[bt];break;case 6:case 7:this.$=[];break;case 8:K.setDiagramTitle(st[bt].substr(6)),this.$=st[bt].substr(6);break;case 9:this.$=st[bt].trim(),K.setAccTitle(this.$);break;case 10:case 11:this.$=st[bt].trim(),K.setAccDescription(this.$);break;case 12:K.addSection(st[bt].substr(8)),this.$=st[bt].substr(8);break;case 13:K.addTask(st[bt-1],st[bt]),this.$="task";break}},table:[{3:1,4:[1,2]},{1:[3]},i(a,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:f,12:p,14:v,16:m,17:b,18:E},i(a,[2,7],{1:[2,1]}),i(a,[2,3]),{9:15,11:f,12:p,14:v,16:m,17:b,18:E},i(a,[2,5]),i(a,[2,6]),i(a,[2,8]),{13:[1,16]},{15:[1,17]},i(a,[2,11]),i(a,[2,12]),{19:[1,18]},i(a,[2,4]),i(a,[2,9]),i(a,[2,10]),i(a,[2,13])],defaultActions:{},parseError:function(j,R){if(R.recoverable)this.trace(j);else{var z=new Error(j);throw z.hash=R,z}},parse:function(j){var R=this,z=[0],K=[],it=[null],st=[],ut=this.table,bt="",mt=0,yt=0,dt=2,ht=1,wt=st.slice.call(arguments,1),X=Object.create(this.lexer),pt={yy:{}};for(var U in this.yy)Object.prototype.hasOwnProperty.call(this.yy,U)&&(pt.yy[U]=this.yy[U]);X.setInput(j,pt.yy),pt.yy.lexer=X,pt.yy.parser=this,typeof X.yylloc>"u"&&(X.yylloc={});var xt=X.yylloc;st.push(xt);var nt=X.options&&X.options.ranges;typeof pt.yy.parseError=="function"?this.parseError=pt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ot(){var Me;return Me=K.pop()||X.lex()||ht,typeof Me!="number"&&(Me instanceof Array&&(K=Me,Me=K.pop()),Me=R.symbols_[Me]||Me),Me}for(var Nt,qt,Ct,Z,Tt={},Ht,It,Ft,ke;;){if(qt=z[z.length-1],this.defaultActions[qt]?Ct=this.defaultActions[qt]:((Nt===null||typeof Nt>"u")&&(Nt=Ot()),Ct=ut[qt]&&ut[qt][Nt]),typeof Ct>"u"||!Ct.length||!Ct[0]){var pn="";ke=[];for(Ht in ut[qt])this.terminals_[Ht]&&Ht>dt&&ke.push("'"+this.terminals_[Ht]+"'");X.showPosition?pn="Parse error on line "+(mt+1)+`:
`+X.showPosition()+`
Expecting `+ke.join(", ")+", got '"+(this.terminals_[Nt]||Nt)+"'":pn="Parse error on line "+(mt+1)+": Unexpected "+(Nt==ht?"end of input":"'"+(this.terminals_[Nt]||Nt)+"'"),this.parseError(pn,{text:X.match,token:this.terminals_[Nt]||Nt,line:X.yylineno,loc:xt,expected:ke})}if(Ct[0]instanceof Array&&Ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+qt+", token: "+Nt);switch(Ct[0]){case 1:z.push(Nt),it.push(X.yytext),st.push(X.yylloc),z.push(Ct[1]),Nt=null,yt=X.yyleng,bt=X.yytext,mt=X.yylineno,xt=X.yylloc;break;case 2:if(It=this.productions_[Ct[1]][1],Tt.$=it[it.length-It],Tt._$={first_line:st[st.length-(It||1)].first_line,last_line:st[st.length-1].last_line,first_column:st[st.length-(It||1)].first_column,last_column:st[st.length-1].last_column},nt&&(Tt._$.range=[st[st.length-(It||1)].range[0],st[st.length-1].range[1]]),Z=this.performAction.apply(Tt,[bt,yt,mt,pt.yy,Ct[1],it,st].concat(wt)),typeof Z<"u")return Z;It&&(z=z.slice(0,-1*It*2),it=it.slice(0,-1*It),st=st.slice(0,-1*It)),z.push(this.productions_[Ct[1]][0]),it.push(Tt.$),st.push(Tt._$),Ft=ut[z[z.length-2]][z[z.length-1]],z.push(Ft);break;case 3:return!0}}return!0}},L=function(){var B={EOF:1,parseError:function(R,z){if(this.yy.parser)this.yy.parser.parseError(R,z);else throw new Error(R)},setInput:function(j,R){return this.yy=R||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var R=j.match(/(?:\r\n?|\n).*/g);return R?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},unput:function(j){var R=j.length,z=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-R),this.offset-=R;var K=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var it=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===K.length?this.yylloc.first_column:0)+K[K.length-z.length].length-z[0].length:this.yylloc.first_column-R},this.options.ranges&&(this.yylloc.range=[it[0],it[0]+this.yyleng-R]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(j){this.unput(this.match.slice(j))},pastInput:function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var j=this.pastInput(),R=new Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+R+"^"},test_match:function(j,R){var z,K,it;if(this.options.backtrack_lexer&&(it={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(it.yylloc.range=this.yylloc.range.slice(0))),K=j[0].match(/(?:\r\n?|\n).*/g),K&&(this.yylineno+=K.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K?K[K.length-1].length-K[K.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],z=this.performAction.call(this,this.yy,this,R,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var st in it)this[st]=it[st];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var j,R,z,K;this._more||(this.yytext="",this.match="");for(var it=this._currentRules(),st=0;st<it.length;st++)if(z=this._input.match(this.rules[it[st]]),z&&(!R||z[0].length>R[0].length)){if(R=z,K=st,this.options.backtrack_lexer){if(j=this.test_match(z,it[st]),j!==!1)return j;if(this._backtrack){R=!1;continue}else return!1}else if(!this.options.flex)break}return R?(j=this.test_match(R,it[K]),j!==!1?j:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var R=this.next();return R||this.lex()},begin:function(R){this.conditionStack.push(R)},popState:function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},pushState:function(R){this.begin(R)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(R,z,K,it){switch(K){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return B}();_.lexer=L;function N(){this.yy={}}return N.prototype=_,_.Parser=N,new N}();Pgt.parser=Pgt;const qVe=Pgt;let gL="";const Fgt=[],HP=[],GP=[],HVe=function(){Fgt.length=0,HP.length=0,gL="",GP.length=0,ap()},GVe=function(i){gL=i,Fgt.push(i)},VVe=function(){return Fgt},UVe=function(){let i=gjt();const a=100;let f=0;for(;!i&&f<a;)i=gjt(),f++;return HP.push(...GP),HP},WVe=function(){const i=[];return HP.forEach(f=>{f.people&&i.push(...f.people)}),[...new Set(i)].sort()},KVe=function(i,a){const f=a.substr(1).split(":");let p=0,v=[];f.length===1?(p=Number(f[0]),v=[]):(p=Number(f[0]),v=f[1].split(","));const m=v.map(E=>E.trim()),b={section:gL,type:gL,people:m,task:i,score:p};GP.push(b)},YVe=function(i){const a={section:gL,type:gL,description:i,task:i,classes:[]};HP.push(a)},gjt=function(){const i=function(f){return GP[f].processed};let a=!0;for(const[f,p]of GP.entries())i(f),a=a&&p.processed;return a},pjt={getConfig:()=>Le().journey,clear:HVe,setDiagramTitle:Z2,getDiagramTitle:Db,setAccTitle:cg,getAccTitle:op,setAccDescription:cp,getAccDescription:up,addSection:GVe,getSections:VVe,getTasks:UVe,addTask:KVe,addTaskOrg:YVe,getActors:function(){return WVe()}},XVe=i=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${i.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${i.textColor}
  }

  .legend {
    fill: ${i.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${i.textColor}
  }

  .face {
    ${i.faceColor?`fill: ${i.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${i.mainBkg};
    stroke: ${i.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${i.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${i.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${i.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${i.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${i.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${i.tertiaryColor};
    border: 1px solid ${i.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${i.fillType0?`fill: ${i.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${i.fillType0?`fill: ${i.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${i.fillType0?`fill: ${i.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${i.fillType0?`fill: ${i.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${i.fillType0?`fill: ${i.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${i.fillType0?`fill: ${i.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${i.fillType0?`fill: ${i.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${i.fillType0?`fill: ${i.fillType7}`:""};
  }

  .actor-0 {
    ${i.actor0?`fill: ${i.actor0}`:""};
  }
  .actor-1 {
    ${i.actor1?`fill: ${i.actor1}`:""};
  }
  .actor-2 {
    ${i.actor2?`fill: ${i.actor2}`:""};
  }
  .actor-3 {
    ${i.actor3?`fill: ${i.actor3}`:""};
  }
  .actor-4 {
    ${i.actor4?`fill: ${i.actor4}`:""};
  }
  .actor-5 {
    ${i.actor5?`fill: ${i.actor5}`:""};
  }
`,Bgt=function(i,a){return HW(i,a)},QVe=function(i,a){const p=i.append("circle").attr("cx",a.cx).attr("cy",a.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),v=i.append("g");v.append("circle").attr("cx",a.cx-15/3).attr("cy",a.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),v.append("circle").attr("cx",a.cx+15/3).attr("cy",a.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function m(_){const L=LA().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);_.append("path").attr("class","mouth").attr("d",L).attr("transform","translate("+a.cx+","+(a.cy+2)+")")}function b(_){const L=LA().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);_.append("path").attr("class","mouth").attr("d",L).attr("transform","translate("+a.cx+","+(a.cy+7)+")")}function E(_){_.append("line").attr("class","mouth").attr("stroke",2).attr("x1",a.cx-5).attr("y1",a.cy+7).attr("x2",a.cx+5).attr("y2",a.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a.score>3?m(v):a.score<3?b(v):E(v),p},bjt=function(i,a){const f=i.append("circle");return f.attr("cx",a.cx),f.attr("cy",a.cy),f.attr("class","actor-"+a.pos),f.attr("fill",a.fill),f.attr("stroke",a.stroke),f.attr("r",a.r),f.class!==void 0&&f.attr("class",f.class),a.title!==void 0&&f.append("title").text(a.title),f},vjt=function(i,a){return dIe(i,a)},ZVe=function(i,a){function f(v,m,b,E,_){return v+","+m+" "+(v+b)+","+m+" "+(v+b)+","+(m+E-_)+" "+(v+b-_*1.2)+","+(m+E)+" "+v+","+(m+E)}const p=i.append("polygon");p.attr("points",f(a.x,a.y,50,20,7)),p.attr("class","labelBox"),a.y=a.y+a.labelMargin,a.x=a.x+.5*a.labelMargin,vjt(i,a)},JVe=function(i,a,f){const p=i.append("g"),v=fT();v.x=a.x,v.y=a.y,v.fill=a.fill,v.width=f.width*a.taskCount+f.diagramMarginX*(a.taskCount-1),v.height=f.height,v.class="journey-section section-type-"+a.num,v.rx=3,v.ry=3,Bgt(p,v),mjt(f)(a.text,p,v.x,v.y,v.width,v.height,{class:"journey-section section-type-"+a.num},f,a.colour)};let wjt=-1;const tUe=function(i,a,f){const p=a.x+f.width/2,v=i.append("g");wjt++;const m=300+5*30;v.append("line").attr("id","task"+wjt).attr("x1",p).attr("y1",a.y).attr("x2",p).attr("y2",m).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),QVe(v,{cx:p,cy:300+(5-a.score)*30,score:a.score});const b=fT();b.x=a.x,b.y=a.y,b.fill=a.fill,b.width=f.width,b.height=f.height,b.class="task task-type-"+a.num,b.rx=3,b.ry=3,Bgt(v,b);let E=a.x+14;a.people.forEach(_=>{const L=a.actors[_].color,N={cx:E,cy:a.y,r:7,fill:L,stroke:"#000",title:_,pos:a.actors[_].position};bjt(v,N),E+=10}),mjt(f)(a.task,v,b.x,b.y,b.width,b.height,{class:"task"},f,a.colour)},eUe=function(i,a){bNt(i,a)},mjt=function(){function i(v,m,b,E,_,L,N,B){const j=m.append("text").attr("x",b+_/2).attr("y",E+L/2+5).style("font-color",B).style("text-anchor","middle").text(v);p(j,N)}function a(v,m,b,E,_,L,N,B,j){const{taskFontSize:R,taskFontFamily:z}=B,K=v.split(/<br\s*\/?>/gi);for(let it=0;it<K.length;it++){const st=it*R-R*(K.length-1)/2,ut=m.append("text").attr("x",b+_/2).attr("y",E).attr("fill",j).style("text-anchor","middle").style("font-size",R).style("font-family",z);ut.append("tspan").attr("x",b+_/2).attr("dy",st).text(K[it]),ut.attr("y",E+L/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),p(ut,N)}}function f(v,m,b,E,_,L,N,B){const j=m.append("switch"),z=j.append("foreignObject").attr("x",b).attr("y",E).attr("width",_).attr("height",L).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");z.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(v),a(v,j,b,E,_,L,N,B),p(z,N)}function p(v,m){for(const b in m)b in m&&v.attr(b,m[b])}return function(v){return v.textPlacement==="fo"?f:v.textPlacement==="old"?i:a}}(),VP={drawRect:Bgt,drawCircle:bjt,drawSection:JVe,drawText:vjt,drawLabel:ZVe,drawTask:tUe,drawBackgroundRect:eUe,initGraphics:function(i){i.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}},nUe=function(i){Object.keys(i).forEach(function(f){qK[f]=i[f]})},N5={};function rUe(i){const a=Le().journey;let f=60;Object.keys(N5).forEach(p=>{const v=N5[p].color,m={cx:20,cy:f,r:7,fill:v,stroke:"#000",pos:N5[p].position};VP.drawCircle(i,m);const b={x:40,y:f+7,fill:"#666",text:p,textMargin:a.boxTextMargin|5};VP.drawText(i,b),f+=20})}const qK=Le().journey,ST=qK.leftMargin,iUe=function(i,a,f,p){const v=Le().journey,m=Le().securityLevel;let b;m==="sandbox"&&(b=yr("#i"+a));const E=yr(m==="sandbox"?b.nodes()[0].contentDocument.body:"body");rv.init();const _=E.select("#"+a);VP.initGraphics(_);const L=p.db.getTasks(),N=p.db.getDiagramTitle(),B=p.db.getActors();for(const st in N5)delete N5[st];let j=0;B.forEach(st=>{N5[st]={color:v.actorColours[j%v.actorColours.length],position:j},j++}),rUe(_),rv.insert(0,0,ST,Object.keys(N5).length*50),sUe(_,L,0);const R=rv.getBounds();N&&_.append("text").text(N).attr("x",ST).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const z=R.stopy-R.starty+2*v.diagramMarginY,K=ST+R.stopx+2*v.diagramMarginX;og(_,z,K,v.useMaxWidth),_.append("line").attr("x1",ST).attr("y1",v.height*4).attr("x2",K-ST-4).attr("y2",v.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const it=N?70:0;_.attr("viewBox",`${R.startx} -25 ${K} ${z+it}`),_.attr("preserveAspectRatio","xMinYMin meet"),_.attr("height",z+it+25)},rv={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(i,a,f,p){i[a]===void 0?i[a]=f:i[a]=p(f,i[a])},updateBounds:function(i,a,f,p){const v=Le().journey,m=this;let b=0;function E(_){return function(N){b++;const B=m.sequenceItems.length-b+1;m.updateVal(N,"starty",a-B*v.boxMargin,Math.min),m.updateVal(N,"stopy",p+B*v.boxMargin,Math.max),m.updateVal(rv.data,"startx",i-B*v.boxMargin,Math.min),m.updateVal(rv.data,"stopx",f+B*v.boxMargin,Math.max),_!=="activation"&&(m.updateVal(N,"startx",i-B*v.boxMargin,Math.min),m.updateVal(N,"stopx",f+B*v.boxMargin,Math.max),m.updateVal(rv.data,"starty",a-B*v.boxMargin,Math.min),m.updateVal(rv.data,"stopy",p+B*v.boxMargin,Math.max))}}this.sequenceItems.forEach(E())},insert:function(i,a,f,p){const v=Math.min(i,f),m=Math.max(i,f),b=Math.min(a,p),E=Math.max(a,p);this.updateVal(rv.data,"startx",v,Math.min),this.updateVal(rv.data,"starty",b,Math.min),this.updateVal(rv.data,"stopx",m,Math.max),this.updateVal(rv.data,"stopy",E,Math.max),this.updateBounds(v,b,m,E)},bumpVerticalPos:function(i){this.verticalPos=this.verticalPos+i,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},Rgt=qK.sectionFills,yjt=qK.sectionColours,sUe=function(i,a,f){const p=Le().journey;let v="";const m=p.height*2+p.diagramMarginY,b=f+m;let E=0,_="#CCC",L="black",N=0;for(const[B,j]of a.entries()){if(v!==j.section){_=Rgt[E%Rgt.length],N=E%Rgt.length,L=yjt[E%yjt.length];let z=0;const K=j.section;for(let st=B;st<a.length&&a[st].section==K;st++)z=z+1;const it={x:B*p.taskMargin+B*p.width+ST,y:50,text:j.section,fill:_,num:N,colour:L,taskCount:z};VP.drawSection(i,it,p),v=j.section,E++}const R=j.people.reduce((z,K)=>(N5[K]&&(z[K]=N5[K]),z),{});j.x=B*p.taskMargin+B*p.width+ST,j.y=b,j.width=p.diagramMarginX,j.height=p.diagramMarginY,j.colour=L,j.fill=_,j.num=N,j.actors=R,VP.drawTask(i,j,p),rv.insert(j.x,j.y,j.x+j.width+p.taskMargin,300+5*30)}},xjt={setConf:nUe,draw:iUe},aUe=Object.freeze(Object.defineProperty({__proto__:null,diagram:{parser:qVe,db:pjt,renderer:xjt,styles:XVe,init:i=>{xjt.setConf(i.journey),pjt.clear()}}},Symbol.toStringTag,{value:"Module"})),oUe=(i,a,f)=>{const{parentById:p}=f,v=new Set;let m=i;for(;m;){if(v.add(m),m===a)return m;m=p[m]}for(m=a;m;){if(v.has(m))return m;m=p[m]}return"root"};function HK(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kjt={exports:{}};(function(i,a){(function(f){i.exports=f()})(function(){return function(){function f(p,v,m){function b(L,N){if(!v[L]){if(!p[L]){var B=typeof HK=="function"&&HK;if(!N&&B)return B(L,!0);if(E)return E(L,!0);var j=new Error("Cannot find module '"+L+"'");throw j.code="MODULE_NOT_FOUND",j}var R=v[L]={exports:{}};p[L][0].call(R.exports,function(z){var K=p[L][1][z];return b(K||z)},R,R.exports,f,p,v,m)}return v[L].exports}for(var E=typeof HK=="function"&&HK,_=0;_<m.length;_++)b(m[_]);return b}return f}()({1:[function(f,p,v){Object.defineProperty(v,"__esModule",{value:!0});var m=function(){function L(N,B){for(var j=0;j<B.length;j++){var R=B[j];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,B,j){return B&&L(N.prototype,B),j&&L(N,j),N}}();function b(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")}var E=function(){function L(){var N=this,B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=B.defaultLayoutOptions,R=j===void 0?{}:j,z=B.algorithms,K=z===void 0?["layered","stress","mrtree","radial","force","disco","sporeOverlap","sporeCompaction","rectpacking"]:z,it=B.workerFactory,st=B.workerUrl;if(b(this,L),this.defaultLayoutOptions=R,this.initialized=!1,typeof st>"u"&&typeof it>"u")throw new Error("Cannot construct an ELK without both 'workerUrl' and 'workerFactory'.");var ut=it;typeof st<"u"&&typeof it>"u"&&(ut=function(yt){return new Worker(yt)});var bt=ut(st);if(typeof bt.postMessage!="function")throw new TypeError("Created worker does not provide the required 'postMessage' function.");this.worker=new _(bt),this.worker.postMessage({cmd:"register",algorithms:K}).then(function(mt){return N.initialized=!0}).catch(console.err)}return m(L,[{key:"layout",value:function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=j.layoutOptions,z=R===void 0?this.defaultLayoutOptions:R,K=j.logging,it=K===void 0?!1:K,st=j.measureExecutionTime,ut=st===void 0?!1:st;return B?this.worker.postMessage({cmd:"layout",graph:B,layoutOptions:z,options:{logging:it,measureExecutionTime:ut}}):Promise.reject(new Error("Missing mandatory parameter 'graph'."))}},{key:"knownLayoutAlgorithms",value:function(){return this.worker.postMessage({cmd:"algorithms"})}},{key:"knownLayoutOptions",value:function(){return this.worker.postMessage({cmd:"options"})}},{key:"knownLayoutCategories",value:function(){return this.worker.postMessage({cmd:"categories"})}},{key:"terminateWorker",value:function(){this.worker.terminate()}}]),L}();v.default=E;var _=function(){function L(N){var B=this;if(b(this,L),N===void 0)throw new Error("Missing mandatory parameter 'worker'.");this.resolvers={},this.worker=N,this.worker.onmessage=function(j){setTimeout(function(){B.receive(B,j)},0)}}return m(L,[{key:"postMessage",value:function(B){var j=this.id||0;this.id=j+1,B.id=j;var R=this;return new Promise(function(z,K){R.resolvers[j]=function(it,st){it?(R.convertGwtStyleError(it),K(it)):z(st)},R.worker.postMessage(B)})}},{key:"receive",value:function(B,j){var R=j.data,z=B.resolvers[R.id];z&&(delete B.resolvers[R.id],R.error?z(R.error):z(null,R.data))}},{key:"terminate",value:function(){this.worker.terminate&&this.worker.terminate()}},{key:"convertGwtStyleError",value:function(B){if(B){var j=B.__java$exception;j&&(j.cause&&j.cause.backingJsObject&&(B.cause=j.cause.backingJsObject,this.convertGwtStyleError(B.cause)),delete B.__java$exception)}}}]),L}()},{}],2:[function(f,p,v){(function(m){(function(){var b;typeof window<"u"?b=window:typeof m<"u"?b=m:typeof self<"u"&&(b=self);var E;function _(){}function L(){}function N(){}function B(){}function j(){}function R(){}function z(){}function K(){}function it(){}function st(){}function ut(){}function bt(){}function mt(){}function yt(){}function dt(){}function ht(){}function wt(){}function X(){}function pt(){}function U(){}function xt(){}function nt(){}function Ot(){}function Nt(){}function qt(){}function Ct(){}function Z(){}function Tt(){}function Ht(){}function It(){}function Ft(){}function ke(){}function pn(){}function Me(){}function ve(){}function Ge(){}function Ke(){}function we(){}function _e(){}function $t(){}function re(){}function ie(){}function Oe(){}function oe(){}function Ne(){}function me(){}function cn(){}function li(){}function ya(){}function da(){}function Oo(){}function ds(){}function Dr(){}function nr(){}function di(){}function Ee(){}function Yn(){}function He(){}function Ti(){}function gn(){}function ks(){}function qa(){}function La(){}function Gs(){}function No(){}function vs(){}function nu(){}function $s(){}function Lu(){}function fm(){}function av(){}function Uu(){}function Zl(){}function Pa(){}function Al(){}function ua(){}function bc(){}function Cc(){}function ga(){}function Ma(){}function Ha(){}function Ll(){}function _c(){}function ov(){}function Jl(){}function Z1(){}function Fd(){}function J1(){}function Bd(){}function E0(){}function Bi(){}function on(){}function kr(){}function Ei(){}function Jo(){}function vc(){}function tf(){}function Oc(){}function ef(){}function nf(){}function Xi(){}function Es(){}function xa(){}function xi(){}function Wc(){}function Ce(){}function gp(){}function Be(){}function Ff(){}function dg(){}function dm(){}function pk(){}function x3(){}function Ml(){}function T0(){}function cv(){}function F5(){}function jb(){}function B5(){}function l1(){}function td(){}function ed(){}function R5(){}function uv(){}function j5(){}function pp(){}function $5(){}function k3(){}function gm(){}function gg(){}function wL(){}function bl(){}function WP(){}function Sc(){}function QK(){}function $b(){}function ZK(){}function IT(){}function JK(){}function KP(){}function Bf(){}function pm(){}function mL(){}function YP(){}function bp(){}function bm(){}function tY(){}function zb(){}function eY(){}function nY(){}function z5(){}function DT(){}function XP(){}function bk(){}function rY(){}function vk(){}function iY(){}function sY(){}function aY(){}function oY(){}function cY(){}function uY(){}function lY(){}function hY(){}function fY(){}function dY(){}function gY(){}function yL(){}function pY(){}function bY(){}function OT(){}function QP(){}function q5(){}function vY(){}function wY(){}function mY(){}function yY(){}function xY(){}function NT(){}function xL(){}function ZP(){}function E3(){}function T3(){}function kY(){}function rf(){}function H5(){}function EY(){}function wk(){}function Rd(){}function TY(){}function CY(){}function _Y(){}function SY(){}function PT(){}function kL(){}function JP(){}function EL(){}function G5(){}function AY(){}function tF(){}function eF(){}function LY(){}function MY(){}function IY(){}function DY(){}function OY(){}function NY(){}function jd(){}function lv(){}function PY(){}function nF(){}function rF(){}function FY(){}function C3(){}function mk(){}function TL(){}function vm(){}function yk(){}function BY(){}function FT(){}function nd(){}function iF(){}function CL(){}function xk(){}function _L(){}function sF(){}function RY(){}function SL(){}function jY(){}function $Y(){}function aF(){}function V5(){}function oF(){}function U5(){}function zY(){}function AL(){}function qY(){}function HY(){}function GY(){}function VY(){}function cF(){}function UY(){}function WY(){}function KY(){}function uF(){}function YY(){}function XY(){}function QY(){}function lF(){}function ZY(){}function JY(){}function hF(){}function fF(){}function dF(){}function tX(){}function eX(){}function kk(){}function W5(){}function BT(){}function nX(){}function LL(){}function RT(){}function ML(){}function gF(){}function pF(){}function rX(){}function iX(){}function sX(){}function bF(){}function vF(){}function aX(){}function oX(){}function cX(){}function uX(){}function lX(){}function wF(){}function hX(){}function fX(){}function dX(){}function gX(){}function mF(){}function jT(){}function pX(){}function bX(){}function yF(){}function vX(){}function wX(){}function mX(){}function yX(){}function xX(){}function kX(){}function xF(){}function EX(){}function kF(){}function TX(){}function CX(){}function _X(){}function $T(){}function SX(){}function zT(){}function AX(){}function EF(){}function TF(){}function CF(){}function _F(){}function hv(){}function SF(){}function AF(){}function LF(){}function MF(){}function LX(){}function K5(){}function qT(){}function _3(){}function MX(){}function IX(){}function HT(){}function DX(){}function OX(){}function NX(){}function PX(){}function FX(){}function BX(){}function RX(){}function jX(){}function $X(){}function zX(){}function qX(){}function IL(){}function IF(){}function HX(){}function GX(){}function VX(){}function DF(){}function UX(){}function WX(){}function KX(){}function YX(){}function XX(){}function QX(){}function OF(){}function NF(){}function ZX(){}function PF(){}function FF(){}function JX(){}function tQ(){}function eQ(){}function DL(){}function nQ(){}function Ek(){}function rQ(){}function iQ(){}function sQ(){}function BF(){}function aQ(){}function oQ(){}function cQ(){}function uQ(){}function lQ(){}function hQ(){}function fQ(){}function dQ(){}function gQ(){}function pQ(){}function bQ(){}function vQ(){}function Y5(){}function RF(){}function wQ(){}function mQ(){}function yQ(){}function jF(){}function xQ(){}function GT(){}function kQ(){}function EQ(){}function TQ(){}function CQ(){}function _Q(){}function SQ(){}function AQ(){}function LQ(){}function MQ(){}function IQ(){}function X5(){}function DQ(){}function OQ(){}function NQ(){}function PQ(){}function FQ(){}function BQ(){}function RQ(){}function jQ(){}function VT(){}function $Q(){}function zQ(){}function qQ(){}function HQ(){}function GQ(){}function VQ(){}function UQ(){}function WQ(){}function Q5(){}function $F(){}function KQ(){}function OL(){}function YQ(){}function XQ(){}function QQ(){}function ZQ(){}function JQ(){}function tZ(){}function eZ(){}function zF(){}function nZ(){}function qF(){}function rZ(){}function HF(){}function GF(){}function VF(){}function iZ(){}function sZ(){}function UT(){}function NL(){}function WT(){}function aZ(){}function oZ(){}function PL(){}function cZ(){}function uZ(){}function UF(){}function lZ(){}function hZ(){}function fZ(){}function dZ(){}function gZ(){}function pZ(){}function bZ(){}function vZ(){}function wZ(){}function mZ(){}function pg(){}function yZ(){}function wm(){}function WF(){}function xZ(){}function kZ(){}function EZ(){}function TZ(){}function CZ(){}function _Z(){}function SZ(){}function AZ(){}function LZ(){}function Ac(){}function MZ(){}function KT(){}function tc(){}function Kc(){}function zi(){}function FL(){}function IZ(){}function DZ(){}function OZ(){}function Z5(){}function mm(){}function Ue(){}function NZ(){}function PZ(){}function FZ(){}function BZ(){}function RZ(){}function KF(){}function jZ(){}function $Z(){}function BL(){}function zZ(){}function Wu(){}function Mu(){}function qZ(){}function HZ(){}function GZ(){}function ym(){}function fv(){}function vp(){}function rd(){}function J5(){}function YT(){}function Tk(){}function YF(){}function VZ(){}function Ck(){}function XF(){}function UZ(){}function XT(){}function tx(){}function ex(){}function wp(){}function QF(){}function _k(){}function ZF(){}function JF(){}function nx(){}function qb(){}function C0(){}function mp(){}function S3(){}function Sk(){}function QT(){}function tB(){}function WZ(){}function eB(){}function nB(){}function rB(){}function Ak(){}function iB(){}function sB(){}function KZ(){}function Lk(){}function Mk(){}function xm(){}function RL(){}function YZ(){}function XZ(){}function QZ(){}function ZZ(){}function JZ(){}function tJ(){}function eJ(){}function nJ(){}function aB(){}function rJ(){}function iJ(){}function sJ(){}function oB(){}function Ik(){}function ZT(){}function cB(){}function aJ(){}function uB(){}function lB(){}function oJ(){}function JT(){}function km(){}function hB(){}function fB(){}function cJ(){}function uJ(){}function t9(){}function dB(){}function gB(){}function uc(){}function lJ(){}function pB(){}function e9(){}function hJ(){}function fJ(){}function n9(){}function bB(){}function r9(){}function i9(){}function Rf(){}function jL(){}function $L(){}function rx(){}function dJ(){}function gJ(){}function pJ(){}function bJ(){}function Em(){}function vB(){}function ix(){}function h1(){}function wB(){}function mB(){}function yB(){}function xB(){}function kB(){}function EB(){}function jf(){}function hu(){}function vJ(){}function wJ(){}function mJ(){}function fu(){}function s9(){}function TB(){}function CB(){}function sx(){}function yJ(){}function Dk(){}function xJ(){}function _B(){}function kJ(){}function EJ(){}function a9(){}function SB(){}function zL(){}function o9(){}function TJ(){}function CJ(){}function qL(){}function c9(){}function f1(){}function Ok(){}function _J(){}function Nk(){}function HL(){}function Hb(){}function u9(){}function GL(){}function $f(){}function l9(){}function d1(){}function g1(){}function SJ(){}function AJ(){}function A3(){}function Pk(){}function Fk(){}function h9(){}function LJ(){}function ax(){}function VL(){}function AB(){}function MJ(){}function f9(){I9()}function IJ(){Sit()}function LB(){i_()}function UL(){Kz()}function DJ(){P4t()}function d9(){Zf()}function OJ(){U3t()}function NJ(){JI()}function PJ(){wM()}function FJ(){vM()}function BJ(){GM()}function MB(){yGt()}function RJ(){Xx()}function jJ(){LR()}function $J(){IJt()}function IB(){Gee()}function zJ(){ute()}function qJ(){_Qt()}function g9(){J8()}function HJ(){Zp()}function GJ(){Vee()}function VJ(){mZt()}function UJ(){Axt()}function WJ(){Dse()}function KJ(){SQt()}function DB(){Te()}function YJ(){CQt()}function OB(){Uee()}function XJ(){Yne()}function WL(){LQt()}function QJ(){gte()}function NB(){xGt()}function ZJ(){b5t()}function PB(){ay()}function JJ(){mne()}function FB(){rD()}function BB(){nat()}function RB(){ust()}function KL(){hw()}function L3(){fyt()}function p9(){AQt()}function id(){$ue()}function jB(){d5t()}function Bk(){Kst()}function YL(){O$()}function ttt(){eq()}function yp(){ci()}function $B(){bz()}function zB(){y3t()}function qB(){yq()}function th(){pKt()}function XL(){hit()}function HB(){txt()}function Rk(t){On(t)}function b9(t){this.a=t}function jk(t){this.a=t}function GB(t){this.a=t}function ox(t){this.a=t}function dv(t){this.a=t}function $k(t){this.a=t}function VB(t){this.a=t}function ett(t){this.a=t}function QL(t){this.a=t}function M3(t){this.a=t}function ZL(t){this.a=t}function v9(t){this.a=t}function ntt(t){this.a=t}function w9(t){this.a=t}function m9(t){this.a=t}function cx(t){this.a=t}function JL(t){this.a=t}function tM(t){this.a=t}function rtt(t){this.a=t}function itt(t){this.a=t}function stt(t){this.a=t}function UB(t){this.b=t}function att(t){this.c=t}function ott(t){this.a=t}function ctt(t){this.a=t}function utt(t){this.a=t}function ltt(t){this.a=t}function htt(t){this.a=t}function ftt(t){this.a=t}function dtt(t){this.a=t}function gtt(t){this.a=t}function ux(t){this.a=t}function ptt(t){this.a=t}function zk(t){this.a=t}function kh(t){this.a=t}function btt(t){this.a=t}function lx(t){this.a=t}function qk(t){this.a=t}function y9(t){this.a=t}function Hk(t){this.a=t}function bg(){this.a=[]}function vtt(t,e){t.a=e}function ept(t,e){t.a=e}function npt(t,e){t.b=e}function rpt(t,e){t.b=e}function ipt(t,e){t.b=e}function eM(t,e){t.j=e}function spt(t,e){t.g=e}function apt(t,e){t.i=e}function wtt(t,e){t.c=e}function p1(t,e){t.d=e}function mtt(t,e){t.d=e}function opt(t,e){t.c=e}function _0(t,e){t.k=e}function ytt(t,e){t.c=e}function WB(t,e){t.c=e}function KB(t,e){t.a=e}function xtt(t,e){t.a=e}function cpt(t,e){t.f=e}function upt(t,e){t.a=e}function gv(t,e){t.b=e}function nM(t,e){t.d=e}function x9(t,e){t.i=e}function YB(t,e){t.o=e}function lpt(t,e){t.r=e}function hpt(t,e){t.a=e}function XB(t,e){t.b=e}function pv(t,e){t.e=e}function ktt(t,e){t.f=e}function k9(t,e){t.g=e}function hx(t,e){t.e=e}function fpt(t,e){t.f=e}function Gk(t,e){t.f=e}function Ett(t,e){t.n=e}function vg(t,e){t.a=e}function dpt(t,e){t.a=e}function I3(t,e){t.c=e}function Ttt(t,e){t.c=e}function Ctt(t,e){t.d=e}function QB(t,e){t.e=e}function ZB(t,e){t.g=e}function _tt(t,e){t.a=e}function Vk(t,e){t.c=e}function E9(t,e){t.d=e}function gpt(t,e){t.e=e}function Stt(t,e){t.f=e}function Att(t,e){t.j=e}function Ltt(t,e){t.a=e}function ppt(t,e){t.b=e}function wc(t,e){t.a=e}function JB(t){t.b=t.a}function Mtt(t){t.c=t.d.d}function fx(t){this.d=t}function wg(t){this.a=t}function Tm(t){this.a=t}function rM(t){this.a=t}function b1(t){this.a=t}function dx(t){this.a=t}function Itt(t){this.a=t}function tR(t){this.a=t}function D3(t){this.a=t}function iM(t){this.a=t}function Cm(t){this.a=t}function eR(t){this.a=t}function v1(t){this.a=t}function y(t){this.a=t}function g(t){this.a=t}function x(t){this.b=t}function T(t){this.b=t}function A(t){this.b=t}function D(t){this.a=t}function O(t){this.a=t}function $(t){this.a=t}function q(t){this.c=t}function S(t){this.c=t}function G(t){this.c=t}function W(t){this.a=t}function et(t){this.a=t}function at(t){this.a=t}function lt(t){this.a=t}function ft(t){this.a=t}function At(t){this.a=t}function kt(t){this.a=t}function Mt(t){this.a=t}function Dt(t){this.a=t}function jt(t){this.a=t}function Zt(t){this.a=t}function Kt(t){this.a=t}function zt(t){this.a=t}function ee(t){this.a=t}function Vt(t){this.a=t}function fe(t){this.a=t}function ge(t){this.a=t}function ne(t){this.a=t}function Pe(t){this.a=t}function pe(t){this.a=t}function bn(t){this.a=t}function ze(t){this.a=t}function Ve(t){this.a=t}function En(t){this.a=t}function Dn(t){this.a=t}function Kn(t){this.a=t}function Sn(t){this.a=t}function Wn(t){this.a=t}function rr(t){this.a=t}function vr(t){this.a=t}function ur(t){this.a=t}function tr(t){this.a=t}function wn(t){this.a=t}function gr(t){this.a=t}function fr(t){this.a=t}function Jr(t){this.a=t}function wi(t){this.a=t}function Ks(t){this.a=t}function ka(t){this.a=t}function Ci(t){this.a=t}function hi(t){this.a=t}function gs(t){this.a=t}function qi(t){this.a=t}function Si(t){this.a=t}function Ui(t){this.a=t}function Ga(t){this.e=t}function Ys(t){this.a=t}function zs(t){this.a=t}function Er(t){this.a=t}function Qt(t){this.a=t}function jn(t){this.a=t}function _r(t){this.a=t}function ir(t){this.a=t}function sr(t){this.a=t}function Ia(t){this.a=t}function $r(t){this.a=t}function Ki(t){this.a=t}function Po(t){this.a=t}function Nc(t){this.a=t}function Za(t){this.a=t}function mc(t){this.a=t}function Ea(t){this.a=t}function Ja(t){this.a=t}function vl(t){this.a=t}function zf(t){this.a=t}function xp(t){this.a=t}function kp(t){this.a=t}function qf(t){this.a=t}function mg(t){this.a=t}function sd(t){this.a=t}function bv(t){this.a=t}function _m(t){this.a=t}function gx(t){this.a=t}function O3(t){this.a=t}function px(t){this.a=t}function T9(t){this.a=t}function N3(t){this.a=t}function $d(t){this.a=t}function w1(t){this.a=t}function zd(t){this.a=t}function C9(t){this.a=t}function Gb(t){this.a=t}function nR(t){this.a=t}function Dtt(t){this.a=t}function Ott(t){this.a=t}function Ntt(t){this.a=t}function Ptt(t){this.a=t}function Ftt(t){this.a=t}function Btt(t){this.a=t}function Rtt(t){this.a=t}function Uk(t){this.a=t}function sM(t){this.a=t}function _9(t){this.a=t}function rR(t){this.a=t}function iR(t){this.a=t}function jtt(t){this.a=t}function Ep(t){this.a=t}function aM(t){this.a=t}function sR(t){this.a=t}function Wk(t){this.c=t}function Tp(t){this.b=t}function $tt(t){this.a=t}function l$t(t){this.a=t}function h$t(t){this.a=t}function f$t(t){this.a=t}function d$t(t){this.a=t}function g$t(t){this.a=t}function p$t(t){this.a=t}function b$t(t){this.a=t}function v$t(t){this.a=t}function w$t(t){this.a=t}function m$t(t){this.a=t}function y$t(t){this.a=t}function x$t(t){this.a=t}function k$t(t){this.a=t}function E$t(t){this.a=t}function T$t(t){this.a=t}function C$t(t){this.a=t}function _$t(t){this.a=t}function S$t(t){this.a=t}function A$t(t){this.a=t}function L$t(t){this.a=t}function M$t(t){this.a=t}function I$t(t){this.a=t}function D$t(t){this.a=t}function Cp(t){this.a=t}function bx(t){this.a=t}function O$t(t){this.a=t}function N$t(t){this.a=t}function P$t(t){this.a=t}function F$t(t){this.a=t}function B$t(t){this.a=t}function R$t(t){this.a=t}function j$t(t){this.a=t}function $$t(t){this.a=t}function z$t(t){this.a=t}function q$t(t){this.a=t}function H$t(t){this.a=t}function G$t(t){this.a=t}function V$t(t){this.a=t}function U$t(t){this.a=t}function W$t(t){this.a=t}function K$t(t){this.a=t}function aR(t){this.a=t}function Y$t(t){this.a=t}function X$t(t){this.a=t}function Q$t(t){this.a=t}function Z$t(t){this.a=t}function J$t(t){this.a=t}function tzt(t){this.a=t}function ezt(t){this.a=t}function nzt(t){this.a=t}function rzt(t){this.a=t}function izt(t){this.a=t}function szt(t){this.a=t}function azt(t){this.a=t}function ozt(t){this.a=t}function czt(t){this.a=t}function uzt(t){this.a=t}function lzt(t){this.a=t}function hzt(t){this.a=t}function fzt(t){this.a=t}function dzt(t){this.a=t}function gzt(t){this.a=t}function pzt(t){this.a=t}function bzt(t){this.a=t}function vzt(t){this.a=t}function wzt(t){this.a=t}function mzt(t){this.a=t}function yzt(t){this.a=t}function xzt(t){this.a=t}function kzt(t){this.a=t}function bpt(t){this.a=t}function Gi(t){this.b=t}function Ezt(t){this.f=t}function vpt(t){this.a=t}function Tzt(t){this.a=t}function Czt(t){this.a=t}function _zt(t){this.a=t}function Szt(t){this.a=t}function Azt(t){this.a=t}function Lzt(t){this.a=t}function Mzt(t){this.a=t}function Izt(t){this.a=t}function oM(t){this.a=t}function Dzt(t){this.a=t}function Ozt(t){this.b=t}function wpt(t){this.c=t}function oR(t){this.e=t}function Nzt(t){this.a=t}function cR(t){this.a=t}function uR(t){this.a=t}function ztt(t){this.a=t}function Pzt(t){this.a=t}function Fzt(t){this.d=t}function mpt(t){this.a=t}function ypt(t){this.a=t}function vv(t){this.e=t}function KWe(){this.a=0}function P3(){pUt(this)}function le(){Yet(this)}function Cr(){Yu(this)}function qtt(){mXt(this)}function Bzt(){}function wv(){this.c=tLt}function YWe(t,e){e.Wb(t)}function Rzt(t,e){t.b+=e}function jzt(t){t.b=new set}function rt(t){return t.e}function XWe(t){return t.a}function QWe(t){return t.a}function ZWe(t){return t.a}function JWe(t){return t.a}function tKe(t){return t.a}function eKe(){return null}function nKe(){return null}function rKe(){abt(),g5n()}function iKe(t){t.b.tf(t.e)}function S9(t,e){t.b=e-t.b}function A9(t,e){t.a=e-t.a}function $zt(t,e){e.ad(t.a)}function sKe(t,e){Fs(e,t)}function aKe(t,e,n){t.Od(n,e)}function cM(t,e){t.e=e,e.b=t}function xpt(t){hd(),this.a=t}function zzt(t){hd(),this.a=t}function qzt(t){hd(),this.a=t}function kpt(t){Gm(),this.a=t}function Hzt(t){T8(),kut.be(t)}function Vb(){ZUt.call(this)}function Ept(){ZUt.call(this)}function Tpt(){Vb.call(this)}function Htt(){Vb.call(this)}function Gzt(){Vb.call(this)}function uM(){Vb.call(this)}function Iu(){Vb.call(this)}function L9(){Vb.call(this)}function Or(){Vb.call(this)}function eh(){Vb.call(this)}function Vzt(){Vb.call(this)}function lc(){Vb.call(this)}function Uzt(){Vb.call(this)}function Wzt(){this.a=this}function lR(){this.Bb|=256}function Kzt(){this.b=new XVt}function Cpt(){Cpt=Z,new Cr}function _pt(){Tpt.call(this)}function Yzt(t,e){t.length=e}function hR(t,e){ue(t.a,e)}function oKe(t,e){B4t(t.c,e)}function cKe(t,e){Ns(t.b,e)}function uKe(t,e){qz(t.a,e)}function lKe(t,e){Fit(t.a,e)}function Kk(t,e){mi(t.e,e)}function vx(t){iq(t.c,t.b)}function hKe(t,e){t.kc().Nb(e)}function Spt(t){this.a=uln(t)}function qs(){this.a=new Cr}function Xzt(){this.a=new Cr}function fR(){this.a=new le}function Gtt(){this.a=new le}function Apt(){this.a=new le}function Eh(){this.a=new av}function Ub(){this.a=new SJt}function Lpt(){this.a=new F5}function Mpt(){this.a=new fGt}function Qzt(){this.a=new tZt}function Ipt(){this.a=new bQt}function Dpt(){this.a=new $Wt}function Zzt(){this.a=new le}function Opt(){this.a=new le}function Jzt(){this.a=new le}function tqt(){this.a=new le}function eqt(){this.d=new le}function nqt(){this.a=new qs}function rqt(){this.a=new Cr}function iqt(){this.b=new Cr}function sqt(){this.b=new le}function Npt(){this.e=new le}function aqt(){this.d=new le}function oqt(){this.a=new HJ}function cqt(){le.call(this)}function Ppt(){fR.call(this)}function uqt(){xj.call(this)}function lqt(){Opt.call(this)}function Vtt(){M9.call(this)}function M9(){Bzt.call(this)}function wx(){Bzt.call(this)}function Fpt(){wx.call(this)}function hqt(){WXt.call(this)}function fqt(){WXt.call(this)}function dqt(){Hpt.call(this)}function gqt(){Hpt.call(this)}function pqt(){Hpt.call(this)}function bqt(){Gpt.call(this)}function Du(){Qi.call(this)}function Bpt(){ym.call(this)}function Rpt(){ym.call(this)}function vqt(){Oqt.call(this)}function wqt(){Oqt.call(this)}function mqt(){Cr.call(this)}function yqt(){Cr.call(this)}function xqt(){Cr.call(this)}function kqt(){qs.call(this)}function Utt(){zee.call(this)}function Eqt(){lR.call(this)}function Wtt(){g2t.call(this)}function Ktt(){g2t.call(this)}function jpt(){Cr.call(this)}function Ytt(){Cr.call(this)}function Tqt(){Cr.call(this)}function $pt(){_k.call(this)}function Cqt(){_k.call(this)}function _qt(){$pt.call(this)}function Sqt(){VL.call(this)}function Aqt(t){fee.call(this,t)}function Lqt(t){fee.call(this,t)}function zpt(t){QL.call(this,t)}function qpt(t){nGt.call(this,t)}function fKe(t){qpt.call(this,t)}function dKe(t){nGt.call(this,t)}function Yk(){this.a=new Qi}function Hpt(){this.a=new qs}function Gpt(){this.a=new Cr}function Mqt(){this.a=new le}function Iqt(){this.j=new le}function Vpt(){this.a=new VF}function Dqt(){this.a=new SHt}function Oqt(){this.a=new QF}function Xtt(){Xtt=Z,but=new Qqt}function Qtt(){Qtt=Z,put=new Xqt}function I9(){I9=Z,gut=new L}function dR(){dR=Z,mut=new XUt}function gKe(t){qpt.call(this,t)}function pKe(t){qpt.call(this,t)}function Nqt(t){Lrt.call(this,t)}function Pqt(t){Lrt.call(this,t)}function Fqt(t){cKt.call(this,t)}function Ztt(t){P0n.call(this,t)}function mv(t){Mm.call(this,t)}function D9(t){CR.call(this,t)}function Upt(t){CR.call(this,t)}function Bqt(t){CR.call(this,t)}function Go(t){kYt.call(this,t)}function Rqt(t){Go.call(this,t)}function mx(){Hk.call(this,{})}function gR(t){u8(),this.a=t}function O9(t){t.b=null,t.c=0}function bKe(t,e){t.e=e,jce(t,e)}function vKe(t,e){t.a=e,xgn(t)}function Jtt(t,e,n){t.a[e.g]=n}function wKe(t,e,n){B1n(n,t,e)}function mKe(t,e){GQe(e.i,t.n)}function jqt(t,e){Vcn(t).td(e)}function yKe(t,e){return t*t/e}function $qt(t,e){return t.g-e.g}function xKe(t){return new y9(t)}function kKe(t){return new Hm(t)}function pR(t){Go.call(this,t)}function mo(t){Go.call(this,t)}function zqt(t){Go.call(this,t)}function tet(t){kYt.call(this,t)}function eet(t){lyt(),this.a=t}function qqt(t){gKt(),this.a=t}function Sm(t){Ont(),this.f=t}function net(t){Ont(),this.f=t}function Xk(t){Go.call(this,t)}function Pn(t){Go.call(this,t)}function Fo(t){Go.call(this,t)}function Hqt(t){Go.call(this,t)}function yx(t){Go.call(this,t)}function je(t){return On(t),t}function Xt(t){return On(t),t}function lM(t){return On(t),t}function Wpt(t){return On(t),t}function EKe(t){return On(t),t}function N9(t){return t.b==t.c}function Am(t){return!!t&&t.b}function TKe(t){return!!t&&t.k}function CKe(t){return!!t&&t.j}function wl(t){On(t),this.a=t}function Kpt(t){return l2(t),t}function P9(t){awt(t,t.length)}function yg(t){Go.call(this,t)}function ad(t){Go.call(this,t)}function ret(t){Go.call(this,t)}function F3(t){Go.call(this,t)}function F9(t){Go.call(this,t)}function Fr(t){Go.call(this,t)}function iet(t){D2t.call(this,t,0)}function set(){$wt.call(this,12,3)}function Ypt(){Ypt=Z,X8t=new pt}function Gqt(){Gqt=Z,Y8t=new _}function bR(){bR=Z,sS=new mt}function Vqt(){Vqt=Z,yge=new dt}function Uqt(){throw rt(new Or)}function Xpt(){throw rt(new Or)}function Wqt(){throw rt(new Or)}function _Ke(){throw rt(new Or)}function SKe(){throw rt(new Or)}function AKe(){throw rt(new Or)}function aet(){this.a=Br(Ar(Ka))}function xx(t){hd(),this.a=Ar(t)}function Kqt(t,e){t.Td(e),e.Sd(t)}function LKe(t,e){t.a.ec().Mc(e)}function MKe(t,e,n){t.c.lf(e,n)}function Qpt(t){mo.call(this,t)}function od(t){Pn.call(this,t)}function xg(){dx.call(this,"")}function B9(){dx.call(this,"")}function _p(){dx.call(this,"")}function Lm(){dx.call(this,"")}function Zpt(t){mo.call(this,t)}function Qk(t){T.call(this,t)}function oet(t){fj.call(this,t)}function Yqt(t){Qk.call(this,t)}function Xqt(){w9.call(this,null)}function Qqt(){w9.call(this,null)}function vR(){vR=Z,T8()}function Zqt(){Zqt=Z,Mge=ldn()}function Jqt(t){return t.a?t.b:0}function IKe(t){return t.a?t.b:0}function DKe(t,e){return t.a-e.a}function OKe(t,e){return t.a-e.a}function NKe(t,e){return t.a-e.a}function wR(t,e){return Mmt(t,e)}function ot(t,e){return mQt(t,e)}function PKe(t,e){return e in t.a}function tHt(t,e){return t.f=e,t}function FKe(t,e){return t.b=e,t}function eHt(t,e){return t.c=e,t}function BKe(t,e){return t.g=e,t}function Jpt(t,e){return t.a=e,t}function tbt(t,e){return t.f=e,t}function RKe(t,e){return t.k=e,t}function ebt(t,e){return t.a=e,t}function jKe(t,e){return t.e=e,t}function nbt(t,e){return t.e=e,t}function $Ke(t,e){return t.f=e,t}function zKe(t,e){t.b=!0,t.d=e}function qKe(t,e){t.b=new yo(e)}function HKe(t,e,n){e.td(t.a[n])}function GKe(t,e,n){e.we(t.a[n])}function VKe(t,e){return t.b-e.b}function UKe(t,e){return t.g-e.g}function WKe(t,e){return t.s-e.s}function KKe(t,e){return t?0:e-1}function nHt(t,e){return t?0:e-1}function YKe(t,e){return t?e-1:0}function XKe(t,e){return e.Yf(t)}function yv(t,e){return t.b=e,t}function mR(t,e){return t.a=e,t}function xv(t,e){return t.c=e,t}function kv(t,e){return t.d=e,t}function Ev(t,e){return t.e=e,t}function rbt(t,e){return t.f=e,t}function R9(t,e){return t.a=e,t}function Zk(t,e){return t.b=e,t}function Jk(t,e){return t.c=e,t}function Ze(t,e){return t.c=e,t}function kn(t,e){return t.b=e,t}function Je(t,e){return t.d=e,t}function tn(t,e){return t.e=e,t}function QKe(t,e){return t.f=e,t}function en(t,e){return t.g=e,t}function nn(t,e){return t.a=e,t}function rn(t,e){return t.i=e,t}function sn(t,e){return t.j=e,t}function rHt(t,e){return t.k=e,t}function ZKe(t,e){return t.j=e,t}function JKe(t,e){Zp(),Uo(e,t)}function tYe(t,e,n){Ktn(t.a,e,n)}function iHt(t){xXt.call(this,t)}function ibt(t){xXt.call(this,t)}function yR(t){bnt.call(this,t)}function sHt(t){vln.call(this,t)}function Sp(t){Kv.call(this,t)}function aHt(t){irt.call(this,t)}function oHt(t){irt.call(this,t)}function cHt(){u2t.call(this,"")}function Ta(){this.a=0,this.b=0}function uHt(){this.b=0,this.a=0}function lHt(t,e){t.b=0,ty(t,e)}function eYe(t,e){t.c=e,t.b=!0}function hHt(t,e){return t.c._b(e)}function Hf(t){return t.e&&t.e()}function cet(t){return t?t.d:null}function fHt(t,e){return Rre(t.b,e)}function nYe(t){return t?t.g:null}function rYe(t){return t?t.i:null}function Ap(t){return L0(t),t.o}function Tv(){Tv=Z,A4e=x1n()}function dHt(){dHt=Z,ta=Odn()}function t8(){t8=Z,JAt=E1n()}function gHt(){gHt=Z,f5e=k1n()}function sbt(){sbt=Z,pc=wgn()}function abt(){abt=Z,Tb=z8()}function pHt(){throw rt(new Or)}function bHt(){throw rt(new Or)}function vHt(){throw rt(new Or)}function wHt(){throw rt(new Or)}function mHt(){throw rt(new Or)}function yHt(){throw rt(new Or)}function xR(t){this.a=new kx(t)}function obt(t){phe(),S5n(this,t)}function Lp(t){this.a=new Bnt(t)}function B3(t,e){for(;t.ye(e););}function cbt(t,e){for(;t.sd(e););}function R3(t,e){return t.a+=e,t}function uet(t,e){return t.a+=e,t}function kg(t,e){return t.a+=e,t}function Cv(t,e){return t.a+=e,t}function j9(t){return $p(t),t.a}function kR(t){return t.b!=t.d.c}function xHt(t){return t.l|t.m<<22}function ubt(t,e){return t.d[e.p]}function kHt(t,e){return ovn(t,e)}function lbt(t,e,n){t.splice(e,n)}function EHt(t){t.c?aue(t):oue(t)}function ER(t){this.a=0,this.b=t}function THt(){this.a=new dD(f_t)}function CHt(){this.b=new dD(ZCt)}function _Ht(){this.b=new dD(zht)}function SHt(){this.b=new dD(zht)}function AHt(){throw rt(new Or)}function LHt(){throw rt(new Or)}function MHt(){throw rt(new Or)}function IHt(){throw rt(new Or)}function DHt(){throw rt(new Or)}function OHt(){throw rt(new Or)}function NHt(){throw rt(new Or)}function PHt(){throw rt(new Or)}function FHt(){throw rt(new Or)}function BHt(){throw rt(new Or)}function iYe(){throw rt(new lc)}function sYe(){throw rt(new lc)}function hM(t){this.a=new RHt(t)}function RHt(t){bon(this,t,bdn())}function fM(t){return!t||sXt(t)}function dM(t){return U1[t]!=-1}function aYe(){zH!=0&&(zH=0),qH=-1}function jHt(){dut==null&&(dut=[])}function oYe(t,e){Hst(Wt(t.a),e)}function cYe(t,e){Hst(Wt(t.a),e)}function gM(t,e){W3.call(this,t,e)}function e8(t,e){gM.call(this,t,e)}function hbt(t,e){this.b=t,this.c=e}function $Ht(t,e){this.b=t,this.a=e}function zHt(t,e){this.a=t,this.b=e}function qHt(t,e){this.a=t,this.b=e}function HHt(t,e){this.a=t,this.b=e}function GHt(t,e){this.a=t,this.b=e}function VHt(t,e){this.a=t,this.b=e}function UHt(t,e){this.a=t,this.b=e}function WHt(t,e){this.a=t,this.b=e}function KHt(t,e){this.a=t,this.b=e}function YHt(t,e){this.b=t,this.a=e}function XHt(t,e){this.b=t,this.a=e}function QHt(t,e){this.b=t,this.a=e}function ZHt(t,e){this.b=t,this.a=e}function Gr(t,e){this.f=t,this.g=e}function n8(t,e){this.e=t,this.d=e}function _v(t,e){this.g=t,this.i=e}function het(t,e){this.a=t,this.b=e}function JHt(t,e){this.a=t,this.f=e}function tGt(t,e){this.b=t,this.c=e}function uYe(t,e){this.a=t,this.b=e}function eGt(t,e){this.a=t,this.b=e}function fet(t,e){this.a=t,this.b=e}function nGt(t){x2t(t.dc()),this.c=t}function TR(t){this.b=u(Ar(t),83)}function rGt(t){this.a=u(Ar(t),83)}function Mm(t){this.a=u(Ar(t),15)}function iGt(t){this.a=u(Ar(t),15)}function CR(t){this.b=u(Ar(t),47)}function _R(){this.q=new b.Date}function qd(){qd=Z,hEt=new Tt}function r8(){r8=Z,ZE=new Nt}function $9(t){return t.f.c+t.g.c}function pM(t,e){return t.b.Hc(e)}function sGt(t,e){return t.b.Ic(e)}function aGt(t,e){return t.b.Qc(e)}function oGt(t,e){return t.b.Hc(e)}function cGt(t,e){return t.c.uc(e)}function S0(t,e){return t.a._b(e)}function uGt(t,e){return yi(t.c,e)}function lGt(t,e){return kl(t.b,e)}function hGt(t,e){return t>e&&e<A_}function lYe(t,e){return t.Gc(e),t}function hYe(t,e){return Ua(t,e),t}function fYe(t){return tXt(),t?mge:wge}function kx(t){Xne.call(this,t,0)}function fGt(){Bnt.call(this,null)}function fbt(){jrt.call(this,null)}function Ex(t){this.c=t,Vte(this)}function Qi(){EUt(this),_h(this)}function us(t,e){$p(t),t.a.Nb(e)}function dGt(t,e){return t.Gc(e),t}function dYe(t,e){return t.a.f=e,t}function gGt(t,e){return t.a.d=e,t}function pGt(t,e){return t.a.g=e,t}function bGt(t,e){return t.a.j=e,t}function sf(t,e){return t.a.a=e,t}function af(t,e){return t.a.d=e,t}function of(t,e){return t.a.e=e,t}function cf(t,e){return t.a.g=e,t}function bM(t,e){return t.a.f=e,t}function gYe(t){return t.b=!1,t}function i8(){i8=Z,EEt=new QVt}function SR(){SR=Z,Dge=new ZVt}function s8(){s8=Z,LEt=new Oe}function vGt(){vGt=Z,Dbe=new pm}function AR(){AR=Z,Rut=new uWt}function Wb(){Wb=Z,JE=new gn}function z9(){z9=Z,Nbe=new mL}function wGt(){wGt=Z,qge=new No}function dbt(){dbt=Z,xbe=new uv}function vM(){vM=Z,Bbe=new Ta}function mGt(){mGt=Z,kbe=new wL}function gbt(){gbt=Z,Ebe=new gYt}function pbt(){pbt=Z,_7t=new gm}function wM(){wM=Z,Rbe=new OT}function yGt(){yGt=Z,qbe=new lv}function q9(){q9=Z,Kbe=new SX}function LR(){LR=Z,z4=new RX}function xGt(){xGt=Z,bye=new Hs}function MR(){MR=Z,qht=new EGt}function IR(){IR=Z,Hht=new EWt}function H9(){H9=Z,jO=new dXt}function DR(){DR=Z,Rwe=new $Z}function kGt(){Hee(),this.c=new set}function EGt(){Gr.call(this,h1e,0)}function Sv(t,e){p2(t.c.b,e.c,e)}function G9(t,e){p2(t.c.c,e.b,e)}function pYe(t,e,n){xo(t.d,e.f,n)}function bYe(t,e,n,r){Uhn(t,r,e,n)}function vYe(t,e,n,r){g2n(r,t,e,n)}function wYe(t,e,n,r){I4n(r,t,e,n)}function OR(t,e){return t.a=e.g,t}function TGt(t,e){return e1n(t.a,e)}function mYe(t){return t.b?t.b:t.a}function yYe(t){return(t.c+t.a)/2}function Im(){Im=Z,_4e=new GZ}function CGt(){CGt=Z,N4e=new VZ}function _Gt(){_Gt=Z,W4e=new yqt}function SGt(){SGt=Z,K4e=new xqt}function Mp(){Mp=Z,Uh=new jpt}function bbt(){bbt=Z,ZAt=new Tqt}function V9(){V9=Z,Sft=new LUt}function Eg(){Eg=Z,hN=new MUt}function det(){det=Z,c5e=new pJ}function to(){to=Z,l5e=new bJ}function NR(){NR=Z,nU=new Cr}function vbt(){vbt=Z,uLt=new le}function Ip(){Ip=Z,Ab=new MJ}function xYe(t){b.clearTimeout(t)}function wbt(t){this.a=u(Ar(t),224)}function PR(t){return u(t,42).cd()}function mM(t){return t.b<t.d.gc()}function AGt(t,e){return Mnt(t.a,e)}function LGt(t,e){return yc(t,e)>0}function get(t,e){return yc(t,e)<0}function U9(t,e){return t.a.get(e)}function kYe(t,e){return e.split(t)}function MGt(t,e){return kl(t.e,e)}function mbt(t){return On(t),!1}function FR(t){_n.call(this,t,21)}function EYe(t,e){oQt.call(this,t,e)}function BR(t,e){Gr.call(this,t,e)}function pet(t,e){Gr.call(this,t,e)}function ybt(t){Xnt(),cKt.call(this,t)}function xbt(t,e){hYt(t,t.length,e)}function yM(t,e){$Yt(t,t.length,e)}function TYe(t,e,n){e.ud(t.a.Ge(n))}function CYe(t,e,n){e.we(t.a.Fe(n))}function _Ye(t,e,n){e.td(t.a.Kb(n))}function SYe(t,e,n){t.Mb(n)&&e.td(n)}function W9(t,e,n){t.splice(e,0,n)}function AYe(t,e){return Nu(t.e,e)}function RR(t,e){this.d=t,this.e=e}function IGt(t,e){this.b=t,this.a=e}function DGt(t,e){this.b=t,this.a=e}function kbt(t,e){this.b=t,this.a=e}function OGt(t,e){this.a=t,this.b=e}function NGt(t,e){this.a=t,this.b=e}function PGt(t,e){this.a=t,this.b=e}function FGt(t,e){this.a=t,this.b=e}function Tx(t,e){this.a=t,this.b=e}function Ebt(t,e){this.b=t,this.a=e}function Tbt(t,e){this.b=t,this.a=e}function jR(t,e){Gr.call(this,t,e)}function $R(t,e){Gr.call(this,t,e)}function Cbt(t,e){Gr.call(this,t,e)}function _bt(t,e){Gr.call(this,t,e)}function j3(t,e){Gr.call(this,t,e)}function bet(t,e){Gr.call(this,t,e)}function vet(t,e){Gr.call(this,t,e)}function wet(t,e){Gr.call(this,t,e)}function zR(t,e){Gr.call(this,t,e)}function Sbt(t,e){Gr.call(this,t,e)}function met(t,e){Gr.call(this,t,e)}function xM(t,e){Gr.call(this,t,e)}function qR(t,e){Gr.call(this,t,e)}function yet(t,e){Gr.call(this,t,e)}function K9(t,e){Gr.call(this,t,e)}function Abt(t,e){Gr.call(this,t,e)}function ws(t,e){Gr.call(this,t,e)}function HR(t,e){Gr.call(this,t,e)}function BGt(t,e){this.a=t,this.b=e}function RGt(t,e){this.a=t,this.b=e}function jGt(t,e){this.a=t,this.b=e}function $Gt(t,e){this.a=t,this.b=e}function zGt(t,e){this.a=t,this.b=e}function qGt(t,e){this.a=t,this.b=e}function HGt(t,e){this.a=t,this.b=e}function GGt(t,e){this.a=t,this.b=e}function VGt(t,e){this.a=t,this.b=e}function Lbt(t,e){this.b=t,this.a=e}function UGt(t,e){this.b=t,this.a=e}function WGt(t,e){this.b=t,this.a=e}function KGt(t,e){this.b=t,this.a=e}function a8(t,e){this.c=t,this.d=e}function YGt(t,e){this.e=t,this.d=e}function XGt(t,e){this.a=t,this.b=e}function QGt(t,e){this.b=e,this.c=t}function GR(t,e){Gr.call(this,t,e)}function kM(t,e){Gr.call(this,t,e)}function xet(t,e){Gr.call(this,t,e)}function Y9(t,e){Gr.call(this,t,e)}function Mbt(t,e){Gr.call(this,t,e)}function ket(t,e){Gr.call(this,t,e)}function Eet(t,e){Gr.call(this,t,e)}function EM(t,e){Gr.call(this,t,e)}function Ibt(t,e){Gr.call(this,t,e)}function Tet(t,e){Gr.call(this,t,e)}function X9(t,e){Gr.call(this,t,e)}function Dbt(t,e){Gr.call(this,t,e)}function Q9(t,e){Gr.call(this,t,e)}function Z9(t,e){Gr.call(this,t,e)}function Dm(t,e){Gr.call(this,t,e)}function Cet(t,e){Gr.call(this,t,e)}function _et(t,e){Gr.call(this,t,e)}function Obt(t,e){Gr.call(this,t,e)}function J9(t,e){Gr.call(this,t,e)}function Aet(t,e){Gr.call(this,t,e)}function VR(t,e){Gr.call(this,t,e)}function TM(t,e){Gr.call(this,t,e)}function CM(t,e){Gr.call(this,t,e)}function Cx(t,e){Gr.call(this,t,e)}function Let(t,e){Gr.call(this,t,e)}function Nbt(t,e){Gr.call(this,t,e)}function Met(t,e){Gr.call(this,t,e)}function Iet(t,e){Gr.call(this,t,e)}function Pbt(t,e){Gr.call(this,t,e)}function Det(t,e){Gr.call(this,t,e)}function Oet(t,e){Gr.call(this,t,e)}function Net(t,e){Gr.call(this,t,e)}function Pet(t,e){Gr.call(this,t,e)}function Fbt(t,e){Gr.call(this,t,e)}function ZGt(t,e){this.b=t,this.a=e}function JGt(t,e){this.a=t,this.b=e}function tVt(t,e){this.a=t,this.b=e}function eVt(t,e){this.a=t,this.b=e}function nVt(t,e){this.a=t,this.b=e}function Bbt(t,e){Gr.call(this,t,e)}function Rbt(t,e){Gr.call(this,t,e)}function rVt(t,e){this.b=t,this.d=e}function jbt(t,e){Gr.call(this,t,e)}function $bt(t,e){Gr.call(this,t,e)}function iVt(t,e){this.a=t,this.b=e}function sVt(t,e){this.a=t,this.b=e}function UR(t,e){Gr.call(this,t,e)}function tC(t,e){Gr.call(this,t,e)}function zbt(t,e){Gr.call(this,t,e)}function qbt(t,e){Gr.call(this,t,e)}function Hbt(t,e){Gr.call(this,t,e)}function Fet(t,e){Gr.call(this,t,e)}function Gbt(t,e){Gr.call(this,t,e)}function Bet(t,e){Gr.call(this,t,e)}function WR(t,e){Gr.call(this,t,e)}function Ret(t,e){Gr.call(this,t,e)}function jet(t,e){Gr.call(this,t,e)}function _M(t,e){Gr.call(this,t,e)}function $et(t,e){Gr.call(this,t,e)}function Vbt(t,e){Gr.call(this,t,e)}function SM(t,e){Gr.call(this,t,e)}function Ubt(t,e){Gr.call(this,t,e)}function LYe(t,e){return Nu(t.c,e)}function MYe(t,e){return Nu(e.b,t)}function IYe(t,e){return-t.b.Je(e)}function Wbt(t,e){return Nu(t.g,e)}function AM(t,e){Gr.call(this,t,e)}function _x(t,e){Gr.call(this,t,e)}function aVt(t,e){this.a=t,this.b=e}function oVt(t,e){this.a=t,this.b=e}function $e(t,e){this.a=t,this.b=e}function eC(t,e){Gr.call(this,t,e)}function nC(t,e){Gr.call(this,t,e)}function LM(t,e){Gr.call(this,t,e)}function zet(t,e){Gr.call(this,t,e)}function KR(t,e){Gr.call(this,t,e)}function rC(t,e){Gr.call(this,t,e)}function qet(t,e){Gr.call(this,t,e)}function YR(t,e){Gr.call(this,t,e)}function $3(t,e){Gr.call(this,t,e)}function MM(t,e){Gr.call(this,t,e)}function iC(t,e){Gr.call(this,t,e)}function sC(t,e){Gr.call(this,t,e)}function IM(t,e){Gr.call(this,t,e)}function XR(t,e){Gr.call(this,t,e)}function z3(t,e){Gr.call(this,t,e)}function QR(t,e){Gr.call(this,t,e)}function cVt(t,e){this.a=t,this.b=e}function uVt(t,e){this.a=t,this.b=e}function lVt(t,e){this.a=t,this.b=e}function hVt(t,e){this.a=t,this.b=e}function fVt(t,e){this.a=t,this.b=e}function dVt(t,e){this.a=t,this.b=e}function la(t,e){this.a=t,this.b=e}function ZR(t,e){Gr.call(this,t,e)}function gVt(t,e){this.a=t,this.b=e}function pVt(t,e){this.a=t,this.b=e}function bVt(t,e){this.a=t,this.b=e}function vVt(t,e){this.a=t,this.b=e}function wVt(t,e){this.a=t,this.b=e}function mVt(t,e){this.a=t,this.b=e}function yVt(t,e){this.b=t,this.a=e}function xVt(t,e){this.b=t,this.a=e}function kVt(t,e){this.b=t,this.a=e}function EVt(t,e){this.b=t,this.a=e}function TVt(t,e){this.a=t,this.b=e}function CVt(t,e){this.a=t,this.b=e}function DYe(t,e){c2n(t.a,u(e,56))}function _Vt(t,e){yan(t.a,u(e,11))}function OYe(t,e){return g8(),e!=t}function SVt(){return Zqt(),new Mge}function AVt(){prt(),this.b=new qs}function LVt(){hq(),this.a=new qs}function MVt(){jwt(),Kvt.call(this)}function Sx(t,e){Gr.call(this,t,e)}function IVt(t,e){this.a=t,this.b=e}function DVt(t,e){this.a=t,this.b=e}function JR(t,e){this.a=t,this.b=e}function OVt(t,e){this.a=t,this.b=e}function NVt(t,e){this.a=t,this.b=e}function PVt(t,e){this.a=t,this.b=e}function FVt(t,e){this.d=t,this.b=e}function Kbt(t,e){this.d=t,this.e=e}function BVt(t,e){this.f=t,this.c=e}function DM(t,e){this.b=t,this.c=e}function Ybt(t,e){this.i=t,this.g=e}function RVt(t,e){this.e=t,this.a=e}function jVt(t,e){this.a=t,this.b=e}function Xbt(t,e){t.i=null,ez(t,e)}function NYe(t,e){t&&ki(cN,t,e)}function $Vt(t,e){return Wit(t.a,e)}function tj(t){return VI(t.c,t.b)}function ec(t){return t?t.dd():null}function Gt(t){return t??null}function Om(t){return typeof t===u6}function Nm(t){return typeof t===Lxt}function ea(t){return typeof t===Oat}function Dp(t,e){return t.Hd().Xb(e)}function ej(t,e){return Xon(t.Kc(),e)}function Av(t,e){return yc(t,e)==0}function PYe(t,e){return yc(t,e)>=0}function aC(t,e){return yc(t,e)!=0}function FYe(t){return""+(On(t),t)}function OM(t,e){return t.substr(e)}function zVt(t){return al(t),t.d.gc()}function Het(t){return Dpn(t,t.c),t}function nj(t){return mC(t==null),t}function oC(t,e){return t.a+=""+e,t}function fo(t,e){return t.a+=""+e,t}function cC(t,e){return t.a+=""+e,t}function hc(t,e){return t.a+=""+e,t}function Vr(t,e){return t.a+=""+e,t}function Qbt(t,e){return t.a+=""+e,t}function qVt(t,e){hs(t,e,t.a,t.a.a)}function Kb(t,e){hs(t,e,t.c.b,t.c)}function BYe(t,e,n){Qse(e,Fst(t,n))}function RYe(t,e,n){Qse(e,Fst(t,n))}function jYe(t,e){Ian(new er(t),e)}function HVt(t,e){t.q.setTime(Vv(e))}function GVt(t,e){rwt.call(this,t,e)}function VVt(t,e){rwt.call(this,t,e)}function Get(t,e){rwt.call(this,t,e)}function UVt(t){Yu(this),VC(this,t)}function Zbt(t){return An(t,0),null}function Gf(t){return t.a=0,t.b=0,t}function WVt(t,e){return t.a=e.g+1,t}function $Ye(t,e){return t.j[e.p]==2}function Jbt(t){return ken(u(t,79))}function KVt(){KVt=Z,Tpe=Wr(Jit())}function YVt(){YVt=Z,zbe=Wr(Ice())}function XVt(){this.b=new kx(Qm(12))}function QVt(){this.b=0,this.a=!1}function ZVt(){this.b=0,this.a=!1}function uC(t){this.a=t,f9.call(this)}function JVt(t){this.a=t,f9.call(this)}function mn(t,e){Os.call(this,t,e)}function Vet(t,e){jm.call(this,t,e)}function q3(t,e){Ybt.call(this,t,e)}function Uet(t,e){U8.call(this,t,e)}function tUt(t,e){NM.call(this,t,e)}function ri(t,e){NR(),ki(nU,t,e)}function Wet(t,e){return Dl(t.a,0,e)}function eUt(t,e){return t.a.a.a.cc(e)}function nUt(t,e){return Gt(t)===Gt(e)}function zYe(t,e){return Ls(t.a,e.a)}function qYe(t,e){return du(t.a,e.a)}function HYe(t,e){return BYt(t.a,e.a)}function cd(t,e){return t.indexOf(e)}function Lv(t,e){return t==e?0:t?1:-1}function rj(t){return t<10?"0"+t:""+t}function GYe(t){return Ar(t),new uC(t)}function rUt(t){return ru(t.l,t.m,t.h)}function o8(t){return ps((On(t),t))}function VYe(t){return ps((On(t),t))}function iUt(t,e){return du(t.g,e.g)}function Bo(t){return typeof t===Lxt}function UYe(t){return t==_w||t==Dy}function WYe(t){return t==_w||t==Iy}function t2t(t){return Ro(t.b.b,t,0)}function sUt(t){this.a=SVt(),this.b=t}function aUt(t){this.a=SVt(),this.b=t}function KYe(t,e){return ue(t.a,e),e}function YYe(t,e){return ue(t.c,e),t}function oUt(t,e){return Rl(t.a,e),t}function XYe(t,e){return lf(),e.a+=t}function QYe(t,e){return lf(),e.a+=t}function ZYe(t,e){return lf(),e.c+=t}function e2t(t,e){D8(t,0,t.length,e)}function A0(){kt.call(this,new n2)}function cUt(){Fj.call(this,0,0,0,0)}function Ax(){ih.call(this,0,0,0,0)}function yo(t){this.a=t.a,this.b=t.b}function Op(t){return t==jh||t==kf}function c8(t){return t==Z0||t==Q0}function uUt(t){return t==t5||t==J4}function H3(t){return t!=H1&&t!=yb}function ml(t){return t.Lg()&&t.Mg()}function lUt(t){return Zj(u(t,118))}function ij(t){return Rl(new Hs,t)}function hUt(t,e){return new U8(e,t)}function JYe(t,e){return new U8(e,t)}function n2t(t,e,n){W$(t,e),K$(t,n)}function sj(t,e,n){Qv(t,e),Xv(t,n)}function m1(t,e,n){yu(t,e),xu(t,n)}function aj(t,e,n){F8(t,e),R8(t,n)}function oj(t,e,n){B8(t,e),j8(t,n)}function Ket(t,e){Z8(t,e),$8(t,t.D)}function r2t(t){BVt.call(this,t,!0)}function fUt(t,e,n){U2t.call(this,t,e,n)}function Np(t){Jp(),tcn.call(this,t)}function dUt(){BR.call(this,"Head",1)}function gUt(){BR.call(this,"Tail",3)}function Yet(t){t.c=Pt(Xn,Ie,1,0,5,1)}function pUt(t){t.a=Pt(Xn,Ie,1,8,5,1)}function bUt(t){mu(t.xf(),new ur(t))}function G3(t){return t!=null?Hi(t):0}function tXe(t,e){return Zm(e,k1(t))}function eXe(t,e){return Zm(e,k1(t))}function nXe(t,e){return t[t.length]=e}function rXe(t,e){return t[t.length]=e}function i2t(t){return ntn(t.b.Kc(),t.a)}function iXe(t,e){return tz(Knt(t.d),e)}function sXe(t,e){return tz(Knt(t.g),e)}function aXe(t,e){return tz(Knt(t.j),e)}function eo(t,e){Os.call(this,t.b,e)}function Mv(t){Fj.call(this,t,t,t,t)}function s2t(t){return t.b&&bat(t),t.a}function a2t(t){return t.b&&bat(t),t.c}function oXe(t,e){R1||(t.b=e)}function Xet(t,e,n){return Ji(t,e,n),n}function vUt(t,e,n){Ji(t.c[e.g],e.g,n)}function cXe(t,e,n){u(t.c,69).Xh(e,n)}function uXe(t,e,n){m1(n,n.i+t,n.j+e)}function lXe(t,e){Mr(Lc(t.a),IQt(e))}function hXe(t,e){Mr(il(t.a),DQt(e))}function lC(t){gi(),vv.call(this,t)}function fXe(t){return t==null?0:Hi(t)}function wUt(){wUt=Z,yht=new e_(pft)}function Nr(){Nr=Z,new mUt,new le}function mUt(){new Cr,new Cr,new Cr}function o2t(){o2t=Z,Cpt(),Q8t=new Cr}function y1(){y1=Z,b.Math.log(2)}function nh(){nh=Z,f0=(CGt(),N4e)}function dXe(){throw rt(new yg(sge))}function gXe(){throw rt(new yg(sge))}function pXe(){throw rt(new yg(age))}function bXe(){throw rt(new yg(age))}function yUt(t){this.a=t,Cvt.call(this,t)}function Qet(t){this.a=t,TR.call(this,t)}function Zet(t){this.a=t,TR.call(this,t)}function Xs(t,e){Lnt(t.c,t.c.length,e)}function Vo(t){return t.a<t.c.c.length}function c2t(t){return t.a<t.c.a.length}function xUt(t,e){return t.a?t.b:e.De()}function du(t,e){return t<e?-1:t>e?1:0}function kUt(t,e){return yc(t,e)>0?t:e}function ru(t,e,n){return{l:t,m:e,h:n}}function vXe(t,e){t.a!=null&&_Vt(e,t.a)}function EUt(t){t.a=new Ht,t.c=new Ht}function cj(t){this.b=t,this.a=new le}function TUt(t){this.b=new Ce,this.a=t}function u2t(t){evt.call(this),this.a=t}function CUt(){BR.call(this,"Range",2)}function _Ut(){r4t(),this.a=new dD(C7t)}function wXe(t,e){Ar(e),Y3(t).Jc(new st)}function mXe(t,e){return Ol(),e.n.b+=t}function yXe(t,e,n){return ki(t.g,n,e)}function xXe(t,e,n){return ki(t.k,n,e)}function kXe(t,e){return ki(t.a,e.a,e)}function V3(t,e,n){return E3t(e,n,t.c)}function l2t(t){return new $e(t.c,t.d)}function EXe(t){return new $e(t.c,t.d)}function nc(t){return new $e(t.a,t.b)}function SUt(t,e){return U3n(t.a,e,null)}function TXe(t){Da(t,null),sa(t,null)}function AUt(t){vrt(t,null),wrt(t,null)}function LUt(){NM.call(this,null,null)}function MUt(){bj.call(this,null,null)}function h2t(t){this.a=t,Cr.call(this)}function CXe(t){this.b=(vn(),new q(t))}function uj(t){t.j=Pt(lEt,te,310,0,0,1)}function _Xe(t,e,n){t.c.Vc(e,u(n,133))}function SXe(t,e,n){t.c.ji(e,u(n,133))}function IUt(t,e){xr(t),t.Gc(u(e,15))}function hC(t,e){return c3n(t.c,t.b,e)}function AXe(t,e){return new JUt(t.Kc(),e)}function Jet(t,e){return Scn(t.Kc(),e)!=-1}function f2t(t,e){return t.a.Bc(e)!=null}function lj(t){return t.Ob()?t.Pb():null}function DUt(t){return Ah(t,0,t.length)}function Et(t,e){return t!=null&&rst(t,e)}function LXe(t,e){t.q.setHours(e),y_(t,e)}function OUt(t,e){t.c&&(Fvt(e),sQt(e))}function MXe(t,e,n){u(t.Kb(n),164).Nb(e)}function IXe(t,e,n){return j3n(t,e,n),n}function NUt(t,e,n){t.a=e^1502,t.b=n^fot}function tnt(t,e,n){return t.a[e.g][n.g]}function x1(t,e){return t.a[e.c.p][e.p]}function DXe(t,e){return t.e[e.c.p][e.p]}function OXe(t,e){return t.c[e.c.p][e.p]}function NXe(t,e){return t.j[e.p]=Hbn(e)}function PXe(t,e){return pmt(t.f,e.tg())}function FXe(t,e){return pmt(t.b,e.tg())}function BXe(t,e){return t.a<fvt(e)?-1:1}function RXe(t,e,n){return n?e!=0:e!=t-1}function jXe(t,e,n){return t.a=e,t.b=n,t}function ud(t,e){return t.a*=e,t.b*=e,t}function fC(t,e,n){return Ji(t.g,e,n),n}function $Xe(t,e,n,r){Ji(t.a[e.g],n.g,r)}function zXe(t,e){Fm(e,t.a.a.a,t.a.a.b)}function PUt(t){t.a=u(In(t.b.a,4),126)}function FUt(t){t.a=u(In(t.b.a,4),126)}function qXe(t){tI(t,Ode),Xst(t,H4n(t))}function u8(){u8=Z,WH=new gR(null)}function d2t(){d2t=Z,d2t(),Oge=new ie}function g2t(){this.Bb|=256,this.Bb|=512}function er(t){this.i=t,this.f=this.i.j}function Ss(t,e,n){WM.call(this,t,e,n)}function hj(t,e,n){Ss.call(this,t,e,n)}function Ou(t,e,n){Ss.call(this,t,e,n)}function BUt(t,e,n){hj.call(this,t,e,n)}function p2t(t,e,n){WM.call(this,t,e,n)}function U3(t,e,n){WM.call(this,t,e,n)}function b2t(t,e,n){Sj.call(this,t,e,n)}function RUt(t,e,n){Sj.call(this,t,e,n)}function jUt(t,e,n){b2t.call(this,t,e,n)}function $Ut(t,e,n){p2t.call(this,t,e,n)}function W3(t,e){this.a=t,TR.call(this,e)}function zUt(t,e){this.a=t,iet.call(this,e)}function qUt(t,e){this.a=t,iet.call(this,e)}function HUt(t,e){this.a=t,iet.call(this,e)}function v2t(t){this.a=t,att.call(this,t.d)}function Pp(t){this.c=t,this.a=this.c.a}function w2t(t,e){this.a=e,iet.call(this,t)}function GUt(t,e){this.a=e,Lrt.call(this,t)}function VUt(t,e){this.a=t,Lrt.call(this,e)}function HXe(t,e){return ewt(Nnt(t.c)).Xb(e)}function m2t(t,e){return iln(t,new _p,e).a}function lr(t,e){return Ar(e),new UUt(t,e)}function UUt(t,e){this.a=e,CR.call(this,t)}function y2t(t){this.b=t,this.a=this.b.a.e}function WUt(t){t.b.Qb(),--t.d.f.d,Rj(t.d)}function KUt(t){w9.call(this,u(Ar(t),35))}function YUt(t){w9.call(this,u(Ar(t),35))}function XUt(){Gr.call(this,"INSTANCE",0)}function x2t(t){if(!t)throw rt(new uM)}function k2t(t){if(!t)throw rt(new Iu)}function E2t(t){if(!t)throw rt(new lc)}function QUt(){QUt=Z,det(),u5e=new HB}function Fn(){Fn=Z,I2=!1,YE=!0}function Th(t){dx.call(this,(On(t),t))}function Il(t){dx.call(this,(On(t),t))}function fj(t){T.call(this,t),this.a=t}function T2t(t){A.call(this,t),this.a=t}function C2t(t){Qk.call(this,t),this.a=t}function ZUt(){uj(this),n$(this),this._d()}function JUt(t,e){this.a=e,CR.call(this,t)}function tWt(t,e){return new Kae(t.a,t.b,e)}function dj(t,e){return t.lastIndexOf(e)}function _2t(t,e,n){return t.indexOf(e,n)}function dC(t){return t==null?Tu:$o(t)}function GXe(t){return t==null?null:t.name}function S2t(t){return t.a!=null?t.a:null}function VXe(t){return kR(t.a)?FQt(t):null}function ent(t,e){return IC(t.a,e)!=null}function Nu(t,e){return!!e&&t.b[e.g]==e}function Iv(t){return t.$H||(t.$H=++ixn)}function UXe(t){return t.l+t.m*f6+t.h*x2}function eWt(t,e){return ue(e.a,t.a),t.a}function nWt(t,e){return ue(e.b,t.a),t.a}function Dv(t,e){return ue(e.a,t.a),t.a}function Ov(t){return Qn(t.a!=null),t.a}function nnt(t){kt.call(this,new Emt(t))}function A2t(t,e){L3t.call(this,t,e,null)}function gC(t){this.a=t,x.call(this,t)}function gj(){gj=Z,ZH=new Os(Ofe,0)}function pj(t,e){return++t.b,ue(t.a,e)}function L2t(t,e){return++t.b,vu(t.a,e)}function WXe(t,e){return Ls(t.n.a,e.n.a)}function KXe(t,e){return Ls(t.c.d,e.c.d)}function YXe(t,e){return Ls(t.c.c,e.c.c)}function gu(t,e){return u(Ai(t.b,e),15)}function XXe(t,e){return t.n.b=(On(e),e)}function QXe(t,e){return t.n.b=(On(e),e)}function pC(t){return Vo(t.a)||Vo(t.b)}function ZXe(t,e,n){return LZt(t,e,n,t.b)}function M2t(t,e,n){return LZt(t,e,n,t.c)}function I2t(t,e,n){u(wI(t,e),21).Fc(n)}function JXe(t,e,n){Fit(t.a,n),qz(t.a,e)}function NM(t,e){V9(),this.a=t,this.b=e}function bj(t,e){Eg(),this.b=t,this.c=e}function rnt(t,e){Ont(),this.f=e,this.d=t}function D2t(t,e){bmt(e,t),this.d=t,this.c=e}function Tg(t){var e;e=t.a,t.a=t.b,t.b=e}function tQe(t){return lf(),!!t&&!t.dc()}function eQe(t){return new Wm(3,t)}function O2t(t,e){return new JWt(t,t.gc(),e)}function nQe(t){return dR(),Ur((TQt(),gge),t)}function Lx(t){this.d=t,er.call(this,t)}function Mx(t){this.c=t,er.call(this,t)}function PM(t){this.c=t,Lx.call(this,t)}function rWt(){q9(),this.b=new w1(this)}function Hd(t){return Bl(t,my),new Yc(t)}function iWt(t){return T8(),parseInt(t)||-1}function Dl(t,e,n){return t.substr(e,n-e)}function l8(t,e,n){return _2t(t,Eu(e),n)}function int(t){return dwt(t.c,t.c.length)}function rQe(t){return t.f!=null?t.f:""+t.g}function snt(t){return t.f!=null?t.f:""+t.g}function ant(t){return Qn(t.b!=0),t.a.a.c}function vj(t){return Qn(t.b!=0),t.c.b.c}function FM(t){Et(t,150)&&u(t,150).Gh()}function wj(t){return t.b=u(PXt(t.a),42)}function N2t(t){i8(),this.b=t,this.a=!0}function sWt(t){SR(),this.b=t,this.a=!0}function aWt(t){t.d=new cWt(t),t.e=new Cr}function oWt(t){if(!t)throw rt(new eh)}function P2t(t){if(!t)throw rt(new uM)}function Pm(t){if(!t)throw rt(new Iu)}function iQe(t){if(!t)throw rt(new Htt)}function Qn(t){if(!t)throw rt(new lc)}function cWt(t){_vt.call(this,t,null,null)}function uWt(){Gr.call(this,"POLYOMINO",0)}function lWt(t,e,n,r){twt.call(this,t,e,n,r)}function sQe(t,e){return Zp(),ln(t,e.e,e)}function aQe(t,e,n){return DR(),n.qg(t,e)}function Vs(t,e){return!!t.q&&kl(t.q,e)}function oQe(t,e){return t>0?e*e/t:e*e*100}function cQe(t,e){return t>0?e/(t*t):e*100}function uQe(t,e,n){return ue(e,rie(t,n))}function lQe(t,e,n){O$(),t.Xe(e)&&n.td(t)}function h8(t,e,n){var r;r=t.Zc(e),r.Rb(n)}function Fm(t,e,n){return t.a+=e,t.b+=n,t}function hQe(t,e,n){return t.a*=e,t.b*=n,t}function BM(t,e,n){return t.a-=e,t.b-=n,t}function F2t(t,e){return t.a=e.a,t.b=e.b,t}function mj(t){return t.a=-t.a,t.b=-t.b,t}function hWt(t){this.c=t,this.a=1,this.b=1}function fWt(t){this.c=t,yu(t,0),xu(t,0)}function dWt(t){Qi.call(this),zC(this,t)}function gWt(t){Iat(),jzt(this),this.mf(t)}function pWt(t,e){V9(),NM.call(this,t,e)}function B2t(t,e){Eg(),bj.call(this,t,e)}function bWt(t,e){Eg(),bj.call(this,t,e)}function vWt(t,e){Eg(),B2t.call(this,t,e)}function yl(t,e,n){Tl.call(this,t,e,n,2)}function ont(t,e){nh(),Pj.call(this,t,e)}function wWt(t,e){nh(),ont.call(this,t,e)}function R2t(t,e){nh(),ont.call(this,t,e)}function mWt(t,e){nh(),R2t.call(this,t,e)}function j2t(t,e){nh(),Pj.call(this,t,e)}function yWt(t,e){nh(),j2t.call(this,t,e)}function xWt(t,e){nh(),Pj.call(this,t,e)}function fQe(t,e){return t.c.Fc(u(e,133))}function $2t(t,e,n){return Eq(mI(t,e),n)}function dQe(t,e,n){return e.Qk(t.e,t.c,n)}function gQe(t,e,n){return e.Rk(t.e,t.c,n)}function cnt(t,e){return Kp(t.e,u(e,49))}function pQe(t,e,n){JC(il(t.a),e,DQt(n))}function bQe(t,e,n){JC(Lc(t.a),e,IQt(n))}function z2t(t,e){e.$modCount=t.$modCount}function bC(){bC=Z,$S=new Gi("root")}function f8(){f8=Z,lN=new vqt,new wqt}function kWt(){this.a=new Hv,this.b=new Hv}function q2t(){zee.call(this),this.Bb|=Ya}function EWt(){Gr.call(this,"GROW_TREE",0)}function vQe(t){return t==null?null:P4n(t)}function wQe(t){return t==null?null:H0n(t)}function mQe(t){return t==null?null:$o(t)}function yQe(t){return t==null?null:$o(t)}function L0(t){t.o==null&&vbn(t)}function Re(t){return mC(t==null||Om(t)),t}function ye(t){return mC(t==null||Nm(t)),t}function Br(t){return mC(t==null||ea(t)),t}function H2t(t){this.q=new b.Date(Vv(t))}function RM(t,e){this.c=t,n8.call(this,t,e)}function yj(t,e){this.a=t,RM.call(this,t,e)}function xQe(t,e){this.d=t,Mtt(this),this.b=e}function G2t(t,e){jrt.call(this,t),this.a=e}function V2t(t,e){jrt.call(this,t),this.a=e}function kQe(t){w3t.call(this,0,0),this.f=t}function U2t(t,e,n){I$.call(this,t,e,n,null)}function TWt(t,e,n){I$.call(this,t,e,n,null)}function EQe(t,e,n){return t.ue(e,n)<=0?n:e}function TQe(t,e,n){return t.ue(e,n)<=0?e:n}function CQe(t,e){return u(Wv(t.b,e),149)}function _Qe(t,e){return u(Wv(t.c,e),229)}function unt(t){return u(Fe(t.a,t.b),287)}function CWt(t){return new $e(t.c,t.d+t.a)}function _Wt(t){return Ol(),uUt(u(t,197))}function Bm(){Bm=Z,t7t=un((_l(),V2))}function SQe(t,e){e.a?fvn(t,e):ent(t.a,e.b)}function SWt(t,e){R1||ue(t.a,e)}function AQe(t,e){return vM(),V8(e.d.i,t)}function LQe(t,e){return Xx(),new Lue(e,t)}function ld(t,e){return tI(e,Yxt),t.f=e,t}function W2t(t,e,n){return n=zl(t,e,3,n),n}function K2t(t,e,n){return n=zl(t,e,6,n),n}function Y2t(t,e,n){return n=zl(t,e,9,n),n}function jM(t,e,n){++t.j,t.Ki(),Brt(t,e,n)}function AWt(t,e,n){++t.j,t.Hi(e,t.oi(e,n))}function LWt(t,e,n){var r;r=t.Zc(e),r.Rb(n)}function MWt(t,e,n){return uxt(t.c,t.b,e,n)}function X2t(t,e){return(e&vi)%t.d.length}function Os(t,e){Gi.call(this,t),this.a=e}function Q2t(t,e){wpt.call(this,t),this.a=e}function lnt(t,e){wpt.call(this,t),this.a=e}function IWt(t,e){this.c=t,Kv.call(this,e)}function DWt(t,e){this.a=t,Ozt.call(this,e)}function $M(t,e){this.a=t,Ozt.call(this,e)}function OWt(t){this.a=(Bl(t,my),new Yc(t))}function NWt(t){this.a=(Bl(t,my),new Yc(t))}function zM(t){return!t.a&&(t.a=new ut),t.a}function PWt(t){return t>8?0:t+1}function MQe(t,e){return Fn(),t==e?0:t?1:-1}function Z2t(t,e,n){return Nx(t,u(e,22),n)}function IQe(t,e,n){return t.apply(e,n)}function FWt(t,e,n){return t.a+=Ah(e,0,n),t}function J2t(t,e){var n;return n=t.e,t.e=e,n}function DQe(t,e){var n;n=t[hot],n.call(t,e)}function OQe(t,e){var n;n=t[hot],n.call(t,e)}function Rm(t,e){t.a.Vc(t.b,e),++t.b,t.c=-1}function BWt(t){Yu(t.e),t.d.b=t.d,t.d.a=t.d}function qM(t){t.b?qM(t.b):t.f.c.zc(t.e,t.d)}function NQe(t,e,n){Wb(),vtt(t,e.Ce(t.a,n))}function PQe(t,e){return cet(mie(t.a,e,!0))}function FQe(t,e){return cet(yie(t.a,e,!0))}function uf(t,e){return wR(new Array(e),t)}function hnt(t){return String.fromCharCode(t)}function BQe(t){return t==null?null:t.message}function RWt(){this.a=new le,this.b=new le}function jWt(){this.a=new F5,this.b=new Kzt}function $Wt(){this.b=new Ta,this.c=new le}function tvt(){this.d=new Ta,this.e=new Ta}function evt(){this.n=new Ta,this.o=new Ta}function xj(){this.n=new wx,this.i=new Ax}function zWt(){this.a=new jJ,this.b=new zX}function qWt(){this.a=new le,this.d=new le}function HWt(){this.b=new qs,this.a=new qs}function GWt(){this.b=new Cr,this.a=new Cr}function VWt(){this.b=new CHt,this.a=new NQ}function UWt(){xj.call(this),this.a=new Ta}function vC(t){ccn.call(this,t,(P$(),Aut))}function nvt(t,e,n,r){Fj.call(this,t,e,n,r)}function RQe(t,e,n){n!=null&&Z$(e,gst(t,n))}function jQe(t,e,n){n!=null&&J$(e,gst(t,n))}function rvt(t,e,n){return n=zl(t,e,11,n),n}function Li(t,e){return t.a+=e.a,t.b+=e.b,t}function na(t,e){return t.a-=e.a,t.b-=e.b,t}function $Qe(t,e){return t.n.a=(On(e),e+10)}function zQe(t,e){return t.n.a=(On(e),e+10)}function qQe(t,e){return e==t||fE(cq(e),t)}function WWt(t,e){return ki(t.a,e,"")==null}function HQe(t,e){return vM(),!V8(e.d.i,t)}function GQe(t,e){Op(t.f)?obn(t,e):Vdn(t,e)}function VQe(t,e){var n;return n=e.Hh(t.a),n}function jm(t,e){mo.call(this,X_+t+S2+e)}function Ix(t,e,n,r){he.call(this,t,e,n,r)}function ivt(t,e,n,r){he.call(this,t,e,n,r)}function KWt(t,e,n,r){ivt.call(this,t,e,n,r)}function YWt(t,e,n,r){Uj.call(this,t,e,n,r)}function fnt(t,e,n,r){Uj.call(this,t,e,n,r)}function svt(t,e,n,r){Uj.call(this,t,e,n,r)}function XWt(t,e,n,r){fnt.call(this,t,e,n,r)}function avt(t,e,n,r){fnt.call(this,t,e,n,r)}function Cn(t,e,n,r){svt.call(this,t,e,n,r)}function QWt(t,e,n,r){avt.call(this,t,e,n,r)}function ZWt(t,e,n,r){iwt.call(this,t,e,n,r)}function JWt(t,e,n){this.a=t,D2t.call(this,e,n)}function tKt(t,e,n){this.c=e,this.b=n,this.a=t}function UQe(t,e,n){return t.d=u(e.Kb(n),164)}function ovt(t,e){return t.Aj().Nh().Kh(t,e)}function cvt(t,e){return t.Aj().Nh().Ih(t,e)}function eKt(t,e){return On(t),Gt(t)===Gt(e)}function hn(t,e){return On(t),Gt(t)===Gt(e)}function dnt(t,e){return cet(mie(t.a,e,!1))}function gnt(t,e){return cet(yie(t.a,e,!1))}function WQe(t,e){return t.b.sd(new NGt(t,e))}function KQe(t,e){return t.b.sd(new PGt(t,e))}function nKt(t,e){return t.b.sd(new FGt(t,e))}function uvt(t,e,n){return t.lastIndexOf(e,n)}function YQe(t,e,n){return Ls(t[e.b],t[n.b])}function XQe(t,e){return Jt(e,(Te(),_O),t)}function QQe(t,e){return du(e.a.d.p,t.a.d.p)}function ZQe(t,e){return du(t.a.d.p,e.a.d.p)}function JQe(t,e){return Ls(t.c-t.s,e.c-e.s)}function rKt(t){return t.c?Ro(t.c.a,t,0):-1}function tZe(t){return t<100?null:new Sp(t)}function Dx(t){return t==G2||t==h0||t==Vc}function iKt(t,e){return Et(e,15)&&lue(t.c,e)}function eZe(t,e){R1||e&&(t.d=e)}function pnt(t,e){var n;return n=e,!!Dyt(t,n)}function lvt(t,e){this.c=t,qnt.call(this,t,e)}function sKt(t){this.c=t,Get.call(this,Iq,0)}function aKt(t,e){atn.call(this,t,t.length,e)}function nZe(t,e,n){return u(t.c,69).lk(e,n)}function kj(t,e,n){return u(t.c,69).mk(e,n)}function rZe(t,e,n){return dQe(t,u(e,332),n)}function hvt(t,e,n){return gQe(t,u(e,332),n)}function iZe(t,e,n){return iae(t,u(e,332),n)}function oKt(t,e,n){return n0n(t,u(e,332),n)}function wC(t,e){return e==null?null:ny(t.b,e)}function fvt(t){return Nm(t)?(On(t),t):t.ke()}function Ej(t){return!isNaN(t)&&!isFinite(t)}function cKt(t){hd(),this.a=(vn(),new Qk(t))}function HM(t){g8(),this.d=t,this.a=new P3}function rh(t,e,n){this.a=t,this.b=e,this.c=n}function uKt(t,e,n){this.a=t,this.b=e,this.c=n}function lKt(t,e,n){this.d=t,this.b=n,this.a=e}function bnt(t){EUt(this),_h(this),Ua(this,t)}function Pu(t){Yet(this),Svt(this.c,0,t.Pc())}function hKt(t){El(t.a),cte(t.c,t.b),t.b=null}function fKt(t){this.a=t,qd(),ku(Date.now())}function dKt(){dKt=Z,IEt=new _,YH=new _}function vnt(){vnt=Z,kEt=new It,Ige=new Ft}function gKt(){gKt=Z,j4e=Pt(Xn,Ie,1,0,5,1)}function pKt(){pKt=Z,r5e=Pt(Xn,Ie,1,0,5,1)}function dvt(){dvt=Z,i5e=Pt(Xn,Ie,1,0,5,1)}function hd(){hd=Z,new xpt((vn(),vn(),io))}function sZe(t){return P$(),Ur((mte(),Nge),t)}function aZe(t){return I1(),Ur((RJt(),$ge),t)}function oZe(t){return Nz(),Ur((VZt(),Uge),t)}function cZe(t){return $$(),Ur((UZt(),Wge),t)}function uZe(t){return gq(),Ur((Dne(),Kge),t)}function lZe(t){return Kf(),Ur((PJt(),Qge),t)}function hZe(t){return Xu(),Ur((FJt(),Jge),t)}function fZe(t){return wu(),Ur((BJt(),epe),t)}function dZe(t){return Lq(),Ur((KVt(),Tpe),t)}function gZe(t){return tw(),Ur((xte(),_pe),t)}function pZe(t){return n6(),Ur((kte(),Ape),t)}function bZe(t){return s_(),Ur((Ete(),Ipe),t)}function vZe(t){return AR(),Ur((EZt(),Dpe),t)}function wZe(t){return z$(),Ur((WZt(),Ype),t)}function mZe(t){return jC(),Ur((jJt(),bbe),t)}function yZe(t){return Wa(),Ur((Jte(),ybe),t)}function xZe(t){return K8(),Ur((yte(),Cbe),t)}function kZe(t){return ew(),Ur(($Jt(),Ibe),t)}function gvt(t,e){if(!t)throw rt(new Pn(e))}function EZe(t){return Gn(),Ur((yee(),Pbe),t)}function pvt(t){Fj.call(this,t.d,t.c,t.a,t.b)}function wnt(t){Fj.call(this,t.d,t.c,t.a,t.b)}function bvt(t,e,n){this.b=t,this.c=e,this.a=n}function Tj(t,e,n){this.b=t,this.a=e,this.c=n}function bKt(t,e,n){this.a=t,this.b=e,this.c=n}function vvt(t,e,n){this.a=t,this.b=e,this.c=n}function vKt(t,e,n){this.a=t,this.b=e,this.c=n}function wvt(t,e,n){this.a=t,this.b=e,this.c=n}function wKt(t,e,n){this.b=t,this.a=e,this.c=n}function Cj(t,e,n){this.e=e,this.b=t,this.d=n}function TZe(t,e,n){return Wb(),t.a.Od(e,n),e}function mnt(t){var e;return e=new Uu,e.e=t,e}function mvt(t){var e;return e=new eqt,e.b=t,e}function GM(){GM=Z,cG=new _Y,uG=new SY}function lf(){lf=Z,Ybe=new bX,Xbe=new yF}function CZe(t){return dz(),Ur((Cte(),Gbe),t)}function _Ze(t){return M1(),Ur((Ste(),Jbe),t)}function SZe(t){return fq(),Ur((xne(),o2e),t)}function AZe(t){return i6(),Ur((Eee(),c2e),t)}function LZe(t){return D$(),Ur((JZt(),u2e),t)}function MZe(t){return Yx(),Ur((zJt(),l2e),t)}function IZe(t){return g4(),Ur((Kte(),e2e),t)}function DZe(t){return Jv(),Ur((GJt(),a2e),t)}function OZe(t){return X$(),Ur((qJt(),h2e),t)}function NZe(t){return v2(),Ur((Ute(),f2e),t)}function PZe(t){return TI(),Ur((YZt(),d2e),t)}function FZe(t){return u2(),Ur((HJt(),p2e),t)}function BZe(t){return nq(),Ur((See(),b2e),t)}function RZe(t){return bI(),Ur((XZt(),v2e),t)}function jZe(t){return nD(),Ur((Cee(),w2e),t)}function $Ze(t){return gE(),Ur((Tee(),m2e),t)}function zZe(t){return oo(),Ur((Wne(),y2e),t)}function qZe(t){return W8(),Ur((UJt(),x2e),t)}function HZe(t){return B0(),Ur((VJt(),E2e),t)}function GZe(t){return x$(),Ur((tJt(),T2e),t)}function VZe(t){return hh(),Ur((Yte(),C2e),t)}function UZe(t){return Zz(),Ur((_ee(),$we),t)}function WZe(t){return YC(),Ur((WJt(),zwe),t)}function KZe(t){return sy(),Ur((Ate(),qwe),t)}function YZe(t){return so(),Ur((XJt(),Kwe),t)}function XZe(t){return w4(),Ur((yne(),Gwe),t)}function QZe(t){return j0(),Ur((YJt(),Vwe),t)}function ZZe(t){return yI(),Ur((ZZt(),Uwe),t)}function JZe(t){return uz(),Ur((KJt(),Ywe),t)}function tJe(t){return a_(),Ur((Wte(),Hwe),t)}function eJe(t){return lI(),Ur((QZt(),Xwe),t)}function nJe(t){return tE(),Ur((ZJt(),Qwe),t)}function rJe(t){return oz(),Ur((JJt(),Zwe),t)}function iJe(t){return gz(),Ur((QJt(),Jwe),t)}function sJe(t){return Zv(),Ur((tte(),fme),t)}function aJe(t){return BC(),Ur((nJt(),vme),t)}function oJe(t){return dd(),Ur((rJt(),Tme),t)}function cJe(t){return E1(),Ur((iJt(),_me),t)}function uJe(t){return Vf(),Ur((eJt(),zme),t)}function lJe(t){return qv(),Ur((sJt(),Kme),t)}function hJe(t){return uE(),Ur((Tte(),Yme),t)}function fJe(t){return f_(),Ur((Aee(),Qme),t)}function dJe(t){return d$(),Ur((cJt(),hye),t)}function gJe(t){return iz(),Ur((oJt(),vye),t)}function pJe(t){return v$(),Ur((aJt(),fye),t)}function bJe(t){return Cz(),Ur((ete(),mye),t)}function vJe(t){return N$(),Ur((uJt(),yye),t)}function wJe(t){return RI(),Ur((nte(),xye),t)}function mJe(t){return Gz(),Ur((_te(),Fye),t)}function yJe(t){return cz(),Ur((ite(),Bye),t)}function xJe(t){return Tz(),Ur((rte(),Rye),t)}function kJe(t){return yE(),Ur((Zte(),i3e),t)}function EJe(t){return GI(),Ur((ste(),s3e),t)}function TJe(t){return MR(),Ur((xZt(),a3e),t)}function CJe(t){return IR(),Ur((yZt(),c3e),t)}function _Je(t){return hI(),Ur((hJt(),u3e),t)}function SJe(t){return iD(),Ur((Xte(),l3e),t)}function AJe(t){return H9(),Ur((kZt(),_3e),t)}function LJe(t){return NI(),Ur((lJt(),S3e),t)}function MJe(t){return Xf(),Ur((Qte(),O3e),t)}function IJe(t){return jg(),Ur((kne(),P3e),t)}function DJe(t){return Qd(),Ur((kee(),F3e),t)}function OJe(t){return cy(),Ur((xee(),q3e),t)}function NJe(t){return ro(),Ur((YVt(),zbe),t)}function PJe(t){return q8(),Ur((KZt(),$be),t)}function FJe(t){return ao(),Ur((tee(),r4e),t)}function BJe(t){return A1(),Ur((ote(),i4e),t)}function RJe(t){return q0(),Ur((Ite(),s4e),t)}function jJe(t){return tq(),Ur((Mee(),a4e),t)}function $Je(t){return $0(),Ur((ate(),c4e),t)}function zJe(t){return jl(),Ur((Mte(),l4e),t)}function qJe(t){return fy(),Ur((Ine(),h4e),t)}function HJe(t){return c4(),Ur((eee(),f4e),t)}function GJe(t){return oa(),Ur((bee(),d4e),t)}function VJe(t){return Qu(),Ur((Lee(),g4e),t)}function UJe(t){return _l(),Ur((Ote(),y4e),t)}function WJe(t){return cl(),Ur((Kne(),x4e),t)}function KJe(t){return be(),Ur((nee(),p4e),t)}function YJe(t){return Az(),Ur((Dte(),k4e),t)}function XJe(t){return Cl(),Ur((Lte(),C4e),t)}function QJe(t){return vE(),Ur((Ene(),R4e),t)}function ZJe(t,e){return On(t),t+(On(e),e)}function JJe(t,e){return qd(),Mr(Wt(t.a),e)}function ttn(t,e){return qd(),Mr(Wt(t.a),e)}function ynt(t,e){this.c=t,this.a=e,this.b=e-t}function mKt(t,e,n){this.a=t,this.b=e,this.c=n}function yvt(t,e,n){this.a=t,this.b=e,this.c=n}function xvt(t,e,n){this.a=t,this.b=e,this.c=n}function yKt(t,e,n){this.a=t,this.b=e,this.c=n}function xKt(t,e,n){this.a=t,this.b=e,this.c=n}function Cg(t,e,n){this.e=t,this.a=e,this.c=n}function kKt(t,e,n){nh(),Owt.call(this,t,e,n)}function xnt(t,e,n){nh(),vwt.call(this,t,e,n)}function kvt(t,e,n){nh(),vwt.call(this,t,e,n)}function Evt(t,e,n){nh(),vwt.call(this,t,e,n)}function EKt(t,e,n){nh(),xnt.call(this,t,e,n)}function Tvt(t,e,n){nh(),xnt.call(this,t,e,n)}function TKt(t,e,n){nh(),Tvt.call(this,t,e,n)}function CKt(t,e,n){nh(),kvt.call(this,t,e,n)}function _Kt(t,e,n){nh(),Evt.call(this,t,e,n)}function VM(t,e){return Ar(t),Ar(e),new WHt(t,e)}function Ox(t,e){return Ar(t),Ar(e),new jKt(t,e)}function etn(t,e){return Ar(t),Ar(e),new $Kt(t,e)}function ntn(t,e){return Ar(t),Ar(e),new YHt(t,e)}function u(t,e){return mC(t==null||rst(t,e)),t}function d8(t){var e;return e=new le,Xrt(e,t),e}function rtn(t){var e;return e=new qs,Xrt(e,t),e}function SKt(t){var e;return e=new Mpt,lit(e,t),e}function UM(t){var e;return e=new Qi,lit(e,t),e}function itn(t){return!t.e&&(t.e=new le),t.e}function stn(t){return!t.c&&(t.c=new xm),t.c}function ue(t,e){return t.c[t.c.length]=e,!0}function AKt(t,e){this.c=t,this.b=e,this.a=!1}function Cvt(t){this.d=t,Mtt(this),this.b=Qtn(t.d)}function LKt(){this.a=";,;",this.b="",this.c=""}function atn(t,e,n){MYt.call(this,e,n),this.a=t}function MKt(t,e,n){this.b=t,GVt.call(this,e,n)}function _vt(t,e,n){this.c=t,RR.call(this,e,n)}function Svt(t,e,n){Y4t(n,0,t,e,n.length,!1)}function Gd(t,e,n,r,s){t.b=e,t.c=n,t.d=r,t.a=s}function otn(t,e){e&&(t.b=e,t.a=($p(e),e.a))}function Avt(t,e,n,r,s){t.d=e,t.c=n,t.a=r,t.b=s}function Lvt(t){var e,n;e=t.b,n=t.c,t.b=n,t.c=e}function Mvt(t){var e,n;n=t.d,e=t.a,t.d=e,t.a=n}function Ivt(t){return Vp(den(Bo(t)?Sh(t):t))}function ctn(t,e){return du(UKt(t.d),UKt(e.d))}function utn(t,e){return e==(be(),Bn)?t.c:t.d}function g8(){g8=Z,XCt=(be(),Bn),gV=Hn}function IKt(){this.b=Xt(ye(De((Zf(),Vut))))}function DKt(t){return Wb(),Pt(Xn,Ie,1,t,5,1)}function ltn(t){return new $e(t.c+t.b,t.d+t.a)}function htn(t,e){return LR(),du(t.d.p,e.d.p)}function knt(t){return Qn(t.b!=0),ch(t,t.a.a)}function ftn(t){return Qn(t.b!=0),ch(t,t.c.b)}function Dvt(t,e){if(!t)throw rt(new zqt(e))}function _j(t,e){if(!t)throw rt(new Pn(e))}function Ovt(t,e,n){a8.call(this,t,e),this.b=n}function WM(t,e,n){Kbt.call(this,t,e),this.c=n}function OKt(t,e,n){lee.call(this,e,n),this.d=t}function Nvt(t){dvt(),_k.call(this),this.th(t)}function NKt(t,e,n){this.a=t,q3.call(this,e,n)}function PKt(t,e,n){this.a=t,q3.call(this,e,n)}function Sj(t,e,n){Kbt.call(this,t,e),this.c=n}function FKt(){L8(),Ien.call(this,(Mp(),Uh))}function BKt(t){return t!=null&&!Hit(t,iA,sA)}function dtn(t,e){return(Ure(t)<<4|Ure(e))&ms}function gtn(t,e){return Qj(),hst(t,e),new lXt(t,e)}function Yb(t,e){var n;t.n&&(n=e,ue(t.f,n))}function p8(t,e,n){var r;r=new Hm(n),Wf(t,e,r)}function ptn(t,e){var n;return n=t.c,Zmt(t,e),n}function Pvt(t,e){return e<0?t.g=-1:t.g=e,t}function Aj(t,e){return Jan(t),t.a*=e,t.b*=e,t}function RKt(t,e,n,r,s){t.c=e,t.d=n,t.b=r,t.a=s}function ni(t,e){return hs(t,e,t.c.b,t.c),!0}function Fvt(t){t.a.b=t.b,t.b.a=t.a,t.a=t.b=null}function Ent(t){this.b=t,this.a=Pv(this.b.a).Ed()}function jKt(t,e){this.b=t,this.a=e,f9.call(this)}function $Kt(t,e){this.a=t,this.b=e,f9.call(this)}function zKt(t,e){MYt.call(this,e,1040),this.a=t}function KM(t){return t==0||isNaN(t)?t:t<0?-1:1}function btn(t){return jx(),Zd(t)==ts(Xp(t))}function vtn(t){return jx(),Xp(t)==ts(Zd(t))}function Nv(t,e){return l_(t,new a8(e.a,e.b))}function wtn(t){return!Va(t)&&t.c.i.c==t.d.i.c}function Lj(t){var e;return e=t.n,t.a.b+e.d+e.a}function qKt(t){var e;return e=t.n,t.e.b+e.d+e.a}function Bvt(t){var e;return e=t.n,t.e.a+e.b+e.c}function HKt(t){return gi(),new Vd(0,t)}function mtn(t){return t.a?t.a:rrt(t)}function mC(t){if(!t)throw rt(new Xk(null))}function GKt(){GKt=Z,Lft=(vn(),new D(iut))}function Mj(){Mj=Z,new N3t((Xtt(),but),(Qtt(),put))}function VKt(){VKt=Z,sEt=Pt(ja,te,19,256,0,1)}function Tnt(t,e,n,r){u3t.call(this,t,e,n,r,0,0)}function ytn(t,e,n){return ki(t.b,u(n.b,17),e)}function xtn(t,e,n){return ki(t.b,u(n.b,17),e)}function ktn(t,e){return ue(t,new $e(e.a,e.b))}function Etn(t,e){return t.c<e.c?-1:t.c==e.c?0:1}function Cnt(t){return t.e.c.length+t.g.c.length}function UKt(t){return t.e.c.length-t.g.c.length}function WKt(t){return t.b.c.length-t.e.c.length}function Ttn(t){return Ol(),(be(),uu).Hc(t.j)}function KKt(t){dvt(),Nvt.cal